{"version":3,"file":"libdom.min.js","sources":["../node_modules/libcore/dist/libcore.es.js","../src/lib/string.js","../src/lib/chain.js","../src/lib/event.js","../src/lib/dom.js","../src/lib/color/rgba.js","../src/lib/color/hex.js","../src/lib/color/hsla.js","../src/lib/color.js","../src/lib/css.js","../src/lib/dimension.js","../src/lib/easing.js","../src/lib/animation.js","../node_modules/rollup-plugin-node-globals/src/global.js","../src/lib/detect/browser.js","../src/lib/detect/event.js","../src/lib/detect/dom.js","../src/lib/detect/css.js","../src/lib/detect/dimension.js","../src/lib/detect/selection.js","../src/lib/detect.js","../src/lib/color/format.js","../src/lib/color/rgb.js","../src/lib/color/hsl.js","../src/lib/selection.js","../src/all.js"],"sourcesContent":["var global$1 = typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {};\n\nvar ROOT = global$1;\nvar browser = isBrowser();\nvar nodeVersions = nodeVersion(browser);\nvar nodejs = nodeVersions && !!nodeVersions.node;\nvar userAgent = getUserAgent(browser,\n                             nodeVersions);\nvar validSignature = hasValidSignature();\nvar ajax = ROOT.XMLHttpRequest || null;\nvar indexOfSupport = typeof Array.prototype.indexOf !== \"undefined\";\n\n\n// detect browser\nfunction isBrowser() {\n    var G = ROOT,\n        win = G.document,\n        doc = G,\n        result = !!doc && !!win &&\n                win.self === (doc.defaultView || doc.parentWindow);\n    // cleanup\n    G = win = doc = null;\n    return result;\n}\n\n// detect nodejs info\nfunction nodeVersion(browser) {\n    var G = ROOT,\n        result = browser ?\n                    false :\n                    ('process' in G && G.process.versions) || false;\n    G = null;\n    \n    return result;\n}\n\n// detect userAgent\nfunction getUserAgent(browser, nodeVersions) {\n    var G = ROOT,\n        result = 'Unknown',\n        proc = null;\n    \n    if (browser) {\n        result = G.navigator.userAgent;\n        \n    }\n    else if (nodeVersions && 'process' in G) {\n        proc = G.process;\n        result = (['Node ',\n                    nodeVersions.node,\n                    '(',\n                        proc.platform,\n                        '; V8 ',\n                        nodeVersions.v8 || 'unknown',\n                        '; arch ',\n                        proc.arch,\n                    ')']).\n                    join('');\n    }\n    \n    G = proc = null;\n    \n    return result;       \n    \n}\n\nfunction hasValidSignature() {\n    var toString = Object.prototype.toString,\n        objectSignature = '[object Object]';\n        \n    return toString.call(null) !== objectSignature ||\n                        toString.call(void(0)) !== objectSignature;\n}\n\n// empty function for unsupported \"console\"\n//function empty() {\n//    \n//}\n//function polyfillConsole() {\n//    var cons = {},\n//        names = [\n//            'log',\n//            'info',\n//            'warn',\n//            'error',\n//            'assert'\n//        ],\n//        original = ROOT.console;\n//    var l;\n//    \n//    // console polyfill so that IE 8 will not have fatal errors\n//    //      for not openning dev tool window\n//    if (!original) {\n//        for (l = names.length; l--;) {\n//            cons[l] = empty;\n//        }\n//    }\n//}\n//\n//polyfillConsole();\n\nROOT = null;\n\n\n\n\n\n\n\n\nvar DETECT = Object.freeze({\n\tbrowser: browser,\n\tnodeVersions: nodeVersions,\n\tnodejs: nodejs,\n\tuserAgent: userAgent,\n\tvalidSignature: validSignature,\n\tajax: ajax,\n\tindexOfSupport: indexOfSupport\n});\n\nvar OBJECT_SIGNATURE = '[object Object]';\nvar ARRAY_SIGNATURE = '[object Array]';\nvar NULL_SIGNATURE = '[object Null]';\nvar UNDEFINED_SIGNATURE = '[object Undefined]';\nvar NUMBER_SIGNATURE = '[object Number]';\nvar STRING_SIGNATURE = '[object String]';\nvar BOOLEAN_SIGNATURE = '[object Boolean]';\nvar METHOD_SIGNATURE = '[object Function]';\nvar DATE_SIGNATURE = '[object Date]';\nvar REGEX_SIGNATURE = '[object RegExp]';\nvar STRING = 'string';\nvar NUMBER = 'number';\nvar BOOLEAN = 'boolean';\nvar OBJECT = Object;\nvar O$1 = OBJECT.prototype;\nvar toString = O$1.toString;\nvar isSignature = objectSignature;\n\n/** is object signature **/\nfunction objectSignature(subject) {\n    if (subject === undefined) {\n        return UNDEFINED_SIGNATURE;\n    }\n    \n    if (subject === null ||\n        (typeof subject === NUMBER && !isFinite(subject))) {\n        return NULL_SIGNATURE;\n    }\n    \n    return toString.call(subject);\n}\n\nfunction isType(subject, type) {\n    var len;\n    switch (type) {\n    case \"scalar\":\n        switch (isSignature(subject)) {\n        case STRING_SIGNATURE:\n        case NUMBER_SIGNATURE:\n        case BOOLEAN_SIGNATURE: return true;\n        }\n        return false;\n    \n    case \"regexp\":\n    case \"regex\":\n        type = \"RegExp\";\n        break;\n    \n    case \"method\":\n        type = \"Function\";\n        break;\n    \n    case \"native\":\n    case \"nativeObject\":\n        return isNativeObject(subject);\n    }\n    if (typeof type === STRING) {\n        len = type.length;\n        if (len) {\n            return isSignature(subject) === '[object ' +\n                                        type.charAt(0).toUpperCase() +\n                                        type.substring(1, len) +\n                                        ']';\n        }\n    }\n    return false;\n}\n\n/** is object **/\nfunction isObject(subject) {\n    return toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nfunction ieIsObject(subject) {\n    return subject !== null &&\n            subject !== void(0) &&\n            toString.call(subject) === OBJECT_SIGNATURE;\n}\n\nfunction isNativeObject(subject) {\n    var O = OBJECT;\n    var constructor, result;\n    \n    if (isSignature(subject) === OBJECT_SIGNATURE) {\n        constructor = subject.constructor;\n        \n        // check constructor\n        if (O.hasOwnProperty.call(subject, 'constructor')) {\n            delete subject.constructor;\n            result = subject.constructor === O;\n            subject.constructor = constructor;\n            return result;\n        }\n        return constructor === O;\n    }\n    \n    return false;\n}\n\n/** is string **/\nfunction isString(subject, allowEmpty) {\n    return (typeof subject === STRING ||\n            O$1.toString.call(subject) === STRING_SIGNATURE) &&\n\n            (allowEmpty === true || subject.length !== 0);\n}\n\n/** is number **/\nfunction isNumber(subject) {\n    return typeof subject === NUMBER && isFinite(subject);\n}\n\n/** is scalar **/\nfunction isScalar(subject) {\n    switch (typeof subject) {\n    case NUMBER: return isFinite(subject);\n    case BOOLEAN:\n    case STRING: return true;\n    }\n    return false;\n}\n\n/** is function **/\nfunction isFunction(subject) {\n    return toString.call(subject) === METHOD_SIGNATURE;\n}\n\n/** is array **/\nfunction isArray(subject, notEmpty) {\n    return toString.call(subject) === ARRAY_SIGNATURE &&\n            (notEmpty !== true || subject.length !== 0);\n}\n\n/** is date **/\nfunction isDate(subject) {\n    return toString.call(subject) === DATE_SIGNATURE;\n}\n\n/** is regexp **/\nfunction isRegExp(subject) {\n    return toString.call(subject) === REGEX_SIGNATURE;\n}\n\n\nfunction isThenable(subject) {\n    // filter non-thenable scalar natives\n    switch (subject) {\n    case undefined:\n    case null:\n    case true:\n    case false:\n    case NaN: return false;\n    }\n    // filter scalar\n    switch (objectSignature(subject)) {\n    case NUMBER_SIGNATURE:\n    case STRING_SIGNATURE:\n    case BOOLEAN_SIGNATURE: return false;\n    }\n    \n    return 'then' in subject && isFunction(subject.then);\n}\n\nfunction isIterable(subject) {\n    \n    // filter non-iterable scalar natives\n    switch (subject) {\n    case undefined:\n    case null:\n    case true:\n    case false:\n    case NaN: return false;\n    }\n    \n    // try signature\n    switch (objectSignature(subject)) {\n    case NUMBER_SIGNATURE:\n    case BOOLEAN_SIGNATURE:\n        // bogus js engines provides readonly \"length\" property to functions\n    case METHOD_SIGNATURE: return false;\n\n    case STRING_SIGNATURE:\n    case ARRAY_SIGNATURE: return true;\n    }\n    \n    return 'length' in subject && isNumber(subject.length);\n}\n\n\nvar object = validSignature ?\n                        isObject : ieIsObject;\n\n/**\n * @external libcore\n */\n\n//import * as STRING from \"./string.js\";\n\nvar Obj = Object;\nvar O = Obj.prototype;\nvar EACH = typeof Obj.getOwnPropertyNames === 'function' ?\n                es5each : es3each;\nvar OHasOwn = O.hasOwnProperty;\nvar ARRAY_INDEX_RE = /^[1-9][0-9]*|0$/;\n    \n\nfunction empty() {\n    \n}\n\nfunction isValidObject(target) {\n    var signature$$1 = isSignature(target);\n    \n    switch (signature$$1) {\n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE: return signature$$1;\n    }\n    return false;\n}\n\n/**\n * Assign properties of source Object to target Object\n * @alias module:libcore.assign\n * @param {Object} target - the target object\n * @param {Object} source - the source object containing properties\n *                          to be assigned to target object\n * @param {Object} [defaults] - object containing default properties\n *                          which will be assigned first to\n *                          target before source.\n * @param {Boolean} [ownedOnly] - only assign properties owned by \"source\"\n * @returns {Object} target object from first parameter\n */\n\n\nfunction apply(value, name) {\n    /*jshint validthis:true */\n    this[name] = value;\n}\n\n/**\n * Relocate and rename properties of source Object into target Object.\n * \n * @name libcore.rehash\n * @function\n * @param {Object|Function} target - the target object\n * @param {Object|Function} source - the source object containing properties\n *                                  to be relocated.\n * @param {Object} access - the rename map object containing \"renamed property\"\n *                          as map object's property name, and\n *                          \"source property name\" as map object's\n *                          property value. (e.g. { \"newname\": \"from source\" })\n * @returns {Object} target object from first parameter\n */\n\n\nfunction applyProperties(value, name) {\n    /*jshint validthis:true */\n    var target = this;\n    target[0][name] = target[1][value];\n    target = null;\n}\n\nfunction assignAll(target, source, defaults) {\n    var onAssign = apply,\n        eachProperty = EACH;\n        \n    if (defaults) {\n        eachProperty(defaults, onAssign, target, false);\n    }\n    \n    eachProperty(source, onAssign, target);\n    \n    return target;\n}\n\n\n/**\n * Iterates all iteratable property of an object calling \"handler\" parameter on\n *      each iteration.\n * @name libcore.each\n * @function\n * @param {Object} subject\n * @param {Function} handler - the callback of each iteration of\n *                          \"subject\" object's property.\n * @param {*} [scope] - \"this\" object to use inside the \"handler\" parameter\n * @param {boolean} [hasown] - performs checking to only include\n *                          source object property that is overridden\n *                          (Object.protototype.hasOwnProperty() returns true)\n *                          when this parameter is set to true.\n * @returns {Object} The subject parameter\n */\nfunction es3each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var name;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    for (name in subject) {\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\nfunction es5each(subject, handler, scope, hasown) {\n    var hasOwn = OHasOwn,\n        noChecking = hasown === false;\n    var names, name, c, l;\n    \n    if (!isValidObject(subject)) {\n        throw new Error(\"Invalid [subject] parameter.\");\n    }\n    \n    if (arguments.length > 3 && typeof hasown !== 'boolean') {\n        throw new Error(\"Invalid [hasown] hasOwnProperty parameter.\");\n    }\n    \n    if (scope === void(0)) {\n        scope = null;\n    }\n    \n    names = Obj.getOwnPropertyNames(subject);\n    for (c = -1, l = names.length; l--;) {\n        name = names[++c];\n        if ((noChecking || hasOwn.call(subject, name)) &&\n            handler.call(scope, subject[name], name, subject) === false) {\n            break;\n        }\n    }\n    \n    return subject;\n}\n\n/**\n * Checks if \"subject\" Object contains overridden property.\n *      The same symantics of Object.prototype.hasOwnProperty.\n *      \n * @name libcore.contains\n * @function\n * @param {Object} subject\n * @param {String} property - Property Name to inspect\n * @returns {boolean} True if subject Object contains property and dirty.\n *                      False if subject Object's property do not exist or not\n *                      dirty.\n */\n\n\n\n\n/**\n * Clears Object properties. This method only deletes overridden properties and\n *      will not fill \"undefined\" to non-owned properties from its prototype.\n * @name libcore.clear\n * @function\n * @param {Object} subject\n * @returns {Object} subject parameter.\n */\n\nfunction applyClear() {\n    delete arguments[2][arguments[1]];\n}\n\nfunction applyFillin(value, name) {\n    /* jshint validthis:true */\n    var target = this;\n    if (!contains(target, name)) {\n        target[name] = value;\n    }\n    target = null;\n}\n\n/**\n * Builds instance of \"Class\" parameter without executing its constructor.\n * @name libcore.instantiate\n * @function\n * @param {Function} Class\n * @param {Object} overrides\n * @returns {Object} Instance created from Class without executing\n *                      its constructor.\n */\n\n\n/**\n * Deep compares two scalar, array, object, regex and date objects\n * @name libcore.compare\n * @function\n * @param {*} object1\n * @param {*} object2\n * @returns {boolean} True if scalar, regex, date, object properties, or array\n *                      items of object1 is identical to object2.\n */\n\n\nfunction compareLookback(object1, object2, references) {\n    var isObject = object,\n        isArray$$1 = isArray,\n        isRegex = isRegExp,\n        isDate$$1 = isDate,\n        onCompare = onEachCompareObject,\n        each = EACH,\n        me = compareLookback,\n        depth = references.length;\n    var len, context;\n    \n    switch (true) {\n        \n    // prioritize same object, same type comparison\n    case object1 === object2: return true;\n    \n    // native object comparison\n    case isObject(object1):\n        if (!isObject(object2)) {\n            return false;\n        }\n        \n        // check if object is in references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        context = [object2, references, true];\n        each(object1, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        context[0] = object1;\n        each(object2, onCompare, context);\n        if (!context[2]) {\n            return false;\n        }\n        \n        references.length = depth;\n        \n        return true;\n    \n    // array comparison\n    case isArray$$1(object1):\n        if (!isArray$$1(object2)) {\n            return false;\n        }\n        \n        // check references\n        if (references.lastIndexOf(object1) !== -1 &&\n            references.lastIndexOf(object2) !== -1) {\n            return true;\n        }\n        \n        len = object1.length;\n        \n        if (len !== object2.length) {\n            return false;\n        }\n        \n        // proceed\n        references[depth] = object1;\n        references[depth + 1] = object2;\n        \n        for (; len--;) {\n            if (!me(object1[len], object2[len], references)) {\n                return false;\n            }\n        }\n        \n        references.length = depth;\n        \n        return true;\n        \n    \n    // RegExp compare\n    case isRegex(object1):\n        return isRegex(object2) && object1.source === object2.source;\n    \n    // Date compare\n    case isDate$$1(object1):\n        return isDate$$1(object2) && object1.toString() === object2.toString();\n    }\n    \n    return false;\n}\n\nfunction onEachCompareObject(value, name) {\n    /* jshint validthis:true */\n    var context = this,\n        target = context[0],\n        result = name in target ?\n                    compareLookback(value, target[name], context[1]) :\n                    false;\n    context[2] = result;\n    \n    return result;\n}\n\n/**\n * Clones scalar, array, object, regex or date objects\n * @name libcore.clone\n * @function\n * @param {*} data - scalar, array, object, regex or date object to clone.\n * @param {boolean} [deep] - apply deep clone to object properties or\n *                          array items.\n * @returns {*} Cloned object based from data\n */\n\n\n\nfunction cloneObject(data, parents, cloned) {\n    var depth = parents.length,\n        recreated = {},\n        context = [recreated,\n                   parents,\n                   cloned];\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    EACH(data, onEachClonedProperty, context);\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction cloneArray(data, parents, cloned) {\n    var depth = parents.length,\n        onProperty = onEachClonedProperty,\n        recreated = [],\n        context = [recreated,\n                   parents,\n                   cloned],\n        c = 0,\n        l = data.length;\n    \n    parents[depth] = data;\n    cloned[depth] = recreated;\n    \n    for (; l--; c++) {\n        onProperty.call(context,\n                        data[c],\n                        c,\n                        data);\n    }\n    \n    parents.length = cloned.length = depth;\n    \n    return recreated;\n}\n\nfunction onEachClonedProperty(value, name) {\n    var /* jshint validthis:true */\n        context = this,\n        isNative = isNativeObject(value),\n        parents = context[1],\n        cloned = context[2];\n    var index;\n    \n    if (isNative || isArray(value)) {\n        index = parents.lastIndexOf(value);\n        value = index === -1 ?\n                    (isNative ?\n                        cloneObject :\n                        cloneArray)(value, parents, cloned) :\n                    \n                    cloned[index];\n    }\n    else {\n        value = clone(value, false);\n    }\n    \n    context[0][name] = value;\n}\n\nfunction onMaxNumericIndex(value, name, context) {\n    if (ARRAY_INDEX_RE.test(name)) {\n        context[0] = Math.max(1 * name, context[0]);\n    }\n}\n\n\n\nfunction assign(target, source, defaults, ownedOnly) {\n        var onAssign = apply,\n            is = isValidObject,\n            eachProperty = EACH,\n            len = arguments.length;\n        \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (typeof defaults === 'boolean') {\n            ownedOnly = defaults;\n            len = 2;\n        }\n        else {\n            ownedOnly = ownedOnly !== false;\n        }\n        \n        if (is(defaults)) {\n            eachProperty(defaults, onAssign, target, ownedOnly);\n        }\n        else if (len > 2) {\n            throw new Error(\"Invalid [defaults] parameter.\");\n        }\n        \n        eachProperty(source, onAssign, target, ownedOnly);\n        \n        return target;\n    }\n\nfunction rehash(target, source, access) {\n        var is = isValidObject,\n            context = [target, source];\n            \n        if (!is(target)) {\n            throw new Error(\"Invalid [target] parameter.\");\n        }\n        \n        if (!is(source)) {\n            throw new Error(\"Invalid [source] parameter.\");\n        }\n        \n        if (!object(access)) {\n            throw new Error(\"Invalid [access] parameter.\");\n        }\n        \n        EACH(access, applyProperties, context);\n        context = context[0] = context[1] =  null;\n        return target;\n    }\n\nfunction contains(subject, property) {\n    \n        if (!isString(property) && !isNumber(property)) {\n            throw new Error(\"Invalid [property] parameter.\");\n        }\n        \n        return OHasOwn.call(subject, property);\n    }\n\nfunction instantiate(Class, overrides) {\n        empty.prototype = Class.prototype;\n        \n        if (object(overrides)) {\n            return assign(new empty(), overrides);\n        }\n        return new empty();\n    }\n    \nfunction clone(data, deep) {\n        var isNative = isNativeObject(data);\n        \n        deep = deep === true;\n        \n        if (isNative || isArray(data)) {\n            return deep ?\n                        \n                        (isNative ? cloneObject : cloneArray)(data, [], []) :\n                        \n                        (isNative ? assignAll({}, data) : data.slice(0));\n        }\n        \n        if (isRegExp(data)) {\n            return new RegExp(data.source, data.flags);\n        }\n        else if (isDate(data)) {\n            return new Date(data.getFullYear(),\n                        data.getMonth(),\n                        data.getDate(),\n                        data.getHours(),\n                        data.getMinutes(),\n                        data.getSeconds(),\n                        data.getMilliseconds());\n        }\n        \n        return data;\n    }\n    \nfunction compare(object1, object2) {\n        return compareLookback(object1, object2, []);\n    }\n    \nfunction fillin(target, source, hasown) {\n        if (!isValidObject(target)) {\n            throw new Error(\"Invalid [target] parameter\");\n        }\n        EACH(source, applyFillin, target, hasown !== false);\n        return target;\n    }\n\nfunction clear(subject) {\n        EACH(subject, applyClear, null, true);\n        return subject;\n    }\n    \nfunction maxObjectIndex(subject) {\n        var context;\n        \n        if (isArray(subject)) {\n            return subject.length - 1;\n        }\n        \n        if (isValidObject(subject)) {\n            \n            context = [-1];\n            EACH(subject, onMaxNumericIndex, context);\n            return context[0];\n        }\n        return false;\n    }\n\n//export default {\n//        each: EACH,\n//        assign: assign,\n//        rehash: rehash,\n//        contains: contains,\n//        instantiate: instantiate,\n//        clone: clone,\n//        compare: compare,\n//        fillin: fillin,\n//        clear: clear,\n//        maxObjectIndex: maxObjectIndex\n//    };\n\nvar G = global$1;\nvar NAME_RE = /^(([^\\.]+\\.)*)((before|after)\\:)?([a-zA-Z0-9\\_\\-\\.]+)$/;\nvar POSITION_BEFORE = 1;\nvar POSITION_AFTER = 2;\nvar RUNNERS = {};\nvar NAMESPACES = {};\nvar NATIVE_SET_IMMEDIATE = !!G.setImmediate;\nvar CHAIN = {};\n\n    \nfunction set(name, handler) {\n    var parsed = parseName(name),\n        list = RUNNERS;\n    var access, items;\n    \n    if (parsed && handler instanceof Function) {\n        name = parsed[1];\n        access = ':' + name;\n        if (!(access in list)) {\n            list[access] = {\n                name: name,\n                before: [],\n                after: []\n            };\n        }\n        \n        items = list[access][getPositionAccess(parsed[0])];\n        \n        items[items.length] = handler;\n    }\n    \n    return CHAIN;\n}\n\n\nfunction run(name, args, scope) {\n    var runners = get(name);\n    var c, l;\n\n    if (runners) {\n        if (typeof scope === 'undefined') {\n            scope = null;\n        }\n        if (!(args instanceof Array)) {\n            args = [];\n        }\n        \n        for (c = -1, l = runners.length; l--;) {\n            runners[++c].apply(scope, args);\n        }\n        \n    }\n    \n    return CHAIN;\n}\n\nfunction get(name) {\n    var list = RUNNERS,\n        parsed = parseName(name);\n    var access;\n    \n    if (parsed) {\n        access = ':' + parsed[1];\n        \n        if (access in list) {\n            return list[access][getPositionAccess(parsed[0])];\n            \n        }\n    }\n    \n    return void(0);\n}\n\nfunction getPositionAccess(input) {\n    return  input === POSITION_BEFORE ? 'before' : 'after';\n}\n\nfunction parseName(name) {\n    var match = isString(name) && name.match(NAME_RE);\n    var position, namespace;\n    \n    \n    \n    \n    if (match) {\n        namespace = match[1];\n        position = match[4] === 'before' ? POSITION_BEFORE : POSITION_AFTER;\n        //console.log('parsed ', name, ' = ', [position, (namespace || '') + match[5]]);\n        return [position, (namespace || '') + match[5]];\n        \n    }\n    \n    return void(0);\n    \n}\n\nfunction middlewareNamespace(name) {\n    var list = NAMESPACES;\n    var access, register, run;\n \n    if (isString(name)) {\n        access = name + '.';\n        if (!(access in list)) {\n            run = createRunInNamespace(access);\n            register = createRegisterInNamespace(access);\n            list[access] = register.chain = run.chain = {\n                                                        run: run,\n                                                        register: register\n                                                    };\n        }\n        return list[access];\n    }\n    return void(0);\n}\n\nfunction createRunInNamespace(ns) {\n    function nsRun(name, args, scope) {\n        run(ns + name, args, scope);\n        return nsRun.chain;\n    }\n    return nsRun;\n}\n\nfunction createRegisterInNamespace(ns) {\n    function nsRegister(name, handler) {\n        set(ns + name, handler);\n        return nsRegister.chain;\n    }\n    return nsRegister;\n}\n\n\nfunction timeoutAsync(handler) {\n    return G.setTimeout(handler, 1);\n}\n\nfunction clearTimeoutAsync(id) {\n    return G.clearTimeout(id);\n}\n\nfunction nativeSetImmediate (fn) {\n    return G.setImmediate(fn);\n}\n\nfunction nativeClearImmediate(id) {\n    return G.clearImmediate(id);\n}\n\nfunction setModuleChain(chain) {\n        CHAIN = chain;\n    }\n    \nvar setAsync = NATIVE_SET_IMMEDIATE ?\n                        nativeSetImmediate : timeoutAsync;\nvar clearAsync = NATIVE_SET_IMMEDIATE ?\n                        nativeClearImmediate : clearTimeoutAsync;\n\n// motivation of set operations:\n// https://www.probabilitycourse.com/chapter1/1_2_2_set_operations.php\n//DETECT = require('./detect.js'),\n    //OBJECT = require('./object.js'),\n    //TYPE = require('./type.js'),\n\nvar INVALID_ARRAY1 = 'Invalid [array1] parameter.';\nvar INVALID_ARRAY2 = 'Invalid [array2] parameter.';\nvar A = Array.prototype;\n\nfunction indexOf(subject) {\n    /*jshint validthis:true */\n    var array$$1 = this,\n        l = array$$1.length,\n        c = -1;\n    \n    for (; l--;) {\n        if (subject === array$$1[++c]) {\n            array$$1 = null;\n            return c;\n        }\n    }\n    \n    return -1;\n}\n\nfunction lastIndexOf(subject) {\n    /*jshint validthis:true */\n    var array$$1 = this,\n        l = array$$1.length;\n        \n    for (; l--;) {\n        if (subject === array$$1[l]) {\n            array$$1 = null;\n            return l;\n        }\n    }\n    \n    return -1;\n}\n\n/**\n * Creates a union of two arrays\n * @name libcore.unionList\n * @function\n * @param {Array} array1 - source array\n * @param {Array} array2 - array to merge\n * @param {boolean} [clone] - Filters array1 parameter with union of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing union of array1 and array2\n *                          otherwise.\n * @returns {Array} union of first two array parameters\n */\nfunction union(array1, array2, clone$$1) {\n    var isarray = isArray;\n    var subject, l, len, total;\n    \n    if (!isarray(array1)) {\n        throw new Error(INVALID_ARRAY1);\n    }\n    \n    if (!isarray(array2)) {\n        throw new Error(INVALID_ARRAY2);\n    }\n    \n    array1 = clone$$1 === true ? array1.slice(0) : array1;\n    \n    // apply\n    array1.push.apply(array1, array2);\n    total = array1.length;\n    \n    // apply unique\n    found: for (l = total; l--;) {\n        subject = array1[l];\n        \n        // remove if not unique\n        for (len = total; len--;) {\n            if (l !== len && subject === array1[len]) {\n                total--;\n                array1.splice(l, 1);\n                continue found;\n            }\n        }\n    }\n    \n    return array1;\n}\n\n/**\n * Creates an intersection of two arrays\n * @name libcore.intersect\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to intersect\n * @param {boolean} [clone] - Filters array1 parameter with intersection of\n *                          array2 if this parameter is false. It returns a\n *                          new set of array containing intersection of\n *                          array1 and array2 otherwise.\n * @returns {Array} intersection of first two array parameters\n */\nfunction intersect(array1, array2, clone$$1) {\n    var isarray = isArray;\n    var subject, l1, l2, total1, total2;\n    \n    if (!isarray(array1)) {\n        throw new Error(INVALID_ARRAY1);\n    }\n    \n    if (!isarray(array2)) {\n        throw new Error(INVALID_ARRAY2);\n    }\n    \n    total1 = array1.length;\n    total2 = array2.length;\n        \n    // create a copy\n    array1 = clone$$1 === true ? array1.slice(0) : array1;\n    \n    found: for (l1 = total1; l1--;) {\n        subject = array1[l1];\n        foundSame: for (l2 = total2; l2--;) {\n            if (subject === array2[l2]) {\n                // intersect must be unique\n                for (l2 = total1; l2--;) {\n                    if (l2 !== l1 && subject === array1[l2]) {\n                        break foundSame;\n                    }\n                }\n                continue found;\n            }\n        }\n        array1.splice(l1, 1);\n        total1--;\n    }\n    \n    return array1;\n}\n\n\n/**\n * Creates a difference of two arrays\n * @name libcore.differenceList\n * @function\n * @param {Array} array1 - source array \n * @param {Array} array2 - array to be applied as difference of array1\n * @param {boolean} [clone] - Filters array1 parameter with difference of array2\n *                          if this parameter is false. It returns a new set\n *                          of array containing difference of\n *                          array1 and array2 otherwise.\n * @returns {Array} difference of first two array parameters\n */\nfunction difference(array1, array2, clone$$1) {\n    var isarray = isArray;\n    var subject, l1, l2, total1, total2;\n    \n    if (!isarray(array1)) {\n        throw new Error(INVALID_ARRAY1);\n    }\n    \n    if (!isarray(array2)) {\n        throw new Error(INVALID_ARRAY2);\n    }\n    \n    total1 = array1.length;\n    total2 = array2.length;\n        \n    // create a copy\n    array1 = clone$$1 === true ? array1.slice(0) : array1;\n    \n    found: for (l1 = total1; l1--;) {\n        subject = array1[l1];\n        \n        // remove if found\n        for (l2 = total2; l2--;) {\n            if (subject === array2[l2]) {\n                array1.splice(l1, 1);\n                total1--;\n                continue found;\n            }\n        }\n        \n        // diff must be unique\n        for (l2 = total1; l2--;) {\n            if (l2 !== l1 && subject === array1[l2]) {\n                array1.splice(l1, 1);\n                total1--;\n                continue found;\n            }\n        }\n    }\n    \n    return array1;\n}\n\n\n\n\n\n// apply polyfill\nif (!indexOfSupport) {\n    assign(A, {\n        indexOf: indexOf,\n        lastIndexOf: lastIndexOf\n    });\n}\n\nvar HALF_BYTE = 0x80;\nvar SIX_BITS = 0x3f;\nvar ONE_BYTE = 0xff;\nvar fromCharCode = String.fromCharCode;\nvar BASE64_MAP =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar NOT_BASE64_RE = /[^a-zA-Z0-9\\+\\/\\=]/g;\nvar BASE64_EXCESS_REMOVE_RE = /[^a-zA-Z0-9\\+\\/]/;\nvar CAMEL_RE = /[^a-z]+[a-z]/ig;\nvar UNCAMEL_RE = /\\-*[A-Z]/g;\nvar INVALID_SUBJECT = 'Invalid [subject] parameter.';\n\nfunction base64Encode(subject) {\n    var map = BASE64_MAP,\n        buffer = [],\n        bl = 0,\n        c = -1,\n        excess = false,\n        pad = map.charAt(64);\n    var l, total, code, flag, end, chr;\n    \n    if (!isString(subject, true)) {\n        throw new Error(INVALID_SUBJECT);\n    }\n    \n    // decode to ascii\n    subject = utf16ToUtf8(subject);\n    l = total = subject.length;\n    \n    for (; l--;) {\n        code = subject.charCodeAt(++c);\n        flag = c % 3;\n        \n        switch (flag) {\n        case 0:\n            chr = map.charAt((code & 0xfc) >> 2);\n            excess = (code & 0x03) << 4;\n            break;\n        case 1:\n            chr = map.charAt(excess | (code & 0xf0) >> 4);\n            excess = (code & 0x0f) << 2;\n            break;\n        case 2:\n            chr = map.charAt(excess | (code & 0xc0) >> 6);\n            excess = code & 0x3f;\n        }\n        buffer[bl++] = chr;\n        \n        end = !l;\n        if ((end || flag === 2)) {\n            buffer[bl++] = map.charAt(excess);\n        }\n        \n        \n        if (!l) {\n            l = bl % 4;\n            for (l = l && 4 - l; l--;) {\n                buffer[bl++] = pad;\n            }\n            break;\n        }\n    }\n    \n    return buffer.join('');\n    \n}\n\nfunction base64Decode(subject) {\n    var map = BASE64_MAP,\n        oneByte = ONE_BYTE,\n        buffer = [],\n        bl = 0,\n        c = -1,\n        code2str = fromCharCode;\n    var l, code, excess, chr, flag;\n    \n    if (!isString(subject, true) || NOT_BASE64_RE.test(subject)) {\n        throw new Error(INVALID_SUBJECT);\n    }\n    \n    subject = subject.replace(BASE64_EXCESS_REMOVE_RE, '');\n    l = subject.length;\n    \n    for (; l--;) {\n        code = map.indexOf(subject.charAt(++c));\n        flag = c % 4;\n        \n        switch (flag) {\n        case 0:\n            chr = 0;\n            break;\n        case 1:\n            chr = ((excess << 2) | (code >> 4)) & oneByte;\n            break;\n        case 2:\n            chr = ((excess << 4) | (code >> 2)) & oneByte;\n            break;\n        case 3:\n            chr = ((excess << 6) | code) & oneByte;\n        }\n        \n        excess = code;\n        \n        if (!l && flag < 3 && chr < 64) {\n            break;\n        }\n\n        if (flag) {\n            buffer[bl++] = code2str(chr);\n        }\n    }\n    \n    //return decodeURIComponent(escape(buffer.join(\"\")));\n    \n    return utf8ToUtf16(buffer.join(\"\"));\n    //return binbuffer.join(\"\");\n    \n}\n\n\nfunction utf16ToUtf8(subject) {\n    var half = HALF_BYTE,\n        sixBits = SIX_BITS,\n        code2char = fromCharCode,\n        utf8 = [],\n        ul = 0;\n    var code, c, l;\n    \n    if (!isString(subject, true)) {\n        throw new Error(INVALID_SUBJECT);\n    }\n    \n    for (c = -1, l = subject.length; l--;) {\n        code = subject.charCodeAt(++c);\n        \n        if (code < half) {\n            utf8[ul++] = code2char(code);\n        }\n        else if (code < 0x800) {\n            utf8[ul++] = code2char(0xc0 | (code >> 6));\n            utf8[ul++] = code2char(half | (code & sixBits));\n        }\n        else if (code < 0xd800 || code > 0xdfff) {\n            utf8[ul++] = code2char(0xe0 | (code >> 12));\n            utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n            utf8[ul++] = code2char(half | (code  & sixBits));\n        }\n        else {\n            l--;\n            code = 0x10000 + (((code & 0x3ff)<<10)\n                      | (subject.charCodeAt(++c) & 0x3ff));\n            \n            utf8[ul++] = code2char(0xf0 | (code >> 18));\n            utf8[ul++] = code2char(half | ((code >> 12) & sixBits));\n            utf8[ul++] = code2char(half | ((code >> 6) & sixBits));\n            utf8[ul++] = code2char(half | (code >> sixBits));\n            \n        }\n    }\n    \n    return utf8.join('');\n}\n\n\n// based from https://gist.github.com/weishuaiwang/4221687\nfunction utf8ToUtf16(subject) {\n    var code2char = fromCharCode;\n    var utf16, ul, c, l, code;\n    \n    if (!isString(subject, true)) {\n        throw new Error(INVALID_SUBJECT);\n    }\n    \n    utf16 = [];\n    ul = 0;\n    for (c = -1, l = subject.length; l--;) {\n        code = subject.charCodeAt(++c);\n        switch (code >> 4) {\n        case 0:\n        case 1:\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n        case 6:\n        case 7:\n            // 0xxxxxxx\n            utf16[ul++] = subject.charAt(c);\n            break;\n        case 12:\n        case 13:\n            // 110x xxxx 10xx xxxx\n            l--;\n            utf16[ul++] = code2char(((code & 0x1F) << 6) |\n                                    (subject.charCodeAt(++c) & 0x3F));\n            break;\n        case 14:\n            // 1110 xxxx10xx xxxx10xx xxxx\n            utf16[ul++] = code2char(((code & 0x0F) << 12) |\n                                    ((subject.charCodeAt(++c) & 0x3F) << 6) |\n                                    ((subject.charCodeAt(++c) & 0x3F) << 0));\n            l -= 2;\n            break;\n        }\n    }\n    \n    return utf16.join(\"\");\n}\n\nfunction camelize(subject) {\n    return subject.replace(CAMEL_RE, applyCamelize);\n}\n\nfunction applyCamelize(all) {\n    return all.charAt(all.length - 1).toUpperCase();\n}\n\nfunction uncamelize(subject) {\n    return subject.replace(UNCAMEL_RE, applyUncamelize);\n}\n\nfunction applyUncamelize(all) {\n    return '-' + all.charAt(all.length -1).toLowerCase();\n}\n\n//TYPE = require(\"./type.js\"),\n//    OBJECT = require(\"./object.js\"),\n\n\nvar NUMERIC_RE = /^([1-9][0-9]*|0)$/;\nvar ARRAY_INDEX_RE$1 = /^([1-9][0-9]*|0|)$/;\nvar ERROR_NATIVE_OBJECT = \"Root [subject] requires native Object to accept \" +\n                            \"non-numeric property name.\";\nvar ERROR_PATH_INVALID = 'Invalid [path] parameter.';\nvar START = \"start\";\nvar START_ESCAPED = \"start_escaped\";\nvar QUEUE = \"queue\";\nvar END = \"end\";\nvar END_EMPTY = \"end_empty\";\nvar STATE = {\n        \"start\": {\n            \"[\": \"bracket_start\",\n            \"'\": \"any_sq_start\",\n            '\"': \"any_dq_start\",\n            \"default\": \"any\",\n            \"\\\\\": \"any_escape\"\n        },\n        \n        \"bracket_start\": {\n            \"]\": \"property_end\",\n            \"'\": \"sq_start\",\n            '\"': \"dq_start\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"any_sq_start\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq\": {\n            \"'\": \"property_end\",\n            \"\\\\\": \"any_sq_escape\",\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_sq_escape\": {\n            \"default\": \"any_sq\"\n        },\n        \n        \"any_dq_start\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq\": {\n            '\"': \"property_end\",\n            \"\\\\\": \"any_dq_escape\",\n            \"default\": \"any_dq\"\n        },\n        \n        \"any_dq_escape\": {\n            \"default\": \"any_dq\"\n        },\n        \n        \"sq_start\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq\": {\n            \"'\": \"bracket_end\",\n            \"\\\\\": \"sq_escape\",\n            \"default\": \"sq\"\n        },\n        \"sq_escape\": {\n            \"default\": \"sq\"\n        },\n        \"dq_start\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq\": {\n            '\"': \"bracket_end\",\n            \"\\\\\": \"dq_escape\",\n            \"default\": \"dq\"\n        },\n        \"dq_escape\": {\n            \"default\": \"dq\"\n        },\n        \n        \"bracket_any\": {\n            \"]\": \"property_end\",\n            \"\\\\\": \"bracket_any_escape\",\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_any_escape\": {\n            \"default\": \"bracket_any\"\n        },\n        \n        \"bracket_end\": {\n            \"]\": \"property_end\"\n        },\n        \n        \"any\": {\n            \".\": \"start\",\n            \"\\\\\": \"any_escape\",\n            \"[\": \"bracket_start\",\n            \"default\": \"any\"\n        },\n        \"any_escape\": {\n            \"default\": \"any\"\n        },\n        \n        \"property_end\": {\n            \"[\": \"bracket_start\",\n            \".\": \"start\"\n        }\n    };\nvar STATE_ACTION = {\n        \"start\": {\n            \"any\": START,\n            \"any_escape\": START_ESCAPED\n        },\n        \n        \"any_sq_start\": {\n            \"any_sq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_sq\": {\n            \"any_sq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_sq_escape\": {\n            \"any_sq\": QUEUE\n        },\n        \n        \"any_dq_start\": {\n            \"any_dq\": START,\n            \"property_end\": END_EMPTY\n            \n        },\n        \n        \"any_dq\": {\n            \"any_dq\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"any_dq_escape\": {\n            \"any_dq\": QUEUE\n        },\n        \n        \"any\": {\n            \"any\": QUEUE,\n            \"start\": END,\n            \"bracket_start\": END\n        },\n        \"any_escape\": {\n            \"any\": QUEUE,\n            \"bracket_start\": END,\n            \"start\": START\n        },\n        \n        \"bracket_start\": {\n            \"bracket_any\": START,\n            \"property_end\": END_EMPTY\n        },\n        \n        \"bracket_any\": {\n            \"bracket_any\": QUEUE,\n            \"property_end\": END\n        },\n        \n        \"bracket_any_escape\": {\n            \"bracket_any\": QUEUE\n        },\n        \n        \"sq_start\": {\n            \"sq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"sq\": {\n            \"sq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"sq_escape\": {\n            \"sq\": QUEUE\n        },\n        \n        \"dq_start\": {\n            \"dq\": START,\n            \"bracket_end\": END_EMPTY\n        },\n        \"dq\": {\n            \"dq\": QUEUE,\n            \"bracket_end\": END\n        },\n        \"dq_escape\": {\n            \"dq\": QUEUE\n        }\n    };\n\n\n\n\nfunction onParsePath(property, last, context) {\n    context[context.length] = property;\n}\n\n\n\nfunction isAccessible(subject, item) {\n    var signature$$1 = isSignature(subject);\n    \n    switch (signature$$1) {\n    case NUMBER_SIGNATURE:\n        return isFinite(subject) && item in Number.prototype && signature$$1;\n        \n    case STRING_SIGNATURE:\n        return item in String.prototype && signature$$1;\n    \n    case BOOLEAN_SIGNATURE:\n        return item in Boolean.prototype && signature$$1;\n    \n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE:\n        if (item in subject) {\n            return signature$$1;\n        }\n    }\n    return false;\n}\n\nfunction isWritable(subject) {\n    var signature$$1 = isSignature(subject);\n    \n    switch (signature$$1) {\n    case REGEX_SIGNATURE:\n    case DATE_SIGNATURE:\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n    case METHOD_SIGNATURE:\n        return signature$$1;\n    }\n    return false;\n}\n\nfunction isJSONWritable(subject) {\n    var signature$$1 = isSignature(subject);\n    \n    switch (signature$$1) {\n    case ARRAY_SIGNATURE:\n    case OBJECT_SIGNATURE:\n        return signature$$1;\n    }\n    return false;\n}\n\nfunction findCallback(item, last, operation) {\n    var subject = operation[1];\n    \n    if (!isAccessible(subject, item)) {\n        operation[0] = void(0);\n        return false;\n    }\n    \n    operation[last ? 0 : 1] = subject[item];\n    return true;\n}\n\n\n\n\n\n\n\nfunction onPopulatePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        // populate\n        if (writable) {\n            // set object\n            if (!(item in subject)) {\n                subject[item] = {};\n                success = true;\n                \n            }\n            // allow only when writable\n            else if (iswritable(subject[item])) {\n                success = true;\n            }\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        \n    }\n   \n    return success;\n\n}\n\n\n\n\nfunction onRemovePath(item, last, context) {\n    var subject = context[1],\n        iswritable = isWritable,\n        writable = iswritable(subject),\n        U = void(0),\n        success = false;\n        \n    // populate\n    if (!last) {\n        if (writable && item in subject) {\n            \n            // go to next\n            if (iswritable(subject[item])) {\n                success = true;\n            }\n            // still a success, nothing to remove\n            else {\n                context[3] = true;\n            }\n\n        }\n    \n        context[1] = success ? subject[item] : U;\n        \n    }\n    // end it with writable state?\n    else {\n        success = writable;\n        context[2] = success && item;\n        context[3] = true;\n    }\n    \n    return success;\n}\n\n\n\n\n\n\n\nfunction existsCallback(item, last, context) {\n    var subject = context[0],\n        exists = isAccessible(subject, item);\n    \n    if (exists) {\n        context[0] = subject[item];\n    }\n    \n    if (last) {\n        context[1] = !!exists;\n    }\n    \n    return exists;\n}\n\n\n\n\nfunction jsonParsePath(path) {\n        var items = [];\n        \n        return jsonEach(path, onParsePath, items) && items.length ?\n                    items : null;\n        \n    }\n    \nfunction jsonFind(path, object$$1) {\n        var operation = [void(0), object$$1];\n        jsonEach(path, findCallback, operation);\n        operation[1] = null;\n        return operation[0];\n    }\n    \nfunction jsonCompare(path, object1, object2) {\n        return compare(jsonFind(path, object1), object2);\n    }\n\nfunction jsonClone(path, object$$1, deep) {\n        return clone(jsonFind(path, object$$1), deep === true);\n    }\n    \nfunction jsonEach(path, callback, arg1, arg2, arg3, arg4, arg5) {\n        var map = STATE,\n            action = STATE_ACTION,\n            start = START,\n            start_escaped = START_ESCAPED,\n            queue = QUEUE,\n            end = END,\n            end_empty = END_EMPTY,\n            DEFAULT = \"default\";\n        var c, l, chr, state, stateObject, items, len, last,\n            next, actionObject, buffer, bl, buffered, pending,\n            start_queue, restart;\n        \n        if (!isString(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        if (!isFunction(callback)) {\n            throw new Error(\"Invalid [callback] parameter\");\n        }\n        \n        buffer = bl = false;\n        state = \"start\";\n        stateObject = map.start;\n        \n        items = [];\n        len = pending = 0;\n        \n        for (c = -1, l = path.length; l--;) {\n            buffered = false;\n            chr = path.charAt(++c);\n            last = !l;\n            \n            // find next state\n            if (chr in stateObject) {\n                next = stateObject[chr];\n            }\n            else if (DEFAULT in stateObject) {\n                next = stateObject[DEFAULT];\n            }\n            else {\n                return null;\n            }\n            \n            // check for actions\n            if (state in action) {\n                actionObject = action[state];\n                if (next in actionObject) {\n                    start_queue = restart = false;\n                    \n                    switch (actionObject[next]) {\n                    \n                    case start:\n                        start_queue = true;\n                    /* falls through */\n                    case start_escaped:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            \n                            if (start_queue && !last) {\n                                buffer = [chr];\n                                bl = 1;\n                            }\n                            else {\n                                buffer = [];\n                                bl = 0;\n                            }\n                            \n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case queue:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            buffer[bl++] = chr;\n                            // exit if not last\n                            if (!last) {\n                                break;\n                            }\n                    /* falls through */\n                    case end:\n                            if (buffer === false) {\n                                return false;\n                            }\n                            items[len++] = buffer.join('');\n                            buffer = bl = false;\n                        break;\n                    case end_empty:\n                            if (buffer !== false) {\n                                return false;\n                            }\n                            items[len++] = '';\n    \n                        break;\n                    }\n                }\n            }\n            \n            \n            state = next;\n            stateObject = map[state];\n            \n            if (pending < len - 1) {\n                if (callback(items[pending++],\n                            false,\n                            arg1,\n                            arg2,\n                            arg3,\n                            arg4,\n                            arg5) === false) {\n                    return true;\n                }\n            }\n            // last\n            if (last) {\n                l = len - pending;\n                for (; l--;) {\n                    if (callback(items[pending++],\n                                !l,\n                                arg1,\n                                arg2,\n                                arg3,\n                                arg4,\n                                arg5) === false) {\n                        return true;\n                    }\n                }\n                break;\n            }\n    \n        }\n        \n        return true;\n    \n    }\n    \nfunction jsonSet(path, subject, value, overwrite) {\n        var typeArray = ARRAY_SIGNATURE,\n            apply = assign,\n            writable = isWritable;\n        var context, name, current, valueSignature, currentSignature,\n            arrayOperation, arrayPush, canApply;\n        \n        if (!isString(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false];\n        jsonEach(path, onPopulatePath, context);\n        name = context[2];\n        \n        if (name !== false) {\n            subject = context[1];\n            valueSignature = writable(value);\n            arrayOperation = isArray(subject) && NUMERIC_RE.test(name);\n            \n            if (name in subject) {\n                current = subject[name];\n                currentSignature = writable(current);\n            }\n            else {\n                current = undefined;\n                currentSignature = null;\n            }\n            \n            canApply = valueSignature && !!currentSignature;\n            arrayPush = canApply &&\n                            valueSignature === typeArray &&\n                            currentSignature === typeArray;\n                            \n            \n            // finalize overwrite type\n            switch (overwrite) {\n            // only available if subject is array and name is numeric index\n            case 'insert':\n                overwrite = !arrayOperation;\n                if (arrayOperation) {\n                    subject.splice(name * 1, 0, value);\n                }\n                break;\n            \n            // only available if subject canApply\n            case 'apply':\n                overwrite = !canApply;\n                if (canApply) {\n                    apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'push':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.push.apply(current, value);\n                }\n                break;\n            \n            // only available if current is array and value is array\n            case 'unshift':\n                overwrite = !arrayPush;\n                if (arrayPush) {\n                    current.splice.apply(current, [0, 0].concat(value));\n                }\n                break;\n            \n            // default is no overwrite if possible\n            case false:\n            /* falls through */\n            default:\n                // can apply or push only if non-scalar current and value\n                overwrite = !canApply;\n                if (canApply) {\n                    if (arrayPush) {\n                        current.push.apply(current, value);\n                    }\n                    else {\n                        apply(current, value);\n                    }\n                }\n            }\n            \n            // plain overwrite!\n            if (overwrite === true) {\n                subject[name] = value;\n            }\n            \n            return true;\n        \n        }\n        return false;\n    }\n    \nfunction jsonUnset(path, subject) {\n        var context, name, returnValue;\n        \n        if (!isString(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // main subject should be accessible and native object\n        context = [void(0), subject, false, false];\n        jsonEach(path, onRemovePath, context);\n        \n        name = context[2];\n        returnValue = context[3];\n        \n        // found! and must be removed\n        if (returnValue && name !== false) {\n            \n            subject = context[1];\n            \n            if (!(name in subject)) {\n                \n                returnValue = false;\n            }\n            else {\n            \n                // remove item\n                if (isArray(subject) && NUMERIC_RE.test(name)) {\n                    subject.splice(name * 1, 1);\n                    \n                }\n                else {\n                    \n                    delete subject[name];\n                    // check if removable\n                    returnValue = !(name in subject);\n                    \n                }\n                \n            }\n        }\n        \n        return returnValue;\n    }\n\nfunction jsonFill(path, subject, value) { //, overwrite) {\n        var typeArray = ARRAY_SIGNATURE,\n            getMax = maxObjectIndex,\n            apply = assign,\n            has = contains,\n            arrayIndexRe = ARRAY_INDEX_RE$1,\n            iswritable = isJSONWritable,\n            isSubjectArray = isArray(subject);\n            \n        var parent, c, l, item, parentIndex,\n            property, arrayIndex, writable;\n            \n        \n        \n        if (!isString(path)) {\n            throw new Error(ERROR_PATH_INVALID);\n        }\n        \n        // root subject should be an object\n        if (!object(subject) && !isSubjectArray) {\n            return false;\n        }\n        \n        // unable to create items from path\n        path = jsonParsePath(path);\n        if (!path || !path.length) {\n            return false;\n        }\n        \n        parent = subject;\n        parentIndex = path[0];\n        \n        // finalize parent index\n        if (!parentIndex) {\n            parentIndex = getMax(parent) + 1;\n        }\n        \n        l = path.length -1;\n        \n        for (c = 0; l--;) {\n            item = path[++c];\n            \n            // only determine if arrayIndex or not,\n            //      resolve this later if it will turn into parentIndex\n            arrayIndex = arrayIndexRe.test(item);\n            \n            // finalize property\n            if (has(parent, parentIndex)) {\n                property = parent[parentIndex];\n                writable = iswritable(property);\n                \n                // recreate array into object to support \"named\" property\n                if (writable === typeArray && !arrayIndex) {\n                    property = apply({}, property);\n                    delete property.length;\n                    \n                }\n                // contain current property\n                else if (!writable) {\n                    property = arrayIndex ?\n                        [property] : {\"\": property};\n                }\n    \n            }\n            // error! unable to replace root object\n            else if (isSubjectArray && parent === subject && !arrayIndex) {\n                throw new Error(ERROR_NATIVE_OBJECT);\n            }\n            // populate\n            else {\n                property = arrayIndex ? [] : {};\n            }\n            \n            parent = parent[parentIndex] = property;\n            parentIndex = item;\n            \n            // resolve empty parentIndex\n            if (!item) {\n                parentIndex = getMax(parent) + 1;\n            }\n            \n        }\n        \n        // if not overwrite, then fill-in value in array or object\n        //if (overwrite !== true && has(parent, parentIndex)) {\n        //    property = parent[parentIndex];\n        //    \n        //    // append\n        //    if (T.array(property)) {\n        //        parent = property;\n        //        parentIndex = parent.length;\n        //    }\n        //    else {\n        //        parent = parent[parentIndex] = [property];\n        //        parentIndex = 1;\n        //    }\n        //}\n        \n        parent[parentIndex] = value;\n        \n        return true;\n        \n    }\n    \nfunction jsonExists(path, subject) {\n        var operation = [subject, false];\n        \n        jsonEach(path, existsCallback, operation);\n        operation[0] = null;\n        \n        return operation[1];\n    }\n    \n//export {\n//    parsePath as jsonParsePath,\n//    find as jsonFind,\n//    compare as jsonCompare,\n//    clone as jsonClone,\n//    eachPath as jsonEach,\n//    assign as jsonSet,\n//    remove as jsonUnset,\n//    fill as jsonFill,\n//    exists as jsonExists\n//}\n\nvar ERROR_NAME = 'Invalid [name] parameter.';\nvar ERROR_PATH = 'Invalid [path] parameter.';\n\nfunction create() {\n    return new Registry();\n}\n\nfunction isIndex(name) {\n    switch (isSignature(name)) {\n    case STRING_SIGNATURE:\n    case NUMBER_SIGNATURE: return true;\n    }\n    return false;\n}\n\nfunction Registry() {\n    this.data = {};\n}\n\nRegistry.prototype = {\n    constructor: Registry,\n    \n    onApply: function (value) {\n        assign(this.data, value, true);\n    },\n    \n    onSet: function (name, value) {\n        this.data[name] = value;\n    },\n    \n    get: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            return list[name];\n        }\n        \n        return void(0);\n    },\n    \n    set: function (name, value) {\n        switch (isSignature(name)) {\n        case OBJECT_SIGNATURE:\n        case ARRAY_SIGNATURE:\n            this.onApply(name);\n            break;\n        \n        case STRING_SIGNATURE:\n        case NUMBER_SIGNATURE:\n            this.onSet(name, value);\n            break;\n            \n        default:\n            throw new Error(ERROR_NAME);\n        }\n        \n        return this;\n    },\n    \n    unset: function (name) {\n        var list = this.data;\n        \n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        if (contains(list, name)) {\n            delete list[name];\n        }\n        \n        return this;\n    },\n    \n    find: function (path) {\n        if (!isString(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonFind(path, this.data);\n    },\n    \n    insert: function (path, value) {\n        if (!isString(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonFill(path, this.data, value, true);\n        \n        return this;\n    \n    },\n    \n    remove: function (path) {\n        if (!isString(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        jsonUnset(path, this.data);\n        \n        return this;\n    },\n    \n    exists: function (name) {\n        if (!isIndex(name)) {\n            throw new Error(ERROR_NAME);\n        }\n        \n        return contains(this.data, name);\n    },\n    \n    pathExists: function (path) {\n        if (!isString(path)) {\n            throw new Error(ERROR_PATH);\n        }\n        \n        return jsonExists(path, this.data);\n    },\n    \n    assign: function(value) {\n        switch (isSignature(value)) {\n        case OBJECT_SIGNATURE:\n        case ARRAY_SIGNATURE:\n            this.onApply(value);\n            return this;\n        \n        default:\n            throw new Error(\"Invalid [value] parameter\");\n        }\n        \n    },\n    \n    clear: function () {\n        clear(this.data);\n        return this;\n    },\n    \n    clone: function () {\n        var list = this.data;\n        return clone(list, true);\n    }\n    \n};\n\nvar slice = Array.prototype.slice;\nvar G$1 = global$1;\nvar ERROR_ITERABLE = 'Invalid [iterable] parameter.';\nvar INDEX_STATUS = 0;\nvar INDEX_DATA = 1;\nvar INDEX_PENDING = 2;\n\nfunction createPromise(instance) {\n    var Class = Promise;\n    \n    if (!(instance instanceof Class)) {\n        instance = instantiate(Class);\n    }\n    \n    instance.__state = [null,\n                        void(0),\n                        [],\n                        null,\n                        null];\n    return instance;\n}\n\nfunction resolveValue(data, callback) {\n    function resolve(data) {\n        try {\n            callback(true, data);\n        }\n        catch (error) {\n            callback(false, error);\n        }\n    }\n    \n    if (isThenable(data)) {\n        data.then(resolve,\n                  function (error) {\n                        callback(false, error);\n                    });\n    }\n    else {\n        resolve(data);\n    }\n}\n\nfunction finalizeValue(promise, success, data) {\n    var state = promise.__state,\n        list = state[INDEX_PENDING];\n        \n    state[INDEX_STATUS] = success;\n    state[INDEX_DATA] = data;\n    \n    // notify callbacks\n    for (; list.length; ) {\n        list[0](success, data);\n        list.splice(0, 1);\n    }\n}\n\nfunction Promise(resolver) {\n    var finalized = false;\n    var instance;\n    \n    function onFinalize(success, data) {\n        finalizeValue(instance, success, data);\n    }\n    \n    function resolve(data) {\n        if (!finalized) {\n            finalized = true;\n            resolveValue(data, onFinalize);\n        }\n    }\n    \n    function reject(error) {\n        if (!finalized) {\n            finalized = true;\n            onFinalize(false, error);\n        }\n    }\n    \n    if (!isFunction(resolver)) {\n        throw new Error('Promise resolver is not a function.');\n    }\n    \n    instance = createPromise(this);\n    \n    try {\n        resolver(resolve, reject);\n    }\n    catch (error) {\n        reject(error);\n    }\n    \n    return instance;\n}\n\nfunction resolve(data) {\n    return new Promise(function (resolve) {\n        resolve(data);\n    });\n}\n\nfunction reject(reason) {\n    return new Promise(function () {\n        arguments[1](reason);\n    });\n}\n\nfunction all(iterable$$1) {\n    var total;\n    \n    function resolver(resolve, reject) {\n        var list = iterable$$1,\n            remaining = total,\n            stopped = false,\n            l = remaining,\n            c = 0,\n            result = [];\n\n        function process(index, item) {\n            function finalize(success, data) {\n                var found = result;\n                \n                if (stopped) { return; }\n                \n                if (!success) {\n                    reject(data);\n                    stopped = true;\n                    return;\n                }\n                \n                found[index] = data;\n                \n                if (!--remaining) {\n                    resolve(found);\n                }\n            }\n            resolveValue(item, finalize);\n        }\n        \n        for (result.length = l; l--; c++) {\n            process(c, list[c]);\n        }\n    }\n    \n    if (!isIterable(iterable$$1)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable$$1 = slice.call(iterable$$1, 0);\n    total = iterable$$1.length;\n    \n    if (!total) {\n        return resolve([]);\n    }\n    \n    return new Promise(resolver);\n}\n\nfunction race(iterable$$1) {\n    function resolver(resolve, reject) {\n        var stopped = false,\n            tryResolve = resolveValue,\n            list = iterable$$1,\n            c = -1,\n            l = list.length;\n        \n        function onFulfill(success, data) {\n            if (!stopped) {\n                stopped = true;\n                (success ? resolve : reject)(data);\n            }\n        }\n        \n        for (; l--;) {\n            tryResolve(list[++c], onFulfill);\n        }\n    }\n    \n    if (!isIterable(iterable$$1)) {\n        throw new TypeError(ERROR_ITERABLE);\n    }\n    \n    iterable$$1 = slice.call(iterable$$1, 0);\n    \n    return new Promise(resolver);\n}\n\nPromise.prototype = {\n    constructor: Promise,\n    then: function (onFulfill, onReject) {\n        var me = this,\n            state = me.__state,\n            success = state[INDEX_STATUS],\n            list = state[INDEX_PENDING],\n            instance = createPromise();\n            \n        function run$$1(success, data) {\n            var finalize = finalizeValue,\n                handle = success ? onFulfill : onReject;\n            \n            if (isFunction(handle)) {\n                try {\n                    data = handle(data);\n                    resolveValue(data,\n                                function (success, data) {\n                                    finalize(instance,\n                                             success,\n                                             data);\n                                });\n                    return;\n                }\n                catch (error) {\n                    data = error;\n                    success = false;\n                }\n            }\n            finalize(instance, success, data);\n        }\n        \n        if (success === null) {\n            list[list.length] = run$$1;\n        }\n        else {\n            setAsync(function () {\n                run$$1(success, state[INDEX_DATA]);\n            });\n        }\n        \n        return instance;\n    },\n    \n    \"catch\": function (onReject) {\n        return this.then(null, onReject);\n    }\n};\n\n// static methods\nassign(Promise, {\n    all: all,\n    race: race,\n    reject: reject,\n    resolve: resolve\n});\n\n// Polyfill if promise is not supported\nif (!isFunction(G$1.Promise)) {\n    G$1.Promise = Promise;\n}\n\nG$1 = null;\n\nvar env = DETECT;\n\n\n\n\n\nvar BUNDLE$1 = Object.freeze({\n\tenv: env,\n\tcreateRegistry: create,\n\tPromise: Promise,\n\teach: EACH,\n\tassign: assign,\n\trehash: rehash,\n\tcontains: contains,\n\tinstantiate: instantiate,\n\tclone: clone,\n\tcompare: compare,\n\tfillin: fillin,\n\tclear: clear,\n\tmaxObjectIndex: maxObjectIndex,\n\tsetModuleChain: setModuleChain,\n\trun: run,\n\tregister: set,\n\tmiddleware: middlewareNamespace,\n\tsetAsync: setAsync,\n\tclearAsync: clearAsync,\n\tobject: object,\n\tOBJECT: OBJECT_SIGNATURE,\n\tARRAY: ARRAY_SIGNATURE,\n\tNULL: NULL_SIGNATURE,\n\tUNDEFINED: UNDEFINED_SIGNATURE,\n\tNUMBER: NUMBER_SIGNATURE,\n\tSTRING: STRING_SIGNATURE,\n\tBOOLEAN: BOOLEAN_SIGNATURE,\n\tMETHOD: METHOD_SIGNATURE,\n\tFUNCTION: METHOD_SIGNATURE,\n\tDATE: DATE_SIGNATURE,\n\tREGEX: REGEX_SIGNATURE,\n\tsignature: isSignature,\n\tnativeObject: isNativeObject,\n\tstring: isString,\n\tnumber: isNumber,\n\tscalar: isScalar,\n\tarray: isArray,\n\tmethod: isFunction,\n\tdate: isDate,\n\tregex: isRegExp,\n\ttype: isType,\n\tthenable: isThenable,\n\titerable: isIterable,\n\tunionList: union,\n\tintersectList: intersect,\n\tdifferenceList: difference,\n\tcamelize: camelize,\n\tuncamelize: uncamelize,\n\tencode64: base64Encode,\n\tdecode64: base64Decode,\n\tutf2bin: utf16ToUtf8,\n\tbin2utf: utf8ToUtf16,\n\tjsonParsePath: jsonParsePath,\n\tjsonFind: jsonFind,\n\tjsonCompare: jsonCompare,\n\tjsonClone: jsonClone,\n\tjsonEach: jsonEach,\n\tjsonSet: jsonSet,\n\tjsonUnset: jsonUnset,\n\tjsonFill: jsonFill,\n\tjsonExists: jsonExists\n});\n\nsetModuleChain(BUNDLE$1);\n\nexport { env, create as createRegistry, Promise, EACH as each, assign, rehash, contains, instantiate, clone, compare, fillin, clear, maxObjectIndex, setModuleChain, run, set as register, middlewareNamespace as middleware, setAsync, clearAsync, object, OBJECT_SIGNATURE as OBJECT, ARRAY_SIGNATURE as ARRAY, NULL_SIGNATURE as NULL, UNDEFINED_SIGNATURE as UNDEFINED, NUMBER_SIGNATURE as NUMBER, STRING_SIGNATURE as STRING, BOOLEAN_SIGNATURE as BOOLEAN, METHOD_SIGNATURE as METHOD, METHOD_SIGNATURE as FUNCTION, DATE_SIGNATURE as DATE, REGEX_SIGNATURE as REGEX, isSignature as signature, isNativeObject as nativeObject, isString as string, isNumber as number, isScalar as scalar, isArray as array, isFunction as method, isDate as date, isRegExp as regex, isType as type, isThenable as thenable, isIterable as iterable, union as unionList, intersect as intersectList, difference as differenceList, camelize, uncamelize, base64Encode as encode64, base64Decode as decode64, utf16ToUtf8 as utf2bin, utf8ToUtf16 as bin2utf, jsonParsePath, jsonFind, jsonCompare, jsonClone, jsonEach, jsonSet, jsonUnset, jsonFill, jsonExists };\nexport default BUNDLE$1;\n//# sourceMappingURL=libcore.es.js.map\n","'use strict';\n\nimport {\n            string,\n            camelize,\n            register\n        } from \"libcore\";\n        \nimport detect from \"./detect.js\";\n\nvar SEPARATE_RE = /[ \\r\\n\\t]*[ \\r\\n\\t]+[ \\r\\n\\t]*/,\n    STYLIZE_RE = /^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,\n    HTML_ESCAPE_CHARS_RE = /[^\\u0021-\\u007e]|[\\u003e\\u003c\\&\\\"\\']/g,\n    TEXTAREA = null,\n    exported = {\n        camelize: camelize,\n        stylize: stylize,\n        addWord: addWord,\n        removeWord: removeWord,\n        \n        xmlEncode: xmlEncode,\n        xmlDecode: xmlDecode,\n        \n        1001: \"Invalid [name] parameter.\",\n        1011: \"Invalid [handler] parameter.\",\n    \n        1101: \"Invalid DOM [element] parameter.\",\n        1102: \"Invalid [dom] Object parameter.\",\n        1103: \"Invalid DOM [node] parameter.\",\n        1104: \"Invalid DOM [document] parameter.\",\n        \n        1111: \"Invalid CSS [selector] parameter.\",\n        1112: \"Invalid tree traverse [callback] parameter.\",\n        \n        1121: \"Invalid DOM Element [config] parameter.\",\n        \n        1131: \"Invalid [observable] parameter.\",\n        1132: \"Invalid Event [type] parameter.\",\n        1133: \"Invalid Event [handler] parameter.\",\n        \n        \n        1141: \"Invalid [style] Rule parameter.\",\n        //1142: \"Invalid Colorset [type] parameter.\",\n        //1143: \"Invalid [colorValue] integer parameter.\",\n        \n        1151: \"Invalid Animation [callback] parameter.\",\n        1152: \"Invalid Animation [displacements] parameter.\",\n        1153: \"Invalid Animation [type] parameter.\",\n        1154: \"Invalid Animation [duration] parameter.\",\n        \n        2001: \"Style Attribute manipulation is not supported\",\n        2002: \"Computed style is not supported by this browser.\",\n        2003 : \"CSS Selector query form DOM is not supported.\",\n        2004: \"DOM position comparison is not supported.\",\n        2005: \"DOM selection not supported.\",\n        2006: \"CSS Opacity is not supported by this browser\"\n\n    };\n\n\n    \nfunction htmlescapeCallback(chr) {\n    var code = chr.charCodeAt(0).toString(16);\n    var value;\n    switch (code) {\n    case '26': value = 'amp';\n        break;\n    case '22': value = 'quot';\n        break;\n    case '27': value = 'apos';\n        break;\n    case '3C':\n    case '3c': value = 'lt';\n        break;\n    case '3E':\n    case '3e': value = 'gt';\n        break;\n    default:\n        value = '#x' + code;\n    }\n    return '&' + value + ';';\n}\n\n\nfunction initialize() {\n    if (detect) {\n        TEXTAREA = global.document.createElement('textarea');\n        // register destructor\n        register(\"libdom.event.global-destroy\", onDestroy);\n    }\n}\n\nfunction onDestroy() {\n    TEXTAREA = null;\n}\n\nexport\n    function stylize(str) {\n        str = camelize(str);\n        return STYLIZE_RE.test(str) ?\n                    str.charAt(0).toUpperCase() + str.substring(1, str.length) :\n                    str;\n    }\n\nexport\n    function addWord(str, items) {\n        var isString = string,\n            c = -1,\n            l = items.length;\n        var cl, name;\n        \n        str = str.split(SEPARATE_RE);\n        cl = str.length;\n        for (; l--;) {\n            name = items[++c];\n            if (isString(name) && str.indexOf(name) === -1) {\n                str[cl++] = name;\n            }\n        }\n        \n        return str.join(' ');\n    }\n\nexport\n    function removeWord(str, items) {\n        var c = -1,\n            l = items.length;\n        var cl, total, name;\n        \n        str = str.split(SEPARATE_RE);\n        total = str.length;\n        \n        for (; l--;) {\n            name = items[++c];\n            for (cl = total; cl--;) {\n                if (name === str[cl]) {\n                    str.splice(cl, 1);\n                    total--;\n                }\n            }\n        }\n        \n        return str.join(' ');    \n    }\n\nexport\n    function xmlDecode(subject) {\n        var textarea = TEXTAREA;\n        var value = '';\n        if (textarea) {\n            textarea.innerHTML = subject;\n            value = textarea.value;\n        }\n        textarea = null;\n        return value;\n    }\n    \nexport\n    function xmlEncode(subject) {\n        return subject.replace(HTML_ESCAPE_CHARS_RE, htmlescapeCallback);\n    }\n\n\ninitialize();\n\nexport default exported;\n","'use strict';\n\n\nvar MAIN = null;\n\nexport \n    function use(chain) {\n        MAIN = chain;\n    }\n    \nexport\n    function get() {\n        return MAIN;\n    }","'use strict';\n\nimport {\n            string,\n            method,\n            contains,\n            middleware\n        } from \"libcore\";\n\nimport STRING from \"./string\";\n\nimport INFO from \"./detect.js\";\n\nimport { get as getModule } from \"./chain.js\";\n\n\nvar EVENTS = null,\n    PAGE_UNLOADED = false,\n    MIDDLEWARE = middleware('libdom.event'),\n    IE_CUSTOM_EVENTS = {},\n    ERROR_OBSERVABLE_NO_SUPPORT = STRING[1131],\n    ERROR_INVALID_TYPE = STRING[1132],\n    ERROR_INVALID_HANDLER = STRING[1133],\n    IE_ON = 'on',\n    IE_BUBBLE_EVENT = 'beforeupdate',\n    IE_NO_BUBBLE_EVENT = 'propertychange',\n    exported = {\n                on: listen,\n                un: unlisten,\n                fire: dispatch,\n                purge: purge,\n                ondestroy: addDestructor\n            };\n\nvar RESOLVE, LISTEN, UNLISTEN, DISPATCH, EVENT_INFO, IS_CAPABLE, SUBJECT;\n\nfunction listen(observable, type, handler, context) {\n    var last = EVENTS;\n    var current, args;\n\n    if (!string(type)) {\n        throw new Error(ERROR_INVALID_TYPE);\n    }\n\n    if (!method(handler)) {\n        throw new Error(ERROR_INVALID_HANDLER);\n    }\n\n    observable = RESOLVE(observable);\n\n    if (!observable) {\n        throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n    }\n\n    if (typeof context === 'undefined') {\n        context = null;\n    }\n\n    args = [observable, type, handler, context];\n    MIDDLEWARE.run('listen', args);\n\n    observable = args[0];\n    type = args[1];\n    handler = args[2];\n    context = args[3];\n    args.splice(0, 4);\n    args = null;\n\n    current = LISTEN(observable, type, handler, context);\n\n    current.unlisten = createUnlistener(current);\n    current.head = last;\n    current.tail = null;\n\n    if (last) {\n        last.tail = current;\n    }\n    EVENTS = current;\n\n    return current.unlisten;\n\n}\n\nfunction unlisten(observable, type, handler, context) {\n    var found, len, args;\n\n    if (!string(type)) {\n        throw new Error(ERROR_INVALID_TYPE);\n    }\n\n    if (!method(handler)) {\n        throw new Error(ERROR_INVALID_HANDLER);\n    }\n\n    observable = RESOLVE(observable);\n\n    if (!observable) {\n        throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n    }\n\n    if (typeof context === 'undefined') {\n        context = null;\n    }\n\n    args = [observable, type, handler, context];\n    MIDDLEWARE.run('unlisten', args);\n\n    observable = args[0];\n    type = args[1];\n    handler = args[2];\n    context = args[3];\n    args.splice(0, 4);\n    args = null;\n\n    found = filter(observable, type, handler, context);\n\n    for (len = found.length; len--;) {\n        found[len].unlisten();\n    }\n\n    return getModule();\n}\n\n\nfunction dispatch(observable, type, defaults) {\n\n    if (!string(type)) {\n        throw new Error(ERROR_INVALID_TYPE);\n    }\n\n    observable = RESOLVE(observable);\n\n    if (!observable) {\n        throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n    }\n\n    return DISPATCH(observable, type, defaults);\n\n}\n\nfunction purge() {\n    var found = filter.apply(null, arguments),\n        len = found.length;\n\n    for (; len--;) {\n        found[len].unlisten();\n    }\n\n    return getModule();\n}\n\n\nfunction createUnlistener(event) {\n    var destroyed = false;\n    function destroy() {\n        var head, tail;\n        if (!destroyed) {\n            destroyed = true;\n\n            UNLISTEN(event[0], event[1], event[4]);\n\n            head = event.head;\n            tail = event.tail;\n\n            if (head) {\n                head.tail = tail;\n            }\n\n            if (tail) {\n                tail.head = head;\n            }\n\n            if (event === EVENTS) {\n                EVENTS = tail || head;\n            }\n\n            event[0] = null;\n            event.splice(0, 4);\n            delete event.unlisten;\n            delete event.head;\n            delete event.tail;\n            event = head = tail = null;\n        }\n    }\n    return destroy;\n}\n\n\nfunction filter(observable, type, handler, context) {\n    var last = EVENTS,\n        found = [],\n        len = 0,\n        argLen = arguments.length,\n        HAS_OBSERVABLE = 0,\n        HAS_TYPE = 0,\n        HAS_HANDLER = 0,\n        HAS_CONTEXT = 0;\n\n    switch (true) {\n    case argLen > 3: HAS_CONTEXT = 1;\n    /* fall through */\n    case argLen > 2: HAS_HANDLER = 1;\n    /* fall through */\n    case argLen > 1: HAS_TYPE = 1;\n    /* fall through */\n    case argLen > 0: HAS_OBSERVABLE = 1;\n    }\n\n    for (; last; last = last.head) {\n        if ((HAS_OBSERVABLE && last[0] !== observable) ||\n            (HAS_TYPE && last[1] !== type) ||\n            (HAS_HANDLER && last[2] !== handler) ||\n            (HAS_CONTEXT && last[3] !== context)) {\n            continue;\n        }\n        found[len++] = last;\n\n    }\n\n    return found;\n}\n\n\n/**\n * w3c events\n */\nfunction w3cListen(observable, type, handler, context) {\n    var listener = w3cCreateHandler(handler, context);\n    observable.addEventListener(type, listener, false);\n    return [observable, type, handler, context, listener];\n}\n\nfunction w3cUnlisten(observable, type, listener) {\n    observable.removeEventListener(type, listener, false);\n}\n\nfunction w3cDispatch(observable, type, properties) {\n    var hasOwn = contains,\n        event = global.document.createEvent(\"Event\");\n    var name;\n\n    event.initEvent(type,\n            'bubbles' in properties && properties.bubbles === true,\n            'cancelable' in properties && properties.cancelable !== false);\n\n    for (name in properties) {\n        if (hasOwn(properties, name) && !(name in event)) {\n            event[name] = properties[name];\n        }\n    }\n    observable.dispatchEvent(event);\n\n    return event;\n}\n\nfunction w3cObservable(observable) {\n    var isFunction = method;\n\n    return observable && typeof observable === 'object' &&\n            isFunction(observable.addEventListener) &&\n            isFunction(observable.removeEventListener) &&\n            isFunction(observable.dispatchEvent) ?\n                observable : false;\n\n}\n\nfunction w3cCreateHandler(handler, context) {\n    function onEvent(event) {\n        MIDDLEWARE.run('dispatch', [event.type, event]);\n        return handler.call(context, event);\n    }\n    return onEvent;\n}\n\n\n/**\n * ie events\n */\nfunction ieListen(observable, type, handler, context) {\n    var on = IE_ON;\n    var listener;\n\n    // listen to bubble\n    if (ieTestCustomEvent(observable, type)) {\n        listener = ieCreateCustomHandler(type, handler, context);\n        observable.attachEvent(on + IE_BUBBLE_EVENT, listener);\n        observable.attachEvent(on + IE_NO_BUBBLE_EVENT, listener);\n\n    }\n    else {\n        listener = ieCreateHandler(handler, context);\n        observable.attachEvent(on + type, listener);\n    }\n\n    return [observable, type, handler, context, listener];\n}\n\nfunction ieUnlisten(observable, type, listener) {\n    var on = IE_ON;\n    if (listener.customType) {\n        observable.detachEvent(on + IE_BUBBLE_EVENT, listener);\n        observable.detachEvent(on + IE_NO_BUBBLE_EVENT, listener);\n    }\n    else {\n        observable.detachEvent(on + type, listener);\n    }\n\n}\n\nfunction ieDispatch(observable, type, properties) {\n    var hasOwn = contains,\n        event = global.document.createEventObject();\n    var name;\n\n    for (name in properties) {\n        if (hasOwn(properties, name) && !(name in event)) {\n            event[name] = properties[name];\n        }\n    }\n\n    if (ieTestCustomEvent(observable, type)) {\n        event.customType = type;\n        type = properties.bubbles === true ?\n                    IE_BUBBLE_EVENT : IE_NO_BUBBLE_EVENT;\n    }\n\n    name = IE_ON + type;\n    observable.fireEvent(name, event);\n\n    // set to not cancel if not cancelable\n    if (properties.cancelable === false) {\n        event.returnValue = true;\n    }\n\n    return event;\n}\n\nfunction ieObservable(observable) {\n    if (observable) {\n        observable = observable.window ? observable.self : observable;\n        if (observable.attachEvent && observable.detachEvent) {\n            return observable;\n        }\n\n    }\n    return false;\n}\n\nfunction ieCreateHandler(handler, context) {\n    function onEvent() {\n        var event = global.event;\n        iePolyfillEvent(event);\n        MIDDLEWARE.run('dispatch', [event.type, event]);\n        return handler.call(context, event);\n    }\n    return onEvent;\n}\n\nfunction ieCreateCustomHandler(type, handler, context) {\n    function onEvent() {\n        var event = global.event;\n        iePolyfillEvent(event);\n        if (event.customType === type) {\n            MIDDLEWARE.run('dispatch', [type, event]);\n            event.type = type;\n            return handler.call(context, event);\n        }\n    }\n\n    onEvent.customType = true;\n\n    return onEvent;\n}\n\nfunction iePreventDefault() {\n    /* jshint validthis:true */\n    this.returnValue = false;\n}\n\nfunction ieStopPropagation() {\n    /* jshint validthis:true */\n    this.cancelBubble = true;\n}\n\nfunction iePolyfillEvent(eventObject) {\n\n    eventObject.target = eventObject.target || eventObject.srcElement;\n\n    if (!('preventDefault' in eventObject)) {\n        eventObject.preventDefault = iePreventDefault;\n    }\n\n    if (!('stopPropagation' in eventObject)) {\n        eventObject.stopPropagation = ieStopPropagation;\n    }\n}\n\nfunction ieTestCustomEvent(observable, type) {\n    var supported = false,\n        list = IE_CUSTOM_EVENTS;\n    var element, access, ontype;\n\n    if (observable.nodeType === 9) {\n        observable = observable.documentElement;\n    }\n\n    if (observable.nodeType === 1) {\n        // dont do another test\n        access = observable.tagName + ':' + type;\n        if (access in list) {\n            return list[access];\n        }\n\n        ontype = IE_ON + type;\n        element = observable.cloneNode(false);\n        supported = ontype in element;\n        if (!supported) {\n            element.setAttribute(ontype, 'return;');\n            supported = typeof element[ontype] === 'function';\n        }\n        element = null;\n\n        list[access] = !supported;\n\n        return !supported;\n\n    }\n\n    return false;\n\n}\n\n/**\n * purge after page has unloaded\n */\nfunction onBeforeUnload() {\n    if (!PAGE_UNLOADED) {\n        PAGE_UNLOADED = true;\n        // call middleware\n        MIDDLEWARE.run('global-destroy', []);\n        purge();\n    }\n}\n\nfunction addDestructor(handler) {\n    if (method(handler)) {\n        MIDDLEWARE.register('global-destroy', handler);\n    }\n    return getModule();\n}\n\n\nRESOLVE = LISTEN = UNLISTEN = DISPATCH = null;\n\n/**\n * Initialize\n */\nEVENT_INFO = INFO && INFO.event;\n\nif (EVENT_INFO) {\n    IS_CAPABLE = true;\n    switch (true) {\n    case EVENT_INFO.w3c:\n        LISTEN = w3cListen;\n        UNLISTEN = w3cUnlisten;\n        DISPATCH = w3cDispatch;\n        RESOLVE = w3cObservable;\n        break;\n\n    case EVENT_INFO.ie:\n        LISTEN = ieListen;\n        UNLISTEN = ieUnlisten;\n        DISPATCH = ieDispatch;\n        RESOLVE = ieObservable;\n        break;\n\n    default:\n        IS_CAPABLE = false;\n    }\n\n    // postprocess event handlers if platform is capable of L2 events\n    if (IS_CAPABLE) {\n        SUBJECT = global;\n\n        // register destructors\n        listen(SUBJECT, 'beforeunload', onBeforeUnload);\n        listen(SUBJECT, 'unload', onBeforeUnload);\n        SUBJECT = null;\n    }\n}\n\n\nexport {\n    purge,\n    listen as on,\n    unlisten as un,\n    dispatch as fire,\n    addDestructor as ondestroy\n};\n\nexport default exported;\n","'use strict';\n\nimport {\n            string,\n            number,\n            object,\n            method,\n            array,\n            each,\n            contains as hasProperty,\n            createRegistry\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport STRING from \"./string.js\";\n\nimport EVENT from \"./event.js\";\n\n\n\nvar ORDER_TYPE_PREORDER = 1,\n    ORDER_TYPE_POSTORDER = 2,\n    ORDER_TYPE_LEVELORDER = 3,\n    CSS_SELECT = notSupportedQuerySelector,\n\n    ERROR_INVALID_DOM = STRING[1101],\n    ERROR_INVALID_DOM_NODE = STRING[1103],\n    ERROR_INVALID_CSS_SELECTOR = STRING[1111],\n    ERROR_INVALID_CALLBACK = STRING[1112],\n    ERROR_INVALID_ELEMENT_CONFIG = STRING[1121],\n    INVALID_DESCENDANT_NODE_TYPES = { 9:1, 11:1 },\n    STD_CONTAINS = notSupportedContains,\n    DOM_ATTRIBUTE_RE = /(^\\_|[^a-zA-Z\\_])/,\n    DOM_ATTRIBUTE_LIST = [\n        'nodeType',\n        'nodeValue',\n        'ownerDocument',\n        'tagName',\n        'attributes',\n        'parentNode',\n        'childNodes',\n        'firstChild',\n        'lastChild',\n        'previousSibling',\n        'nextSibling',\n        'sourceIndex',\n        'type'\n    ],\n    EVENT_ATTRIBUTE_RE = /^on(\\-?[a-zA-Z].+)?$/,\n    MANIPULATION_HELPERS = createRegistry();\n\nvar DOM_INFO;\n\n\n\n/**\n * node contains...\n */\n\n\nfunction notSupportedContains() {\n    throw new Error(STRING[2004]);\n}\n\nfunction w3cContains(ancestor, descendant) {\n    return (ancestor.compareDocumentPosition(descendant) & 16) > 0;\n}\n\nfunction ieContains(ancestor, descendant) {\n    return ancestor.contains(descendant);\n}\n\n/**\n * DOM Manipulation helper\n */\nfunction registerDomHelper(name, handler) {\n    if (!string(name)) {\n        throw new Error(STRING[1001]);\n    }\n\n    if (!method(handler)) {\n        throw new Error(STRING[1011]);\n    }\n\n    MANIPULATION_HELPERS.set(name, handler);\n\n    return getModule();\n}\n\nfunction purgeEventsFrom(element) {\n    EVENT.purge(element);\n}\n\n\n\nfunction getTagNameFromConfig(config) {\n    if (object(config)) {\n        config = 'tagName' in config ?\n                    config.tagName :\n                    'nodeName' in config ?\n                        config.nodeName :\n                        'tag' in config ?\n                            config.tag : false;\n    }\n\n    return string(config) ? config : false;\n}\n\n\nfunction applyAttributeToElement(value, name) {\n    /* jshint validthis:true */\n    var element = this,\n        helper = MANIPULATION_HELPERS;\n    var listen;\n\n    // rename attributes\n    switch (name) {\n    case 'class':\n        name = 'className';\n        break;\n\n    case 'for':\n        name = 'htmlFor';\n        break;\n    }\n\n    if (EVENT_ATTRIBUTE_RE.test(name)) {\n        listen = name.substring(name.charAt(2) === '-' ? 3 : 2, name.length);\n\n        if (listen === 'on' && object(value)) {\n            each(value, applyEventAttribute, element);\n        }\n        else {\n            applyEventAttribute.call(element, value, listen);\n        }\n    }\n    else if (helper.exists(name)) {\n        helper.get(name)(element, value);\n    }\n    else if (DOM_ATTRIBUTE_RE.test(name) ||\n            DOM_ATTRIBUTE_LIST.indexOf(name) !== -1) {\n        element.setAttribute(name, value);\n    }\n    else {\n        element[name] = value;\n    }\n\n    element = null;\n\n}\n\nfunction applyEventAttribute(handler, name) {\n    /* jshint validthis:true */\n    var element = this;\n\n    if (method(handler)) {\n        EVENT.on(element, name, handler);\n    }\n\n    element = null;\n}\n\nfunction applyConfigToElement(element, config, usedFragment) {\n    var hasOwn = hasProperty,\n        isObject= object,\n        me = applyConfigToElement,\n        resolveTagName = getTagNameFromConfig,\n        applyAttribute = applyAttributeToElement,\n        htmlEncodeChild = false,\n        childNodes = null;\n\n    var name, value, item, c, l, fragment, doc, created;\n\n    if (isObject(config)) {\n        childNodes = null;\n\n        // apply attributes\n        main: for (name in config) {\n            if (hasOwn(config, name)) {\n                value = config[name];\n\n                // apply non-attributes if found\n                switch (name) {\n                case 'tagName':\n                case 'nodeName':\n                case 'tag':\n                    continue main;\n\n                case 'text':\n                case 'childText':\n                case 'innerText':\n                    htmlEncodeChild = true;\n\n                /* falls through */\n                case 'childNodes':\n                case 'innerHTML':\n                case 'html':\n                    childNodes = value;\n                    continue main;\n\n                case 'attributes':\n                    if (isObject(value)) {\n                        each(value, applyAttribute, element);\n                    }\n                    continue;\n                }\n\n                applyAttribute.call(element, value, name);\n\n            }\n        }\n\n        // apply childNodes\n        if (string(childNodes)) {\n\n            // convert\n            if (htmlEncodeChild) {\n                childNodes = STRING.xmlEncode(childNodes);\n            }\n\n            element.innerHTML = childNodes;\n        }\n\n        // fragment\n        else if (!htmlEncodeChild) {\n\n            if (isObject(childNodes)) {\n                childNodes = [childNodes];\n            }\n\n            if (array(childNodes)) {\n                doc = element.ownerDocument;\n                fragment = usedFragment === true ?\n                                element :\n                                doc.createDocumentFragment();\n\n                for (c = -1, l = childNodes.length; l--;) {\n                    item = childNodes[++c];\n\n                    if (isObject(item)) {\n                        created = doc.createElement(\n                                        resolveTagName(item) || 'div');\n                        // configure\n                        me(created, item, true);\n                        fragment.appendChild(created);\n                    }\n                }\n\n                if (fragment !== element) {\n                    element.appendChild(fragment);\n                }\n\n                doc = fragment = created = null;\n            }\n        }\n        item = null;\n    }\n}\n\nfunction findChild(element, node, nodeType) {\n    var isNumber = number;\n    var index, counter, any;\n\n    if (isDom(node, 1, 3, 4, 7, 8) && node.parentNode === element) {\n        return node;\n    }\n    else if (isNumber(node) && node > -1) {\n        index = node;\n        counter = -1;\n        any = !isNumber(nodeType);\n        node = element.firstChild;\n        for (; node; node = node.nextSibling) {\n            if (any || nodeType === node.nodeType) {\n                counter++;\n            }\n            if (counter === index) {\n                return node;\n            }\n        }\n    }\n    return null;\n}\n\n/**\n * DOM select\n */\nfunction noArrayQuerySelectorAll(dom, selector) {\n    var list, c, l, result;\n\n    if (!isDom(dom, 9, 1)) {\n        throw new Error(ERROR_INVALID_DOM_NODE);\n    }\n\n    if (!string(selector)) {\n        throw new Error(ERROR_INVALID_CSS_SELECTOR);\n    }\n\n    list = dom.querySelectorAll(selector);\n    c = -1;\n    (result = []).length = l = list.length;\n\n    for (; l--;) {\n        result[++c] = list[c];\n    }\n    list = null;\n    return result;\n}\n\nfunction toArrayQuerySelectorAll(dom, selector) {\n    if (!isDom(dom, 9, 1)) {\n        throw new Error(ERROR_INVALID_DOM_NODE);\n    }\n\n    if (!string(selector)) {\n        throw new Error(ERROR_INVALID_CSS_SELECTOR);\n    }\n\n    return Array.prototype.slice.call(dom.querySelectorAll(selector));\n}\n\nfunction notSupportedQuerySelector() {\n    throw new Error(STRING[2003]);\n}\n\nfunction orderTraverse(element, callback, context, orderType, includeRoot) {\n    var depth = 0,\n        isPostOrder = 0;\n    var queue, last, node, current;\n\n    if (!isDom(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    if (!method(callback)) {\n        throw new Error(ERROR_INVALID_CALLBACK);\n    }\n\n    if (typeof context === 'undefined') {\n        context = null;\n    }\n\n    includeRoot = includeRoot !== false;\n\n    switch (orderType) {\n    case ORDER_TYPE_LEVELORDER:\n\n        queue = last = {\n                    node: element,\n                    next: null\n                };\n\n        for (; queue; queue = queue.next) {\n\n            node = queue.node;\n            queue.node = null;\n\n            // iterate siblings\n            for (; node; node = node.nextSibling) {\n\n                current = node.firstChild;\n                if ((includeRoot || 0 !== depth) &&\n                    callback.call(context, current) === false) {\n                    break;\n                }\n\n                // insert\n                if (current) {\n                    depth++;\n                    last.next = { node: current, next: null };\n                    last = last.next;\n                }\n            }\n        }\n        break;\n    case ORDER_TYPE_POSTORDER:\n        isPostOrder = 1;\n\n    /* falls through */\n    case ORDER_TYPE_PREORDER:\n\n        main: for (current = element; current;) {\n\n            // process pre-order\n            if ((includeRoot || 0 !== depth) &&\n                !isPostOrder && current.nodeType === 1 &&\n                callback.call(context, current) === false) {\n                break;\n            }\n\n            // go into first child\n            node = current.firstChild;\n\n            if (node) {\n                depth++;\n            }\n            // go next sibling or parentNode's nextSibling\n            else {\n                // process post-order\n                if ((includeRoot || 0 !== depth) &&\n                    isPostOrder && current.nodeType === 1 &&\n                    callback.call(context, current) === false) {\n                    break;\n                }\n\n                node = current.nextSibling;\n\n                for (; !node && depth-- && current;) {\n                    current = current.parentNode;\n\n                    // process post-order\n                    if ((includeRoot || 0 !== depth) &&\n                        isPostOrder && current.nodeType === 1 &&\n                        callback.call(context, current) === false) {\n                        break main;\n                    }\n\n                    node = current.nextSibling;\n                }\n            }\n            current = node;\n        }\n    }\n\n    last = queue = node = current = null;\n\n\n    return getModule();\n}\n\n/**\n * is node\n */\nexport\n    function isDom(node) {\n        var isNumber = number;\n\n        var type, c, len, items, match, matched;\n\n        if (node && typeof node === 'object') {\n\n            type = node.nodeType;\n\n            if (isNumber(type)) {\n\n                items = arguments;\n                len = Math.max(items.length - 1, 0);\n                matched = !len;\n\n                for (c = 0; len--;) {\n                    match = items[++c];\n                    if (type === match) {\n                        return true;\n                    }\n                }\n\n                return matched;\n            }\n        }\n\n        return false;\n    }\n\nexport\n    function isDefaultView(defaultView) {\n        var type = typeof defaultView;\n\n        return !!defaultView &&\n                (type === 'object' || type === 'function') &&\n                defaultView.self === defaultView.window &&\n                !!defaultView.document;\n    }\n\nexport\n    function contains(ancestor, descendant) {\n        var elementErrorString = STRING[1102],\n            is = isDom;\n\n        if (!is(ancestor, 1, 9, 11)) {\n            throw new Error(elementErrorString);\n        }\n\n        if (!is(descendant) ||\n            (descendant.nodeType in INVALID_DESCENDANT_NODE_TYPES)) {\n            throw new Error(elementErrorString);\n        }\n\n        switch (ancestor.nodeType) {\n        case 9:\n            ancestor = ancestor.documentElement;\n            break;\n        case 11:\n            ancestor = ancestor.firstChild;\n            break;\n        }\n\n        return STD_CONTAINS(ancestor, descendant);\n\n    }\n\n/**\n * DOM manipulaton\n */\nexport\n    function add(element, config, before) {\n        var toInsert = null,\n            invalidConfig = ERROR_INVALID_ELEMENT_CONFIG,\n            is = isDom;\n        var tagName;\n\n        if (!isDom(element, 1, 11)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (is(config)) {\n            toInsert = config;\n        }\n        else if (object(config)) {\n            tagName = getTagNameFromConfig(config);\n            if (!tagName) {\n                throw new Error(invalidConfig);\n            }\n            toInsert = element.ownerDocument.createElement(tagName);\n            applyConfigToElement(toInsert, config);\n        }\n\n        if (!is(toInsert, 1, 3, 4, 7, 8, 11)) {\n            throw new Error(invalidConfig);\n        }\n\n        element.insertBefore(toInsert, findChild(element, before));\n\n        return toInsert;\n\n    }\n\nexport\n    function remove(node, destroy) {\n        var parentNode;\n        if (!isDom(node, 1, 3, 4, 7, 8)) {\n            throw new Error(ERROR_INVALID_DOM_NODE);\n        }\n\n        // unset child events by default\n        if (node.nodeType === 1 && destroy !== false) {\n            postOrderTraverse(node, purgeEventsFrom);\n        }\n\n        parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(node);\n        }\n        parentNode = null;\n        return node;\n    }\n\nexport\n    function move(nodes, element) {\n        var is = isDom,\n            invalidDom = ERROR_INVALID_DOM_NODE,\n            created = false;\n        var c, l, fragment, newChild;\n\n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (is(nodes, 1, 3, 4, 7, 8)) {\n            nodes = [nodes];\n            created = true;\n        }\n\n        if (!array(nodes)) {\n            throw new Error(invalidDom);\n        }\n\n        fragment = element.ownerDocument.createDocumentFragment();\n        for (c = -1, l = nodes.length; l--;) {\n            newChild = nodes[++c];\n            if (is(newChild, 1, 3, 4, 7, 8)) {\n                fragment.appendChild(newChild);\n            }\n        }\n        element.appendChild(fragment);\n\n        newChild = null;\n\n        if (created) {\n            nodes.splice(0, nodes.length);\n        }\n\n        fragment = null;\n\n        return element;\n    }\n\nexport\n    function replace(node, config, destroy) {\n        var toInsert = null,\n            invalidConfig = ERROR_INVALID_ELEMENT_CONFIG,\n            is = isDom;\n        var tagName;\n\n        if (!is(node, 1, 3, 4, 7, 8) || !node.parentNode) {\n            throw new Error(ERROR_INVALID_DOM_NODE);\n        }\n\n        if (is(config)) {\n            toInsert = config;\n        }\n        else if (object(config)) {\n            tagName = getTagNameFromConfig(config);\n            if (!tagName) {\n                throw new Error(invalidConfig);\n            }\n            toInsert = node.ownerDocument.createElement(tagName);\n            applyConfigToElement(toInsert, config);\n        }\n\n        if (!is(toInsert, 1, 3, 4, 7, 8)) {\n            throw new Error(invalidConfig);\n        }\n\n        // remove events before replacing it only if mandated\n        if (destroy === true && node.nodeType === 1) {\n            postOrderTraverse(node, purgeEventsFrom);\n        }\n\n        node.parentNode.replaceChild(toInsert, node);\n\n        return toInsert;\n    }\n\nexport\n    function find(element, node) {\n        if (!isDom(element, 1, 11)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n        return findChild(element, node, 1);\n    }\n\n/**\n * DOM Tree walk\n */\nexport\n    function eachPreorder(element, callback, context, includeRoot) {\n\n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_PREORDER,\n                            includeRoot !== false);\n    }\n\nexport\n    function eachPostorder(element, callback, context, includeRoot) {\n\n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_POSTORDER,\n                            includeRoot !== false);\n    }\n\nexport\n    function eachLevel(element, callback, context, includeRoot) {\n\n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_LEVELORDER,\n                            includeRoot !== false);\n    }\n\n/**\n * Initialize\n */\n\nDOM_INFO = DETECTED && DETECTED.dom;\nif (DOM_INFO) {\n    STD_CONTAINS = DOM_INFO.compare ?\n                            w3cContains :\n                            DOM_INFO.contains ?\n                                ieContains :\n                                notSupportedContains;\n\n    if (DOM_INFO.querySelectorAll) {\n        CSS_SELECT = DOM_INFO.listToArray ?\n                            toArrayQuerySelectorAll :\n                            noArrayQuerySelectorAll;\n    }\n}\n\nexport {\n    registerDomHelper as helper,\n    CSS_SELECT as select\n};\n\nexport default {\n            contains: contains,\n            is: isDom,\n            isView: isDefaultView,\n            eachPreorder: eachPreorder,\n            eachPostorder: eachPostorder,\n            eachLevel: eachLevel,\n            documentViewAccess: 'defaultView',\n            select: CSS_SELECT,\n\n            helper: registerDomHelper,\n\n            add: add,\n            replace: replace,\n            move: move,\n            remove: remove,\n            find: find\n        };\n","'use strict';\n\nimport { number } from \"libcore\";\n        \nimport format from \"./format.js\";\n\nvar BYTE = 255,\n    BYTE_PERCENT = 127,\n    BYTE_HUE = 511,\n    \n    PERCENT = 100,\n    HUE = 360,\n    SATURATION = PERCENT,\n    LUMINOSITY = PERCENT;\n\n// from: https://gist.github.com/mjackson/5311256\nfunction hue2rgb(p, q, t) {\n    t = (t + 1) % 1;\n    switch (true) {\n    case t < 1/6: return p + (q - p) * 6 * t;\n    case t < 1/2: return q;\n    case t < 2/3: return p + (q - p) * (2/3 - t) * 6;\n    }\n    return p;\n}\n\nexport\n    function itemize(value, index, colorFormat) {\n        var M = Math,\n            F = format,\n            isFloat = index > 2 && colorFormat !== F.PERCENT,\n            min = 0,\n            max = index < 3 ?\n                    BYTE : PERCENT;\n            \n        value = F.format(value, colorFormat);\n        if (isFloat) {\n            value *= 100;\n        }\n        \n        return M.max(min, M.min(max, value));\n    \n    }\n\nexport\n    function toArray(integer) {\n        var M = Math,\n            h2r = hue2rgb,\n            size = BYTE,\n            psize = BYTE_PERCENT,\n            h = integer & BYTE_HUE,\n            s = (integer >> 9) & psize,\n            l = (integer >> 16) & psize,\n            a = (integer >> 23) & psize;\n    \n        var q, p;\n        \n        l /= LUMINOSITY;\n       \n        if (s === 0) {\n            return [l, l, l];\n        }\n        \n        h /= HUE;\n        s /= SATURATION;\n        \n        q = l < 0.5 ?\n                l * (1 + s) :\n                l + s - l * s;\n                \n        p = 2 * l - q;\n        \n        return [M.round(h2r(p, q, h + 1/3) * size),\n                    M.round(h2r(p, q, h) * size),\n                    M.round(h2r(p, q, h - 1/3) * size),\n                    (a).toFixed(2)];\n    }\n\nexport\n    function toInteger(r, g, b, a) {\n        var M = Math,\n            size = BYTE,\n            psize = BYTE_PERCENT;\n    \n        var max, min, h, s, l, d;\n        \n        r /= size;\n        g /= size;\n        b /= size;\n        max = M.max(r, g, b);\n        min = M.min(r, g, b);\n        \n        l = (max + min) / 2;\n    \n        if (max === min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        \n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n        \n            h /= 6;\n        }\n        \n        if (!number(a)) {\n            a = PERCENT;\n        }\n        \n        return ((a & psize) << 23) |\n                (((l * LUMINOSITY) & psize) << 16) |\n                (((s * SATURATION) & psize) << 9) |\n                ((h * HUE) & BYTE_HUE);\n    }\n\nexport\n    function toString(integer) {\n        var values = toArray(integer),\n            alpha = (values[3] / PERCENT);\n        values[3] = parseFloat(alpha.toFixed(2));\n        return 'rgba(' + values.join(',') + ')';\n    }\n\n\n\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger\n        } from \"./rgba.js\";\n\nexport\n    function toHex(integer) {\n        var M = Math;\n        integer = M.max(0, M.min(integer, 255));\n        return (integer < 16 ? '0' : '') + integer.toString(16);\n    }\n\nexport\n    function toString(integer) {\n        var convert = toHex,\n            values = toArray(integer).slice(0, 3);\n        \n        values[0] = convert(values[0]);\n        values[1] = convert(values[1]);\n        values[2] = convert(values[2]);\n        \n        return '#' + values.join('');\n    }\n\n\nexport {\n            itemize,\n            toArray,\n            toInteger\n    };\n","'use strict';\n\nimport format from \"./format.js\";\n\nimport { number } from \"libcore\";\n\nvar BYTE = 255,\n    BYTE_PERCENT = 127,\n    BYTE_HUE = 511,\n    \n    HUE = 360,\n    PERCENT = 100;\n\nexport\n    function itemize(value, index, colorFormat) {\n        var F = format,\n            M = Math,\n            percent = PERCENT,\n            min = 0,\n            max = index < 1 ?\n                    HUE : percent;\n        \n        switch (colorFormat) {\n        case F.HEX:\n            value = (parseInt(value, 16) / BYTE) * max;\n            break;\n        \n        case F.NUMBER:\n            value = (1 * value) || 0;\n            if (index > 2) {\n                value *= percent;\n            }\n            break;\n        \n        case F.PERCENT:\n            value = (1 * value.substring(0, value.length - 1)) || 0;\n            break;\n        }\n        \n        return M.max(min, M.min(max, value || 0));\n    }\n\nexport\n    function toInteger(h, s, l, a) {\n        var psize = BYTE_PERCENT;\n        \n        if (!number(a)) {\n            a = PERCENT;\n        }\n        \n        return ((a & psize) << 23) |\n                ((l & psize) << 16) |\n                ((s & psize) << 9) |\n                (h & BYTE_HUE);\n    }\n\nexport\n    function toArray(integer) {\n        var psize = BYTE_PERCENT;\n        return [\n            integer & BYTE_HUE,\n            (integer >> 9) & psize,\n            (integer >> 16) & psize,\n            (integer >> 23) & psize];\n    }\n\nexport\n    function toString(integer) {\n        var values = toArray(integer);\n        values[1] += '%';\n        values[2] += '%';\n        values[3] = (values[3] / PERCENT);\n        return 'hsla(' + values.join(',') + ')';\n    }\n\n\n","'use strict';\n\n\nimport {\n            string,\n            contains,\n            number\n        } from \"libcore\";\n\n\nimport * as hexColor from \"./color/hex.js\";\nimport * as rgbColor from \"./color/rgb.js\";\nimport * as rgbaColor from \"./color/rgba.js\";\nimport * as hslColor from \"./color/hsl.js\";\nimport * as hslaColor from \"./color/hsla.js\";\n\nimport format from \"./color/format.js\";\n\n\nvar ERROR_SUBJECT = 'Invalid [subject] parameter.',\n    COLOR_RE = /^(\\#?|rgba?|hsla?)(\\(([^\\,]+(\\,[^\\,]+){2,3})\\)|[a-f0-9]{3}|[a-f0-9]{6})$/,\n    NUMBER_RE = /^[0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*$/,\n    REMOVE_SPACES = /[ \\r\\n\\t\\s]+/g,\n    TO_COLOR = {\n        rgb: rgbColor,\n        rgba: rgbaColor,\n        hsl: hslColor,\n        hsla: hslaColor,\n        hex: hexColor\n    };\n\nfunction preParseValue(str) {\n    if (typeof str === 'string') {\n        str = str.replace(REMOVE_SPACES, '');\n        if (COLOR_RE.test(str)) {\n            return str;\n        }\n    }\n    return null;\n}\n\nfunction parseColorStringType(str) {\n    var list = TO_COLOR,\n        m = str.match(COLOR_RE),\n        type = m[1];\n\n    var items, isHex, item;\n\n    if (!contains(list, type)) {\n        type = 'hex';\n    }\n\n    items = m[3];\n    isHex = !items;\n\n    // breakdown hex\n    if (isHex) {\n        items = m[2];\n\n        // three digit\n        if (items.length < 6) {\n            item = items.charAt(2);\n            items = ([items.charAt(0),\n                        items.substring(0, 2),\n                        items.charAt(1),\n                        item,\n                        item]).join('');\n        }\n    }\n    else {\n        items = items.split(',');\n    }\n\n    return [type, isHex, items];\n\n}\n\nexport\n    function parseType(subject) {\n\n        if (!string(subject, true)) {\n            throw new Error(ERROR_SUBJECT);\n        }\n\n        subject = preParseValue(subject);\n        if (subject) {\n            return parseColorStringType(subject) || null;\n        }\n        return null;\n    }\n\nexport\n    function parse(subject) {\n        var F = format,\n            formatPercent = F.PERCENT,\n            formatNumber = F.NUMBER,\n            formatHex = F.HEX,\n            numberRe = NUMBER_RE;\n\n        var parsed, c, l, item, items, itemizer,\n            processor, type, isHex, toProcess;\n\n        if (!string(subject, true)) {\n            throw new Error(ERROR_SUBJECT);\n        }\n\n        subject = preParseValue(subject);\n        parsed = subject && parseColorStringType(subject);\n\n        if (parsed) {\n            type = parsed[0];\n            processor = TO_COLOR[type];\n            itemizer = processor.itemize;\n\n            toProcess = [];\n            isHex = parsed[1];\n            items = parsed[2];\n\n            c = -1;\n            if (isHex) {\n                toProcess[3] = 100;\n                l = 3;\n            }\n            else {\n                l = items.length;\n            }\n\n            for (; l--;) {\n                item = items[++c];\n                if (isHex) {\n                    item = items.substring(c * 2, c * 2 + 2);\n                }\n                else if (!numberRe.test(item)) {\n                    return null;\n                }\n\n                toProcess[c] = itemizer(item,\n                                        c,\n                                        isHex ?\n                                            formatHex :\n                                            item.\n                                                charAt(item.length -1) === '%' ?\n                                                    formatPercent :\n                                                    formatNumber);\n            }\n\n            // add type\n            return processor.toInteger.apply(processor, toProcess);\n        }\n\n        return null;\n    }\n\nexport\n    function stringify(colorValue, type) {\n        var list = TO_COLOR;\n\n        if (!number(colorValue) || colorValue < 0) {\n            throw new Error(\"Invalid [colorValue] parameter.\");\n        }\n\n        if (arguments.length < 2) {\n            type = 'hex';\n        }\n        else if (!string(type)) {\n            throw new Error(\"Invalid [type] parameter.\");\n        }\n\n        if (!contains(list, type)) {\n            return null;\n        }\n\n        colorValue = Math.round(colorValue);\n\n        return list[type].toString(colorValue);\n    }\n\nexport default TO_COLOR;\n","'use strict';\n\nimport {\n            string,\n            number,\n            array,\n            object,\n            each\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport STRING from \"./string\";\n\nimport DOM from \"./dom.js\";\n\nimport * as COLOR from \"./color.js\";\n\nvar PADDING_BOTTOM = 'paddingBottom',\n    PADDING_TOP = 'paddingTop',\n    PADDING_LEFT = 'paddingLeft',\n    PADDING_RIGHT = 'paddingRight',\n\n    OFFSET_LEFT = 'offsetLeft',\n    OFFSET_TOP = 'offsetTop',\n    OFFSET_WIDTH = 'offsetWidth',\n    OFFSET_HEIGHT = 'offsetHeight',\n\n    CLIENT_WIDTH = 'clientWidth',\n    CLIENT_HEIGHT = 'clientHeight',\n\n    COLOR_RE = /[Cc]olor$/,\n\n    //DIMENSION_RE = /width|height|(margin|padding).*|border.+(Width|Radius)/,\n    EM_OR_PERCENT_RE = /%|em/,\n    CSS_MEASUREMENT_RE =\n/^([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)(em|px|\\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,\n    WIDTH_RE = /width/i,\n    NUMBER_RE = /\\d/,\n    BOX_RE = /(top|bottom|left|right|width|height)$/,\n    DIMENSION_RE =\n        /([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,\n\n    IE_ALPHA_OPACITY_RE = /\\(opacity\\=([0-9]+)\\)/i,\n    IE_ALPHA_OPACITY_TEMPLATE = 'alpha(opacity=$opacity)',\n    IE_ALPHA_OPACITY_TEMPLATE_RE = /\\$opacity/,\n\n    GET_OPACITY = opacityNotSupported,\n    SET_OPACITY = opacityNotSupported,\n\n    SET_STYLE = styleManipulationNotSupported,\n    GET_STYLE = styleManipulationNotSupported,\n\n    ERROR_INVALID_DOM = STRING[1101],\n\n    exported = {\n        add: addClass,\n        remove: removeClass,\n        computedStyle: computedStyleNotSupported,\n        style: setStyle,\n        currentStyle: getStyle,\n        unitValue: getCSSUnitValue,\n        styleOpacity: opacityNotSupported,\n        colorUnit: 'hex',\n        boxRe: BOX_RE,\n        dimensionRe: DIMENSION_RE,\n\n        colorRe: COLOR_RE\n    },\n    SLICE = Array.prototype.slice;\n\nvar CSS_INFO;\n\n\n\nfunction addClass(element, classNames) {\n    var isString = string;\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    if (isString(classNames)) {\n        classNames = [classNames];\n    }\n\n    if (array(classNames)) {\n        element.className = STRING.addWord(element.className || '',\n                                           classNames);\n    }\n\n    return getModule();\n}\n\nfunction removeClass(element, classNames) {\n    var isString = string;\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    if (isString(classNames)) {\n        classNames = [classNames];\n    }\n\n    if (array(classNames)) {\n        element.className = STRING.removeWord(element.className,\n                                              classNames);\n    }\n\n    return getModule();\n}\n\nfunction applyStyle() {\n    /* jshint validthis: true */\n    return arguments.length > 1 ?\n                // setter\n                setStyle.apply(this, arguments) :\n\n                // getter\n                getStyle.apply(this, arguments);\n\n\n\n}\n\nfunction setStyle(element, rules, value) {\n    var context;\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    if (string(rules)) {\n        if (arguments.length > 2) {\n            context = {};\n            context[rules] = value;\n            rules = context;\n        }\n        else {\n            rules = parseCSSText(rules);\n        }\n    }\n\n    if (!object(rules)) {\n        throw new Error(STRING[1141]);\n    }\n\n    context = [element.style];\n\n    each(rules, onStyleElement, context, true);\n\n    context = context[0] = null;\n\n    return getModule();\n}\n\nfunction getStyle(element) {\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    return parseCSSText(element.style.cssText);\n}\n\nfunction onStyleElement(value, name) {\n    var isNumber = number(value),\n        isScalar = isNumber || string(value),\n        /* jshint validthis: true */\n        elementStyle = this[0],\n        set = SET_STYLE,\n        applied = false;\n\n    name = STRING.stylize(name);\n\n    // opacity\n    if (name === 'opacity') {\n        if (!isScalar) {\n            // remove IE style opacity\n            set(elementStyle, 'filter', null);\n        }\n        else {\n            SET_OPACITY(elementStyle, value);\n            applied = true;\n        }\n\n    }\n    // dimension\n    else if (isNumber && DIMENSION_RE.test(name)) {\n        value = '' + value + 'px';\n\n    }\n    // color\n    else if (isNumber && COLOR_RE.test(name)) {\n        value = COLOR.stringify(value, exported.colorUnit);\n    }\n\n    // non-scalar value is \"unset\"\n    if (!isScalar) {\n        value = null;\n    }\n\n    set(elementStyle, name, value);\n\n    elementStyle = null;\n\n}\n\nfunction parseCSSText(str) {\n    var STATE_NAME = 1,\n        STATE_VALUE = 2,\n        state = STATE_NAME,\n        c = -1,\n        l = str.length,\n        il = 0,\n        name = [],\n        result = {};\n    var chr, value;\n\n    for (; l--;) {\n        chr = str.charAt(++c);\n\n        switch (state) {\n        case STATE_NAME:\n            if (chr === ':') {\n                name = name.join('');\n                value = [];\n                il = 0;\n            }\n            else {\n                name[il++] = chr;\n            }\n            break;\n\n        case STATE_VALUE:\n            if (chr === ';' || !l) {\n                result[name] = value.join('');\n                name = [];\n                il = 0;\n            }\n            else {\n                value[il++] = chr;\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction getCSSUnitValue(value) {\n    var is = isFinite;\n    var len;\n\n    switch (typeof value) {\n    case 'number':\n        if (is(value)) {\n            return value;\n        }\n        break;\n    case 'string':\n        len = value.length;\n        if (CSS_MEASUREMENT_RE.test(value) &&\n            value.substring(len - 2, len) !== 'px') {\n            return value;\n        }\n        else if (value === 'auto' || value === 'inherit') {\n            return value;\n        }\n        value = parseFloat(value);\n        if (is(value)) {\n            return value;\n        }\n    }\n\n    if (value === null) {\n        return value;\n    }\n\n    return false;\n\n}\n\nfunction styleManipulationNotSupported() {\n    throw new Error(STRING[2001]);\n}\n\n/**\n * Style info\n */\n\nfunction computedStyleNotSupported() {\n    throw new Error(STRING[2002]);\n}\n\nfunction w3cGetCurrentStyle(element, ruleNames) {\n    var camel = STRING.stylize,\n        isString = string;\n    var style, c, l, name, value, values, access;\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    style = global.getComputedStyle(element);\n\n    values = {};\n    if (!array(ruleNames)) {\n        ruleNames = SLICE.call(arguments, 1);\n    }\n    for (c = -1, l = ruleNames.length; l--;) {\n        name = ruleNames[++c];\n        if (isString(name)) {\n            access = camel(name);\n            switch (access) {\n            case 'opacity':\n                value = GET_OPACITY(style);\n                break;\n            default:\n                value = style[access];\n            }\n            values[name] = value;\n        }\n    }\n\n    style = null;\n\n    return values;\n}\n\nfunction ieGetCurrentStyle(element, ruleNames) {\n    var dimensionRe = DIMENSION_RE,\n        boxRe = BOX_RE,\n        isString = string,\n        camel = STRING.stylize,\n        getOpacity = GET_OPACITY,\n        pixelSize = ieGetPixelSize;\n\n    var style, c, l, name, value, access, fontSize, values, dimension;\n\n    if (!DOM.is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    style = element.currentStyle;\n    fontSize = false;\n    dimension = false;\n    values = {};\n\n    if (!array(ruleNames)) {\n        ruleNames = SLICE.call(arguments, 1);\n    }\n\n    for (c = -1, l = ruleNames.length; l--;) {\n        name = ruleNames[++c];\n        if (isString(name)) {\n            access = camel(name);\n\n            switch (true) {\n            case access === 'opacity':\n                value = getOpacity(style);\n                break;\n\n            case boxRe.test(access):\n                if (!dimension) {\n                    dimension = ieGetPositionStyle(element, style);\n                }\n                value = dimension[access] + 'px';\n                break;\n\n            case dimensionRe.test(access) && style[access] !== 'auto':\n                if (fontSize === false) {\n                    fontSize = pixelSize(element, style, 'fontSize', null);\n                }\n                value = pixelSize(element, style, access, fontSize) + 'px';\n                break;\n\n            case access === 'float':\n                value = style.styleFloat;\n                break;\n\n            default:\n                value = style[access];\n            }\n\n            values[name] = value;\n        }\n    }\n\n    style = value = null;\n    return values;\n}\n\n\nfunction ieGetPixelSize(element, style, property, fontSize) {\n    var sizeWithSuffix = style[property],\n        size = parseFloat(sizeWithSuffix),\n        suffix = sizeWithSuffix.split(NUMBER_RE)[0];\n    var parent;\n\n    switch (suffix) {\n    case 'in': return size * 96;\n    case 'pt': return size * 96 / 72;\n    case 'em':\n    case '%':\n        if (!fontSize) {\n            parent = element.parentElement;\n            fontSize = EM_OR_PERCENT_RE.test(suffix) && parent ?\n                            ieGetPixelSize(parent,\n                                        parent.currentStyle,\n                                        'fontSize',\n                                        null) :\n                            16;\n            parent = null;\n        }\n        return suffix === 'em' ?\n                    size * fontSize :\n                    size / 100 * (property === 'fontSize' ?\n                                    fontSize :\n                                    WIDTH_RE.test(property) ?\n                                        element[CLIENT_WIDTH] :\n                                        element[CLIENT_HEIGHT]);\n\n    default: return size;\n    }\n}\n\n\nfunction ieGetPositionStyle(element, style) {\n    var parent = element.offsetParent,\n        parentStyle = parent.currentStyle,\n        ieAdjust = DETECTED.browser.ieVersion < 9,\n        parse = parseFloat,\n\n        ptop = PADDING_TOP,\n        pleft = PADDING_LEFT,\n        pbottom = PADDING_BOTTOM,\n        pright = PADDING_RIGHT,\n\n        cwidth = CLIENT_WIDTH,\n        cheight = CLIENT_HEIGHT,\n\n        left = element[OFFSET_LEFT],\n        top = element[OFFSET_TOP],\n        right = parent[cwidth] - element[OFFSET_WIDTH],\n        bottom = parent[cheight] - element[OFFSET_HEIGHT],\n        width = element[cwidth],\n        height = element[cheight];\n    var node, nodeStyle;\n\n    switch (style.position) {\n    case 'relative':\n        left -= (parse(parentStyle[pleft]) || 0);\n        top -= (parse(parentStyle[ptop]) || 0);\n\n        if (ieAdjust) {\n            node = element.parentNode;\n\n            for (; node !== parent; node = node.parentNode) {\n                nodeStyle = node.currentStyle;\n                if (nodeStyle.position === 'static') {\n                    left -= (parse(nodeStyle.paddingLeft) || 0) +\n                            (parse(nodeStyle.borderLeftWidth) || 0);\n                    top -= (parse(nodeStyle.paddingTop) || 0) +\n                            (parse(nodeStyle.borderTopWidth) || 0);\n                }\n            }\n\n            if (parent === element.ownerDocument.body) {\n                left -= parse(parentStyle.marginLeft) || 0;\n                top -= parse(parentStyle.marginTop) || 0;\n            }\n        }\n\n    /* falls through */\n    case 'absolute':\n    case 'fixed':\n        left -= (parse(parentStyle.borderLeftWidth) || 0);\n        top -= (parse(parentStyle.borderTopWidth) || 0);\n    }\n\n\n    right -= left;\n    bottom -= top;\n    width -= (parse(style[pleft]) || 0) +\n                (parse(style[pright]) || 0);\n    height -= (parse(style[ptop]) || 0) +\n                (parse(style[pbottom]) || 0);\n\n    parent = parentStyle = null;\n\n    return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom,\n        width: width,\n        height: height\n    };\n}\n\n/**\n * opacity\n */\nfunction opacityNotSupported() {\n    throw new Error(STRING[2006]);\n}\n\nfunction ieGetOpacity(style) {\n    var M = Math,\n        opacityRe = IE_ALPHA_OPACITY_RE,\n        filter = style.filter;\n    var m;\n\n    if (string(filter) && opacityRe.test(filter)) {\n        m = filter.match(opacityRe);\n        m = parseFloat(m[1]);\n\n        return M.max(1,\n                    M.min(100,\n                        number(m) ? m : 100)) / 100;\n    }\n\n    return 1;\n}\n\nfunction ieSetOpacity(style, opacity) {\n    var M = Math;\n\n    if (string(opacity)) {\n        opacity = parseFloat(opacity);\n    }\n    if (number(opacity)) {\n        style.filter = IE_ALPHA_OPACITY_TEMPLATE.\n                                replace(IE_ALPHA_OPACITY_TEMPLATE_RE,\n                                    M.min(100,\n                                        M.max(0,\n                                            M.round(opacity * 100)\n                                        )).toString(10));\n    }\n}\n\nfunction w3cGetOpacity(style) {\n    var opacity = parseFloat(style.opacity);\n\n    return number(opacity) ? opacity : 1;\n}\n\nfunction w3cSetOpacity(style, opacity) {\n    var M = Math;\n\n    if (string(opacity)) {\n        opacity = parseFloat(opacity);\n    }\n\n    if (number(opacity)) {\n        style.opacity = M.min(1,\n                            M.max(0, opacity)).toFixed(2);\n    }\n}\n\n/**\n * Style manipulation\n */\nfunction w3cSetStyleValue(style, name, value) {\n    if (value === null) {\n        style.removeProperty(name);\n    }\n    else {\n        style[name] = value;\n    }\n}\n\nfunction w3cGetStyleValue(style, name) {\n    return style.getPropertyValue(name);\n}\n\nfunction ieSetStyleValue(style, name, value) {\n    if (value === null) {\n        style.removeAttribute(name);\n    }\n    else {\n        style[name] = value;\n    }\n}\nfunction ieGetStyleValue(style, name) {\n    return style.getAttribute(name);\n}\n\n\n\n/**\n * DOM Helpers\n */\n\n\n// register DOM Helpers\nDOM.helper('className', addClass);\nDOM.helper('style', applyStyle);\n\n\nCSS_INFO = DETECTED && DETECTED.css;\nif (CSS_INFO) {\n\n    exported.computedStyle = CSS_INFO.w3cStyle ?\n                                w3cGetCurrentStyle :\n                                CSS_INFO.ieStyle ?\n                                    ieGetCurrentStyle :\n                                    computedStyleNotSupported;\n\n    if (CSS_INFO.setattribute) {\n        SET_STYLE = ieSetStyleValue;\n        GET_STYLE = ieGetStyleValue;\n    }\n    else if (CSS_INFO.setproperty) {\n        SET_STYLE = w3cSetStyleValue;\n        GET_STYLE = w3cGetStyleValue;\n    }\n\n    if (CSS_INFO.opacity) {\n        GET_OPACITY = w3cGetOpacity;\n        SET_OPACITY = w3cSetOpacity;\n    }\n    else if (CSS_INFO.filterOpacity) {\n        GET_OPACITY = ieGetOpacity;\n        SET_OPACITY = ieSetOpacity;\n    }\n\n    if (CSS_INFO.alphaColor) {\n        exported.colorUnit = 'rgba';\n    }\n}\n\n\nexport default exported;\n","'use strict';\n\nimport {\n            string,\n            number,\n            object,\n            array\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport STRING from \"./string.js\";\n\nimport DOM from \"./dom.js\";\n\nimport CSS_MODULE from \"./css.js\";\n\n\nvar ERROR_INVALID_ELEMENT = STRING[1101],\n    ERROR_INVALID_DOM = STRING[1102],\n    \n    OFFSET_TOP = 'offsetTop',\n    OFFSET_LEFT = 'offsetLeft',\n    OFFSET_WIDTH = 'offsetWidth',\n    OFFSET_HEIGHT = 'offsetHeight',\n    \n    MARGIN_TOP = 'marginTop',\n    MARGIN_LEFT = 'marginLeft',\n    \n    SCROLL_TOP = 'scrollTop',\n    SCROLL_LEFT = 'scrollLeft',\n    \n    BOUNDING_RECT = 'getBoundingClientRect',\n    \n    DEFAULTVIEW = null,\n    ELEMENT_VIEW = 1,\n    PAGE_VIEW = 2,\n    USE_ZOOM_FACTOR = false,\n    IE_PAGE_STAT_ACCESS = 'documentElement',\n    \n    boundingRect = false,\n    getPageScroll = null,\n    getOffset = null,\n    getSize = null,\n    //getBox = null,\n    getScreenSize = null,\n    exported = {\n        offset: offset,\n        size: size,\n        box: box,\n        scroll: scroll,\n        screen: screen,\n        visible: visible,\n        translate: translateBox\n    };\n\nvar DIMENSION_INFO, IEVERSION;\n\nfunction pageBox(dom) {\n    var M = Math,\n        help = DOM,\n        subject = dom,\n        box = screen();\n    \n    // page size\n    if (help.isView(subject)) {\n        subject = subject.document;\n    }\n    \n    if (subject.nodeType === 9) {\n        subject = subject[IE_PAGE_STAT_ACCESS];\n        box[2] = M.max(subject.scrollWidth, box[2]);\n        box[3] = M.max(subject.scrollHeight, box[3]);\n    }\n    subject = null;\n    \n    return box;\n}\n\n\nfunction w3cScreenSize(window) {\n    return [window.innerWidth, window.innerHeight];\n}\n\n\nfunction ieScreenSize(window) {\n    var factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1,\n        subject = window.document[IE_PAGE_STAT_ACCESS],\n        size = [subject.clientWidth * factor,\n                subject.clientHeight * factor];\n        \n    subject = null;\n    return size;\n}\n\n/**\n * Element Size\n */\nfunction rectSize(element, boundingRect) {\n    var M = Math,\n        rect = boundingRect || element[BOUNDING_RECT](),\n        size = [\n            M.max(0, rect.width || 0),\n            M.max(0, rect.height || 0)];\n    rect = null;\n    return size;\n}\n\nfunction manualSize(element) {\n    var M = Math;\n    return [\n        M.max(0, element[OFFSET_WIDTH] || 0),\n        M.max(0, element[OFFSET_HEIGHT] || 0)];\n}\n\n/**\n * Element Offset\n */\nfunction rectOffset(element, boundingRect) {\n    var //scrolled = getPageScroll(element.ownerDocument[DEFAULTVIEW]),\n        page = screen(element),\n        rect = boundingRect || element[BOUNDING_RECT](),\n        factor = DIMENSION_INFO.zoomfactor ?\n                    getZoomFactor(global.window.document[IE_PAGE_STAT_ACCESS]) :\n                    1,\n        scrollX = page[0],\n        scrollY = page[1],\n        x = rect.left * factor + scrollX,\n        y = rect.top * factor + scrollY,\n        \n        offset = [\n            x,\n            y,\n            rect.right * factor - page[2],\n            rect.bottom * factor - page[3]];\n    rect = null;\n    return offset;\n}\n\nfunction manualOffset(element) {\n    var root = global.document[IE_PAGE_STAT_ACCESS],\n        body = root.body,\n        css = CSS_MODULE,\n        \n        top = OFFSET_TOP,\n        left = OFFSET_LEFT,\n        mtop = MARGIN_TOP,\n        mleft = MARGIN_LEFT,\n        \n        stop = SCROLL_TOP,\n        sleft = SCROLL_LEFT,\n\n        findStyles = [mleft, mtop],\n        parent = element.offsetParent,\n        style = css.computedStyle(element,\n                        [findStyles]),\n        page = screen(element),\n        x = element[left],\n        y = element[top];\n    \n    x += parseFloat(style[mleft]) || 0;\n    y += parseFloat(style[mtop]) || 0;\n    \n    for (; parent; parent = parent.offsetParent) {\n        \n        if (parent.nodeType === 1) {\n            \n            style = css.computedStyle(parent, findStyles);\n            \n            x += (parent[left] || 0) +\n                            (parent.clientLeft || 0) +\n                            (parseFloat(style[mleft]) || 0);\n                            \n            y += (parent[top] || 0) +\n                            (parent.clientTop || 0) +\n                            (parseFloat(style[mtop]) || 0);\n                            \n        }\n    }\n    \n    parent = element.parentNode;\n    \n    for (; parent && parent !== body; parent = parent.parentNode) {\n        if (parent.nodeType === 1 && parent !== root) {\n            x += parent[sleft] || 0;\n            y += parent[stop] || 0;\n        }\n    }\n    \n    root = parent = body = null;\n    return [\n        x,\n        y,\n        x + element[OFFSET_WIDTH] - page[2],\n        y + element[OFFSET_HEIGHT] - page[3]];\n}\n\n\n/**\n * Page Scroll\n */\nfunction setPageScroll(window, x, y) {\n    var factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1;\n    window.scrollTo(x * factor, y * factor);\n}\n\nfunction w3cPageScrollOffset(window) {\n    var offset = [(window.pageXOffset || 0), (window.pageYOffset || 0)];\n    return offset;\n}\n\nfunction iePageScrollOffset(window) {\n    var M = Math,\n        subject = window.document[IE_PAGE_STAT_ACCESS],\n        factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1,\n        offset = [M.round(subject[SCROLL_LEFT] / factor),\n                    M.round(subject[SCROLL_TOP] / factor)];\n    \n    subject = null;\n    \n    return offset;\n}\n\nfunction getZoomFactor() {\n    var factor = 1;\n    //var rect, body;\n    //\n    //if (boundingRect) {\n    //    body = window.document.body;\n    //    \n    //    // rect is only in physical pixel size in IE before version 8 \n    //    rect = body[BOUNDING_RECT]();\n    //\n    //    // the zoom level is always an integer percent value\n    //    factor = Math.round(\n    //                (rect.right - rect.left / body[OFFSET_WIDTH]) * 100) / 100;\n    //}\n    //\n    //body = null;\n    \n    return factor;\n}\n\n\n/**\n * checking\n */\nfunction isViewable(dom) {\n    var help = DOM;\n    var body, viewable;\n    \n    if (help.is(dom, 1, 9)) {\n        \n        if (dom.nodeType === 9) {\n            return PAGE_VIEW;\n        }\n        \n        body = dom.ownerDocument.body;\n        viewable = (dom === body || help.contains(body, dom)) && ELEMENT_VIEW;\n        body = null;\n        return viewable;\n        \n    }\n    \n    return help.isView(dom) ? PAGE_VIEW : false;\n}\n\n\n/**\n * Accessors\n */\nexport\n    function offset(element, x, y) {\n        \n        // setter\n        if (arguments.length > 1) {\n            return box(element, x, y);\n        }\n        \n        // getter\n        switch (isViewable(element)) {\n        case PAGE_VIEW:\n            return pageBox(element).slice(0, 2);\n        case ELEMENT_VIEW:\n            return getOffset(element).slice(0, 2);\n        }\n        \n        throw new Error(ERROR_INVALID_ELEMENT);\n        \n    }\n\nexport\n    function size(element, width, height) {\n        \n        // setter\n        if (arguments.length > 1) {\n            return box(element, null, null, width, height);\n        }\n        \n        // getter\n        return isViewable(element) === PAGE_VIEW ?\n                    pageBox(element).slice(2, 4) : getSize(element);\n    }\n\nexport\n    function box(element, x, y, width, height) {\n        var applyStyle, viewmode, dimension;\n        \n        // setter\n        if (arguments.length > 1) {\n            \n            applyStyle = translateBox(element, x, y, null, null, width, height);\n            \n            if (applyStyle) {\n                CSS_MODULE.style(element, applyStyle);\n            }\n            return getModule();\n        }\n        \n        // getter\n        viewmode = isViewable(element);\n        if (viewmode === PAGE_VIEW) {\n            dimension = pageBox(element);\n            x = dimension[0];\n            y = dimension[1];\n            width = dimension[2];\n            height = dimension[3];\n            dimension = screen(element);\n            return [\n                x,\n                y,\n                width - x - dimension[2],\n                height - y - dimension[3],\n                width,\n                height];\n        }\n        \n        if (viewmode !== ELEMENT_VIEW) {\n            throw new Error(ERROR_INVALID_ELEMENT);\n        }\n        dimension = getSize(element);\n        width = dimension[0];\n        height = dimension[1];\n        dimension = getOffset(element);\n        dimension[4] = width;\n        dimension[5] = height;\n        \n        return dimension;\n    }\n\nexport\n    function translateBox(element, x, y, right, bottom, width, height, target) {\n        var css = CSS_MODULE,\n            cssValue = css.unitValue,\n            parse = parseFloat,\n            NUMBER = 'number',\n            hasLeft = false,\n            hasTop = hasLeft,\n            hasRight = hasLeft,\n            hasBottom = hasLeft;\n            \n        var hasWidth, hasHeight, diff, currentDimension;\n            \n        if (isViewable(element) !== ELEMENT_VIEW) {\n            throw new Error(ERROR_INVALID_ELEMENT);\n        }\n        \n        // resolve parameters\n        if (array(x)) {\n            target = y;\n            if (x.length > 4) {\n                height = 5 in x ? x[5] : null;\n                width = 4 in x ? x[4] : null;\n                bottom = 3 in x ? x[3] : null;\n                right = 2 in x ? x[2] : null;\n            }\n            else {\n                height = 3 in x ? x[3] : null;\n                width = 2 in x ? x[2] : null;\n                bottom = null;\n                right = null;\n            }\n            y = 1 in y ? x[1] : null;\n            x = x[0];\n        }\n        \n        if (!object(target)) {\n            target = {};\n        }\n        \n        currentDimension = css.computedStyle(element,\n                                        'position',\n                                        'top',\n                                        'left',\n                                        'right',\n                                        'bottom',\n                                        'width',\n                                        'height');\n        \n        // resolve position\n        switch (currentDimension.position) {\n        case 'relative':\n        /* falls through */\n        case 'absolute':\n        case 'fixed':\n            \n            // create position\n            x = cssValue(x);\n            y = cssValue(y);\n            right = cssValue(right);\n            bottom = cssValue(bottom);\n            \n            hasLeft = x !== false;\n            hasTop = y !== false;\n            hasRight = !hasLeft && right !== false;\n            hasBottom = !hasBottom && bottom !== false;\n            \n            if (hasLeft || hasRight || hasTop || hasBottom) {\n                \n                diff = getOffset(element);\n                \n                if (hasLeft) {\n                    target.left = typeof x === NUMBER ? (\n                                        (parse(currentDimension.left) || 0) +\n                                        (x - diff[0])\n                                    ) + 'px' :\n                                    x;\n                    \n                }\n                else if (hasRight) {\n                    target.right = typeof right === NUMBER ? (\n                                        (parse(currentDimension.right) || 0) +\n                                        (right - diff[2])\n                                    ) + 'px' :\n                                    right;\n                }\n                \n                if (hasTop) {\n                    target.top = typeof y === NUMBER ? (\n                                        (parse(currentDimension.top) || 0) +\n                                        (y - diff[1])\n                                    ) + 'px' :\n                                    y;\n                }\n                else if (hasBottom) {\n                    target.bottom = typeof right === NUMBER ? (\n                                        (parse(currentDimension.bottom) || 0) +\n                                        (bottom - diff[3])\n                                    ) + 'px' :\n                                    bottom;\n                }\n            }\n            \n        }\n        \n        \n        \n        // resolve size\n        width = cssValue(width);\n        hasWidth = width !== false;\n        if (hasWidth) {\n            target.width = typeof width === NUMBER ? (\n                                parse(currentDimension.width || 0) +\n                                (width - element[OFFSET_WIDTH])\n                            ) + 'px' :\n                            width;\n        }\n        \n        height = cssValue(height);\n        hasHeight = height !== false;\n        if (hasHeight) {\n            target.height = typeof height === NUMBER ? (\n                                parse(currentDimension.height || 0) +\n                                (height - element[OFFSET_HEIGHT])\n                            ) + 'px' :\n                            height;\n        }\n    \n        return hasLeft || hasRight || hasTop || hasBottom ||\n                hasWidth || hasHeight ? target : null;\n    }\n\nexport\n    function scroll(dom, x, y) {\n        var setter = arguments.length > 1,\n            isNumber = number,\n            stop = SCROLL_TOP,\n            sleft = SCROLL_LEFT;\n        var current, window;\n        \n        // validate x and y\n        if (setter) {\n            if (!isNumber(x)) {\n                x = false;\n            }\n            if (!isNumber(y)) {\n                y = false;\n            }\n        }\n        \n        switch (isViewable(dom)) {\n        case PAGE_VIEW:\n            window = DOM.is(dom) ?\n                            dom[DEFAULTVIEW] : dom;\n            current = getPageScroll(window);\n            \n            if (setter) {\n                setPageScroll(window,\n                                x === false ?\n                                    current[0] : x,\n                                y === false ?\n                                    current[1] : y);\n            }\n            else {\n                return current;\n            }\n            break;\n        \n        case ELEMENT_VIEW:\n            if (setter) {\n                dom[sleft] = x === false ? dom[sleft] : x;\n                dom[stop] = y === false ? dom[stop] : y;\n            }\n            else {\n                return [dom[sleft], dom[stop]];\n            }\n            break;\n        \n        default:\n            throw new Error(ERROR_INVALID_DOM);\n        }\n    }\n    \n/**\n * Visibility\n */\nexport\n    function visible(element, visibility, displayed) {\n        var style = null,\n            css = CSS_MODULE,\n            isString = string,\n            len = arguments.length,\n            attached = isViewable(element) === ELEMENT_VIEW;\n        \n        // setter\n        if (len > 1) {\n            style = {};\n            \n            if (isString(visibility)) {\n                style.visibility = visibility;\n            }\n            else if (typeof visiblity === 'boolean') {\n                style.visibility = visibility ? 'visible' : 'hidden';\n            }\n            \n            \n            if (displayed === false) {\n                displayed = 'none';\n            }\n            \n            if (isString(displayed)) {\n                style.display = displayed;\n            }\n            \n            css.style(element, style);\n            \n            return getModule();\n            \n        }\n        \n        // getter\n        if (attached) {\n            style = CSS_MODULE.computedStyle(element,\n                            'display',\n                            'visibility');\n            return style.display !== 'none' && style.visibility !== 'hidden';\n        }\n        \n        return false;\n    }\n\n/**\n * Screen offset and size\n */\nexport\n    function screen(dom) {\n        var help = DOM,\n            subject = dom;\n        var box, size;\n        if (help.is(subject, 1, 9)) {\n            subject = (subject.nodeType === 1 ?\n                            subject.ownerDocument : subject)[\n                                help.documentViewAccess];\n        }\n        if (!help.isView(subject)) {\n            subject = global.window;\n        }\n        box = getPageScroll(subject);\n        size = getScreenSize(subject);\n        \n        box[2] = size[0];\n        box[3] = size[1];\n        subject = null;\n        return box;\n        \n    }\n\nexport default exported;\n\n/**\n * initialize\n */\nDIMENSION_INFO = DETECTED && DETECTED.dimension;\nif (DIMENSION_INFO) {\n    \n    // strict mode\n    if (!DETECTED.browser.strict) {\n        IE_PAGE_STAT_ACCESS = 'body';\n    }\n    \n    USE_ZOOM_FACTOR = DIMENSION_INFO.zoomfactor;\n    DEFAULTVIEW = DETECTED.dom.defaultView;\n    IEVERSION = DETECTED.browser.ieVersion;\n    \n    getPageScroll = DIMENSION_INFO.pagescroll ?\n                        w3cPageScrollOffset :\n                        iePageScrollOffset;\n    \n    getScreenSize = DIMENSION_INFO.screensize ?\n                        w3cScreenSize :\n                        ieScreenSize;\n\n    boundingRect = DIMENSION_INFO.rectmethod && BOUNDING_RECT;\n    \n    getOffset = boundingRect ? rectOffset : manualOffset;\n    \n                        \n    getSize = boundingRect ? rectSize : manualSize;\n}\n\n\n\n\n\n","'use strict';\n\n/**\n *  Easing Formula taken from: http://gizma.com/easing\n *\n *  currentFrame = current frame\n *  startValue = start value\n *  endValue = end value\n *  totalFrames = total frame\n *  \n */\n    \n\nexport let\n    linear = linearTween,\n    easeIn = easeInQuad,\n    easeOut = easeOutQuad,\n    easeInOut = easeInOutQuad;\n\n    \n// simple linear tweening - no easing, no acceleration\nexport\n    function linearTween(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n                    currentFrame / totalFrames + startValue;\n    }\n\n//  quadratic easing in - accelerating from zero velocity\nexport\n    function easeInQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        return endValue * currentFrame * currentFrame + startValue;\n    }\n\n// quadratic easing out - decelerating to zero velocity\nexport\n    function easeOutQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        return -endValue * currentFrame * (currentFrame-2) + startValue;\n    }\n\n\t\t\n\n// quadratic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 * currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame--;\n        return -endValue / 2 *\n                    (currentFrame * (currentFrame - 2) - 1) + startValue;\n    }\n\n// cubic easing in - accelerating from zero velocity\nexport\n    function easeInCubic(currentFrame, startValue, endValue, totalFrames) {\n        \n        currentFrame /= totalFrames;\n        \n        return endValue * currentFrame * currentFrame * currentFrame + startValue;\n    }\n\t\t\n\n// cubic easing out - decelerating to zero velocity\nexport\n    function easeOutCubic(currentFrame, startValue, endValue, totalFrames) {\n        \n        currentFrame /= totalFrames;\n        currentFrame--;\n        return endValue *\n                    (currentFrame * currentFrame * currentFrame + 1) +\n                    startValue;\n    }\n\n\t\t\n\n// cubic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutCubic(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                    currentFrame * currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame -= 2;\n        return endValue / 2 *\n                (currentFrame * currentFrame * currentFrame + 2) + startValue;\n    }\n\t\n\n// quartic easing in - accelerating from zero velocity\nexport\n    function easeInQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return endValue *\n                currentFrame * currentFrame * currentFrame * currentFrame +\n                startValue;\n    }\n\n// quartic easing out - decelerating to zero velocity\nexport\n    function easeOutQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return -endValue *\n                (currentFrame *\n                    currentFrame *\n                    currentFrame *\n                    currentFrame - 1) +\n                startValue;\n    }\n\n// quartic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                        currentFrame *\n                        currentFrame *\n                        currentFrame *\n                        currentFrame +\n                            startValue;\n        }\n        \n        currentFrame -= 2;\n        return -endValue / 2 *\n                (currentFrame * currentFrame * currentFrame * currentFrame - 2) +\n                startValue;\n    }\n\n// quintic easing in - accelerating from zero velocity\nexport\n    function easeInQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return endValue *\n                currentFrame * currentFrame * currentFrame *\n                currentFrame * currentFrame + startValue;\n    }\n\n// quintic easing out - decelerating to zero velocity\nexport\n    function easeOutQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return endValue *\n                    (currentFrame * currentFrame * currentFrame *\n                     currentFrame * currentFrame + 1) + startValue;\n    }\n\n// quintic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            \n            return endValue / 2 *\n                    currentFrame * currentFrame * currentFrame *\n                    currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame -= 2;\n        return endValue / 2 *\n                (currentFrame * currentFrame * currentFrame *\n                    currentFrame * currentFrame + 2) + startValue;\n    }\n\t\t\n// sinusoidal easing in - accelerating from zero velocity\nexport\n    function easeInSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return -endValue *\n                M.cos(currentFrame / totalFrames * (M.PI / 2)) +\n                endValue + startValue;\n    }\n\n// sinusoidal easing out - decelerating to zero velocity\nexport\n    function easeOutSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return endValue *\n                M.sin(currentFrame / totalFrames * (M.PI / 2)) + startValue;\n    }\n\n// sinusoidal easing in/out - accelerating until halfway, then decelerating\nexport\n    function easeInOutSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return -endValue / 2 *\n                (M.cos(M.PI * currentFrame / totalFrames) - 1) + startValue;\n    }\n\n// exponential easing in - accelerating from zero velocity\nexport\n    function easeInExpo(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n                Math.pow(2, 10 * (currentFrame / totalFrames - 1)) + startValue;\n    }\n\n// exponential easing out - decelerating to zero velocity\nexport\n    function easeOutExpo(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n            (-Math.pow(2, -10 * currentFrame / totalFrames ) + 1) + startValue;\n    }\n\n// exponential easing in/out - accelerating until halfway, then decelerating\nexport\n    function easeInOutExpo(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                        M.pow(2, 10 * (currentFrame - 1)) + startValue;\n        }\n        \n        currentFrame--;\n        \n        return endValue / 2 * (-M.pow(2, -10 * currentFrame) + 2) + startValue;\n    }\n\n// circular easing in - accelerating from zero velocity\nexport\n    function easeInCirc(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return -endValue *\n                (Math.sqrt(1 - currentFrame * currentFrame) - 1) + startValue;\n    }\n\n// circular easing out - decelerating to zero velocity\nexport\n    function easeOutCirc(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return endValue * Math.sqrt(1 - currentFrame * currentFrame) +\n                startValue;\n    }\n\n// circular easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutCirc(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        currentFrame /= totalFrames / 2;\n        if (currentFrame < 1) {\n            return -endValue / 2 *\n                    (M.sqrt(1 - currentFrame * currentFrame) - 1) + startValue;\n        }\n        currentFrame -= 2;\n        return endValue / 2 *\n                    (M.sqrt(1 - currentFrame * currentFrame) + 1) + startValue;\n    }\n","'use strict';\n\nimport {\n            string,\n            number,\n            method,\n            object,\n            contains,\n            each\n        } from \"libcore\";\n        \nimport STRING from \"./string.js\";\n\nimport { parse as colorParse } from \"./color.js\";\n\nimport * as EASING from \"./easing.js\";\n\nimport CSS_MODULE from \"./css.js\";\n\nimport DIMENSION from \"./dimension.js\";\n\n\nvar SESSION_ACCESS = '__animate_session',\n    BOX_POSITION = {\n        left: 0,\n        top: 1,\n        right: 2,\n        bottom: 3,\n        width: 4,\n        height: 5\n    },\n    BOX_RE = CSS_MODULE.boxRe,\n    DIMENSION_RE = CSS_MODULE.dimensionRe,\n    COLOR_RE = CSS_MODULE.colorRe,\n    SESSIONS = {},\n    exported = {\n        easing: EASING,\n        defaultEasing: 'easeOut',\n        duration: 0.5,\n        interval: 10,\n        each: animate,\n        has: hasAnimationType,\n        style: animateStyle\n    };\n\n/**\n * Stuff to try:\n *  transition-timing-function (emulate):\n *      linear|ease|ease-in|ease-out|ease-in-out|\n *      step-start|step-end|steps(int,start|end)|\n *      cubic-bezier(n,n,n,n)|initial|inherit\n */\n\nfunction animate(callback, from, to, type, duration) {\n    var M = Math,\n        string = STRING,\n        easing = EASING,\n        isObject = object,\n        list = SESSIONS,\n        defaultInterval = exported.interval,\n        clear = clearInterval,\n        set = setInterval,\n        interval = null,\n        alen = arguments.length,\n        frame = 0;\n        \n    var frames, displacements;\n    \n    function stop() {\n        var fn = stop;\n        \n        if (interval) {\n            clear(interval);\n            delete list[interval];\n            delete fn.session;\n            delete fn.update;\n            delete fn.running;\n            interval = null;\n        }\n        fn = null;\n    }\n    \n    function update(updates, initialValues, animationType) {\n        var specs = displacements,\n            typeObject = isObject;\n        \n        if (interval) {\n            if (!typeObject(updates)) {\n                throw new Error(string[1152]);\n            }\n            \n            if (!typeObject(initialValues)) {\n                initialValues = specs[3];\n            }\n            applyDisplacements(specs, initialValues, updates, animationType);\n            // reset frame\n            frame = 0;\n            \n        }\n    }\n    \n    function run() {\n        var specs = displacements,\n            names = specs[0],\n            from = specs[1],\n            to = specs[2],\n            total = frames,\n            current = ++frame,\n            len = names.length,\n            result = {},\n            eased = type(current, 0, 1, total),\n            last = current === total;\n            \n        var start;\n        \n        // normal animation\n        for (; len--;) {\n            start = from[len];\n            result[names[len]] = (to[len] - start) * eased + start;\n        }\n        \n        \n        specs[3] = result;\n        callback(result, current, total);\n        \n        if (last) {\n            stop();\n        }\n        \n    }\n    \n    if (!method(callback)) {\n        throw new Error(string[1151]);\n    }\n    \n    if (!isObject(from) || !isObject(to)) {\n        throw new Error(string[1152]);\n    }\n    \n    // validate type\n    if (alen < 4) {\n        type = exported.defaultEasing;\n    }\n    else if (!hasAnimationType(type)) {\n        throw new Error(string[1153]);\n    }\n    \n    // validate duration\n    if (alen < 5) {\n        duration = exported.duration;\n    }\n    else if (!number(duration) || duration < 1) {\n        throw new Error(string[1154]);\n    }\n    \n    // prepare displacements\n    type = easing[type];\n    duration *= 1000;\n    frames = M.max(10, M.round(duration / defaultInterval));\n    \n    displacements = [[], [], [], from, stop];\n    interval = set(run, defaultInterval);\n    stop.session = interval;\n    stop.update = update;\n    stop.running = true;\n    list[interval] = displacements;\n    displacements = applyDisplacements(displacements, from, to);\n    return stop;\n    \n}\n\nfunction validValue(value) {\n    if (string(value)) {\n        value = parseFloat(value);\n    }\n    return number(value) && value;\n}\n\nfunction applyDisplacements(session, from, to) {\n    \n    each(to, onApplyDisplacement, [from, session], true);\n    \n    return session;\n}\n\nfunction onApplyDisplacement(value, name, to) {\n    /* jshint validthis:true */\n    var context = this,\n        format = validValue,\n        from = context[0],\n        session = context[1],\n        names = session[0],\n        sourceValues = session[1];\n        \n    var index, source, target, sourceEnded;\n        \n    target = format(to[name]);\n    \n    if (target !== false) {\n        index = names.indexOf(name);\n        source = contains(from, name) &&\n                    format(from[name]);\n                    \n        sourceEnded = source === false;\n        \n        // create from source if did not exist\n        if (index === -1) {\n            if (sourceEnded) {\n                return true;\n            }\n            index = names.length;\n            names[index] = name;\n            \n        }\n        else if (sourceEnded) {\n            \n            source = sourceValues[index];\n        }\n        \n        // update\n        sourceValues[index] = source;\n        session[2][index] = target;\n        \n    }\n\n    \n    return true;\n}\n\nfunction hasAnimationType(type) {\n    return string(type) && contains(EASING, type);\n}\n\n/**\n * CSS animation\n */\nfunction animateStyle(element, styles, type) {\n    var access = SESSION_ACCESS,\n        stat = [[], {}, [], {}];\n    //var values = createElementValues(styles);\n    \n    var session, sessionId, animateObject,\n        names, defaults, animateValues, staticValues;\n        \n    each(styles, eachElementValues, stat);\n    \n    names = stat[0];\n    animateValues = stat[1];\n    staticValues = stat[3];\n        \n    // has animation\n    if (names.length) {\n        sessionId = element.getAttribute(access);\n        defaults = createStyleDefaults(element, names);\n        \n        if (!hasAnimationType(type)) {\n            type = exported.defaultEasing;\n        }\n        \n        // create\n        if (!sessionId) {\n            animateObject = {\n                node: element\n            };\n            \n            session = animate(createElementHandler(animateObject),\n                                            defaults,\n                                            animateValues,\n                                            type);\n            \n            animateObject.id = sessionId = session.session;\n            \n            element.setAttribute(access, sessionId);\n            \n        }\n        // update\n        else {\n            \n            session = SESSIONS[sessionId][4];\n            session.update(animateValues, defaults, type);\n            \n        }\n    }\n    \n    if (stat[2].length) {\n        CSS_MODULE.style(element, staticValues);\n    }\n    \n}\n\nfunction createElementHandler(animate) {\n    function onAnimate(values, current, total) {\n        var session = animate,\n            node = session.node;\n        \n        // transform dimension\n        DIMENSION.translate(node,\n                            'left' in values ? values.left : null,\n                            'top' in values ? values.top : null,\n                            'right' in values ? values.right : null,\n                            'bottom' in values ? values.bottom : null,\n                            'width' in values ? values.width : null,\n                            'height' in values ? values.height : null,\n                            values);\n        \n        CSS_MODULE.style(node, values);\n        \n        if (current === total) {\n            node.removeAttribute(SESSION_ACCESS);\n            session.node = null;\n            delete session.node;\n        }\n        \n        session = node = null;\n    }\n    return onAnimate;\n}\n\nfunction createStyleDefaults(element, names) {\n    var css = CSS_MODULE,\n        values = css.computedStyle(element, names),\n        dimension = DIMENSION,\n        c = -1,\n        l = names.length,\n        cssValue = css.unitValue,\n        dimensionRe = DIMENSION_RE,\n        colorRe = COLOR_RE,\n        parse = colorParse,\n        boxRe = BOX_RE,\n        boxPosition = BOX_POSITION,\n        box = null;\n    var name, value;\n    \n    for (; l--;) {\n        name = names[++c];\n        value = values[name];\n        if (boxRe.test(name)) {\n            if (!box) {\n                box = dimension.box(element);\n            }\n            value = box[boxPosition[name]];\n        }\n        else if (dimensionRe.test(name)) {\n            value = cssValue(value);\n        }\n        else if (colorRe.test(name)) {\n            value = parse(value);\n        }\n        values[name] = parseFloat(value) || 0;\n    }\n    \n    return values;\n}\n\n\nfunction eachElementValues(value, name) {\n    /*jshint validthis:true */\n    var stat = this,\n        names = stat[0],\n        values = stat[1],\n        snames = stat[2],\n        statics = stat[3],\n        raw = value;\n    \n    // opacity\n    if (name === 'opacity') {\n        value = parseFloat(raw);\n        \n    }\n    // box and dimension\n    else if (BOX_RE.test(name) || DIMENSION_RE.test(name)) {\n        value = CSS_MODULE.unitValue(raw);\n        \n    }\n    // color\n    else if (COLOR_RE.test(name)) {\n        value = colorParse(raw);\n        if (value === null) {\n            value = false;\n        }\n    }\n    \n    if (number(value)) {\n        names[names.length] = name;\n        values[name] = value;\n    }\n    else if (value !== false) {\n        snames[snames.length] = name;\n        statics[name] = value;\n    }\n}\n\nexport default exported;\n\n","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","'use strict';\n\nimport { env } from \"libcore\";\n\nvar ROOT = global,\n    browser = env.browser,\n    strict = false,\n    ieVersion = 0,\n    ie8 = false,\n    exported = false;\n\nvar match, ieVersion;\n\nif (browser) {\n  match = env.userAgent.match(/msie ([0-9]+\\.[0-9]+)/i);\n\n  exported = {\n    strict: ROOT.document.compatMode === 'CSS1Compat',\n    ieVersion: match && parseInt(match[1], 10) || 0,\n    ie8: ieVersion === 8\n  };\n\n}\n\nROOT = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n  exported = false;\n\nif (browser) {\n  exported = {\n    w3c: !!WINDOW.addEventListener,\n    ie: !!WINDOW.attachEvent,\n    customEvent: !!WINDOW.CustomEvent\n  }\n}\n\nWINDOW = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar DOCUMENT, ROOT;\n\nif (browser) {\n  DOCUMENT = WINDOW.document;\n  ROOT = DOCUMENT.documentElement;\n  exported = {\n    compare: !!ROOT.compareDocumentPosition,\n    contains: !!ROOT.contains,\n    defaultView: DOCUMENT.defaultView ?\n                    'defaultView' :\n                    DOCUMENT.parentWindow ?\n                        'parentWindow' : null,\n    querySelectorAll: !!DOCUMENT.querySelectorAll,\n    listToArray: ROOT.childNodes instanceof Object\n  }\n\n}\n\nDOCUMENT = ROOT = null;\n\nexport default exported;\n","'use strict';\n\n\nimport {\n            string\n        } from \"libcore\";\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar DOC, DIV, STYLE, name, color;\n\nfunction detectAlphaColor(style) {\n    var rgba = 'rgba(0,0,0,0.5)';\n\n    try {\n        style.color = rgba;\n        color = style.color;\n\n        if (string(color)) {\n            color = color.replace(/[ \\r\\n\\t\\s]+/g, '').toLowerCase();\n        }\n\n        if (rgba === color) {\n            return true;\n        }\n    }\n    catch (e) {}\n\n    return false;\n}\n\nfunction detectTransition(style) {\n    var supports = ['OTransition',\n                            'webkitTransition',\n                            'MozTransition',\n                            'transition'],\n        l = supports.length;\n\n    for (l = supports.length; l--;) {\n        name = supports[l];\n        if (typeof style[name] !== 'undefined') {\n            return name;\n        }\n    }\n    return false;\n}\n\n\nif (browser) {\n  DOC = WINDOW.document;\n  DIV = DOC.createElement('div');\n  STYLE = DIV.style;\n\n  exported = {\n    w3cStyle: !!WINDOW.getComputedStyle,\n    ieStyle: !!DOC.documentElement.currentStyle,\n    setattribute: !!STYLE.setAttribute,\n    setproperty: !!STYLE.setProperty,\n    opacity: typeof STYLE.opacity !== 'undefined',\n    filterOpacity: typeof STYLE.filter !== 'undefined',\n    alphaColor: detectAlphaColor(STYLE),\n    transition: detectTransition(STYLE)\n  };\n\n}\n\nWINDOW = DOC = DIV = STYLE = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar ieVersion;\n\nif (browser) {\n  ieVersion = browser.ieVersion;\n  exported = {\n    screensize: typeof WINDOW.innerWidth !== 'undefined',\n    pagescroll: typeof WINDOW.pageXOffset !== 'undefined',\n    rectmethod: !!WINDOW.document.documentElement.getBoundingClientRect,\n    zoomfactor: ieVersion > 0 && ieVersion < 8,\n    ie8: ieVersion === 8\n  };\n\n}\n\nWINDOW = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n  exported = false;\nvar DOCUMENT, ROOTSTYLE, UNDEFINED;\n\nif (browser) {\n  DOCUMENT = global.document;\n  ROOTSTYLE = DOCUMENT.documentElement.style;\n  UNDEFINED = 'undefined';\n\n  exported = {\n    range: !!DOCUMENT.createRange,\n    textrange: !!DOCUMENT.createElement('input').createTextRange,\n    cssUnselectable: typeof ROOTSTYLE.MozUserSelect !== UNDEFINED ?\n                        'MozUserSelect' :\n                        typeof ROOTSTYLE.webkitUserSelect !== UNDEFINED ?\n                            'webkitUserSelect' : false\n  };\n\n}\n\nDOCUMENT = ROOTSTYLE = null;\n\nexport default exported;\n","'use strict';\n\n\nimport browser from \"./detect/browser.js\";\nimport { default as domEvent } from \"./detect/event.js\";\nimport dom from \"./detect/dom.js\";\nimport css from \"./detect/css.js\";\nimport dimension from \"./detect/dimension.js\";\nimport selection from \"./detect/selection.js\";\n\nvar exported = false;\n\nif (browser) {\n    exported = {\n      browser: browser,\n      event: domEvent,\n      dom: dom,\n      css: css,\n      dimension: dimension,\n      selection: selection\n    };\n}\n\nexport default exported;\n","'use strict';\n\n\nvar NUMBER = 1,\n    HEX = 2,\n    PERCENT = 3,\n    HAS_UNIT_RE = /\\%$/;\n\nfunction format(value, colorFormat) {\n    \n    switch (colorFormat) {\n    case HEX:\n        return parseInt(value, 16) || 0;\n    \n    case NUMBER:\n        value = 1 * value;\n        return value || 0;\n\n    case PERCENT:\n        value = HAS_UNIT_RE.test(value) ?\n                    1 * value.substring(0, value.length -1) :\n                    1 * value;\n\n        return Math.round((value || 1) * 100);\n    }\n    return 0;\n}\n\nexport default {\n                NUMBER,\n                HEX,\n                PERCENT,\n                format\n            };\n\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger as rgbaToInteger\n        } from \"./rgba.js\";\n\nexport\n    function toString(integer) {\n        return 'rgb(' + toArray(integer).slice(0, 3).join(',') + ')';\n    }\n\nexport\n    function toInteger(r, g, b) {\n        return rgbaToInteger(r, g, b, 100);\n    }\n\nexport {\n            itemize,\n            toArray\n        };\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger\n        } from \"./hsla.js\";\n\nexport\n    function toString(integer) {\n        var values = toArray(integer).slice(0, 3);\n        values[1] += '%';\n        values[2] += '%';\n        return 'hsl(' + values.join(',') + ')';\n    }\n\nexport {\n        itemize,\n        toArray,\n        toInteger\n    };\n\n","'use strict';\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport STRING from \"./string.js\";\n\nimport DOM from \"./dom.js\";\n\nimport DIMENSION from \"./dimension.js\";\n\n\nvar ERROR_DOM = STRING[1102],\n    SELECT_ELEMENT = null,\n    CLEAR_SELECTION = null,\n    UNSELECTABLE = attributeUnselectable,\n    DETECTED_SELECTION = null,\n    DETECTED_DOM = null,\n    \n    CSS_UNSELECT = null,\n    \n    exported = {\n        select: select,\n        clear: clear,\n        unselectable: unselectable\n    };\n    \n\n\nfunction webkitUnselectable(element, selectable) {\n    element.style.webkitUserSelect = selectable ? 'text' : 'none';\n}\n\nfunction geckoUnselectable(element, selectable) {\n    element.style.MozUserSelect = selectable ? 'text' : 'none';\n}\n\nfunction attributeUnselectable(element, selectable) {\n    element.unselectable = selectable ? 'off' : 'on';\n    \n}\n\n\nfunction selectionNotSupported() {\n    throw new Error(STRING[2005]);\n}\n\n/**\n * Select\n */\nfunction ieSelectElement(startElement, endElement) {\n    var body = startElement.ownerDocument.body,\n        startRange = body.createTextRange();\n    var endRange;\n    \n    startRange.moveToElementText(startElement);\n    if (endElement) {\n        endRange = body.createTextRange();\n        endRange.moveToElementText(endElement);\n        startRange.setEndPoint(\"EndToEnd\", endRange);\n    }\n    startRange.select();\n\n    body = endRange = startRange = null;\n}\n\n\nfunction ieClearSelection(document) {\n    document.selection.empty();\n}\n\n\n\nfunction w3cSelectElement(startElement, endElement) {\n    var document = startElement.ownerDocument,\n        startRange = document.createRange(),\n        endRange = document.createRange(),\n        selection = document[DETECTED_DOM.defaultView].getSelection();\n    \n    startRange.selectNodeContents(startElement);\n    if (endElement) {\n        endRange.selectNodeContents(endElement);\n    }\n    \n    selection.addRange(startRange);\n    if (endElement) {\n        selection.addRange(endRange);\n    }\n    \n    document = selection = startRange = endRange = null;\n}\n\nfunction w3cClearSelection(document) {\n    document[DETECTED_DOM.defaultView].getSelection().removeAllRanges();\n}\n\nexport\n    function select(from, to) {\n        var dimension = DIMENSION;\n        \n        if (DOM.is(from, 9)) {\n            from = from.body;\n        }\n        \n        if (!dimension.visible(from)) {\n            throw new Error(STRING[1101]);\n        }\n        \n        if (arguments.length < 2) {\n            to = null;\n        }\n        \n        if (to !== null && !dimension.visible(to)) {\n            throw new Error(ERROR_DOM);\n        }\n        \n        SELECT_ELEMENT(from, to);\n        \n        return getModule();\n        \n    }\n\nexport\n    function clear(documentNode) {\n        if (!DOM.is(documentNode, 9)) {\n            if (arguments.length > 0) {\n                throw new Error(STRING[1104]);\n            }\n            else {\n                documentNode = global.document;\n            }\n        }\n        \n        CLEAR_SELECTION(documentNode);\n        \n        return getModule();\n    }\n\nexport\n    function unselectable(element, disableSelect) {\n        if (!DOM.is(element, 1)) {\n            throw new Error(ERROR_DOM);\n        }\n        \n        UNSELECTABLE(element,\n                     disableSelect === false);\n        \n        return getModule();\n    }\n\nif (DETECTED) {\n    DETECTED_DOM = DETECTED.dom;\n    DETECTED_SELECTION = DETECTED.selection;\n    CSS_UNSELECT = DETECTED_SELECTION.cssUnselectable;\n    \n    if (DETECTED_SELECTION.range) {\n        SELECT_ELEMENT = w3cSelectElement;\n        CLEAR_SELECTION = w3cClearSelection;\n    }\n    else if (DETECTED_SELECTION.textrange) {\n        SELECT_ELEMENT = ieSelectElement;\n        CLEAR_SELECTION = ieClearSelection;\n    }\n    else {\n        SELECT_ELEMENT = CLEAR_SELECTION = selectionNotSupported;\n    }\n    \n    if (CSS_UNSELECT) {\n        UNSELECTABLE = CSS_UNSELECT === 'MozUserSelect' ?\n                            geckoUnselectable : webkitUnselectable;\n    }\n\n}\n\nexport default exported;","'use strict';\n\nimport {\n            env,\n            rehash\n        } from \"libcore\";\n\nimport detect from \"./lib/detect.js\";\n\nimport string from \"./lib/string.js\";\n\nimport dom from \"./lib/dom.js\";\n\nimport css from \"./lib/css.js\";\n\nimport eventModule from \"./lib/event.js\";\n\nimport dimension from \"./lib/dimension.js\";\n\nimport selection from \"./lib/selection.js\";\n\nimport * as color from \"./lib/color.js\";\n\nimport animation from \"./lib/animation.js\";\n\nimport { use as registerModule } from \"./lib/chain.js\";\n\nvar exported = {\n        env: env,\n        info: detect\n    };\n\nif (detect) {\n\n    rehash(exported,\n           string,\n           {\n                \"xmlEncode\": \"xmlEncode\",\n                \"xmlDecode\": \"xmlDecode\"\n            });\n\n    // dom structure\n    rehash(exported,\n            dom,\n            {\n                'is': 'is',\n                'isView': 'isView',\n                'contains': 'contains',\n\n                'select': 'select',\n\n                'eachNodePreorder': 'eachPreorder',\n                'eachNodePostorder': 'eachPostorder',\n                'eachNodeLevelorder': 'eachLevel',\n\n                'add': 'add',\n                'move': 'move',\n                'replace': 'replace',\n                'remove': 'remove'\n            });\n\n    rehash(exported,\n           css,\n            {\n                'addClass': 'add',\n                'removeClass': 'remove',\n                'computedStyle': 'computedStyle',\n                'stylize': 'style',\n                'stylify': 'currentStyle'\n            });\n\n\n    rehash(exported,\n            eventModule,\n            {\n                'on': 'on',\n                'un': 'un',\n                'purge': 'purge',\n                'dispatch': 'fire',\n                \"destructor\": \"ondestroy\"\n            });\n\n    rehash(exported,\n            dimension,\n            {\n                'offset': 'offset',\n                'size': 'size',\n                'box': 'box',\n                'scroll': 'scroll',\n                'screen': 'screen'\n            });\n\n    rehash(exported,\n            selection,\n            {\n                'highlight': 'select',\n                'unhighlightable': 'unselectable',\n                'clearHighlight': 'clear'\n            });\n\n    rehash(exported,\n            color,\n            {\n                'parseColor': 'parse',\n                'parseColorType': 'parseType',\n                'formatColor': 'stringify'\n            });\n\n    rehash(exported,\n            animation,\n            {\n                'transition': 'each',\n                'animateStyle': 'style'\n            });\n\n    //css.chain =\n    //    eventModule.chain =\n    //    dimension.chain =\n    //    selection.chain = exported;\n\n}\n\n\nglobal.libdom = exported;\n\nregisterModule(exported);\n\nexport default exported;\n\n//module.exports =\n//    exported['default'] =        // attach \"default\" for ES6 import\n//    //CORE.dom =                  // attach libdom to libcore from \"dom\"\n//    //global.gago = EXPORTS;\n//    global.libdom = exported;    // attach as global \"libdom\" variable\n"],"names":["objectSignature","subject","undefined","UNDEFINED_SIGNATURE","NUMBER","isFinite","NULL_SIGNATURE","toString","call","isNativeObject","constructor","result","O","OBJECT","isSignature","OBJECT_SIGNATURE","hasOwnProperty","isString","allowEmpty","STRING","O$1","STRING_SIGNATURE","length","isNumber","isFunction","METHOD_SIGNATURE","isArray","notEmpty","ARRAY_SIGNATURE","isDate","DATE_SIGNATURE","isRegExp","REGEX_SIGNATURE","isThenable","NaN","NUMBER_SIGNATURE","BOOLEAN_SIGNATURE","then","isIterable","empty","isValidObject","target","signature$$1","apply","value","name","this","applyProperties","assignAll","source","defaults","onAssign","eachProperty","EACH","applyClear","arguments","applyFillin","contains","compareLookback","object1","object2","references","len","context","isObject","object","isArray$$1","isRegex","isDate$$1","onCompare","onEachCompareObject","each","me","depth","lastIndexOf","cloneObject","data","parents","cloned","recreated","onEachClonedProperty","cloneArray","onProperty","c","l","index","isNative","clone","onMaxNumericIndex","ARRAY_INDEX_RE","test","Math","max","assign","ownedOnly","is","Error","rehash","access","property","OHasOwn","instantiate","Class","overrides","prototype","deep","slice","RegExp","flags","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","compare","clear","maxObjectIndex","set","handler","items","parsed","parseName","list","RUNNERS","Function","before","after","getPositionAccess","CHAIN","run","args","scope","runners","get","Array","input","POSITION_BEFORE","position","namespace","match","NAME_RE","POSITION_AFTER","middlewareNamespace","register","NAMESPACES","createRunInNamespace","createRegisterInNamespace","chain","ns","nsRun","nsRegister","setModuleChain","utf16ToUtf8","code","half","HALF_BYTE","sixBits","SIX_BITS","code2char","fromCharCode","utf8","ul","INVALID_SUBJECT","charCodeAt","join","utf8ToUtf16","utf16","charAt","camelize","replace","CAMEL_RE","applyCamelize","all","toUpperCase","applyUncamelize","toLowerCase","onParsePath","last","isAccessible","item","Number","String","Boolean","isWritable","isJSONWritable","findCallback","operation","onPopulatePath","iswritable","writable","success","onRemovePath","existsCallback","exists","jsonParsePath","path","jsonEach","jsonFind","object$$1","callback","arg1","arg2","arg3","arg4","arg5","chr","state","stateObject","next","actionObject","buffer","bl","pending","start_queue","map","STATE","action","STATE_ACTION","start","START","start_escaped","START_ESCAPED","queue","QUEUE","end","END","end_empty","END_EMPTY","ERROR_PATH_INVALID","jsonUnset","returnValue","NUMERIC_RE","splice","jsonFill","parent","parentIndex","arrayIndex","typeArray","getMax","has","arrayIndexRe","ARRAY_INDEX_RE$1","isSubjectArray","ERROR_NATIVE_OBJECT","jsonExists","create","Registry","isIndex","createPromise","instance","Promise","__state","resolveValue","resolve","error","finalizeValue","promise","INDEX_PENDING","INDEX_STATUS","INDEX_DATA","resolver","onFinalize","reject","finalized","htmlescapeCallback","onDestroy","TEXTAREA","MAIN","listen","observable","type","current","EVENTS","string","ERROR_INVALID_TYPE","method","ERROR_INVALID_HANDLER","RESOLVE","ERROR_OBSERVABLE_NO_SUPPORT","MIDDLEWARE","LISTEN","unlisten","createUnlistener","head","tail","purge","found","filter","getModule","event","destroyed","UNLISTEN","argLen","HAS_OBSERVABLE","HAS_TYPE","HAS_HANDLER","HAS_CONTEXT","w3cCreateHandler","ieCreateHandler","global","iePolyfillEvent","ieCreateCustomHandler","onEvent","customType","iePreventDefault","ieStopPropagation","cancelBubble","eventObject","srcElement","preventDefault","stopPropagation","ieTestCustomEvent","element","ontype","supported","IE_CUSTOM_EVENTS","nodeType","documentElement","tagName","IE_ON","cloneNode","setAttribute","onBeforeUnload","PAGE_UNLOADED","notSupportedContains","purgeEventsFrom","EVENT","getTagNameFromConfig","config","nodeName","tag","applyAttributeToElement","helper","MANIPULATION_HELPERS","EVENT_ATTRIBUTE_RE","substring","applyEventAttribute","DOM_ATTRIBUTE_RE","DOM_ATTRIBUTE_LIST","indexOf","on","applyConfigToElement","usedFragment","fragment","doc","created","hasOwn","hasProperty","resolveTagName","applyAttribute","htmlEncodeChild","childNodes","main","xmlEncode","innerHTML","array","ownerDocument","createDocumentFragment","createElement","appendChild","findChild","node","counter","any","number","isDom","parentNode","firstChild","nextSibling","orderTraverse","orderType","includeRoot","isPostOrder","ERROR_INVALID_DOM","ERROR_INVALID_CALLBACK","ORDER_TYPE_LEVELORDER","ORDER_TYPE_POSTORDER","ORDER_TYPE_PREORDER","matched","hue2rgb","p","q","t","itemize","colorFormat","M","F","format","isFloat","PERCENT","BYTE","min","toArray","integer","h2r","size","psize","BYTE_PERCENT","h","BYTE_HUE","s","a","LUMINOSITY","HUE","SATURATION","round","toFixed","toInteger","r","g","b","d","toHex","percent","HEX","parseInt","preParseValue","str","REMOVE_SPACES","COLOR_RE","parseColorStringType","isHex","TO_COLOR","m","split","parse","itemizer","processor","toProcess","formatPercent","formatNumber","formatHex","numberRe","NUMBER_RE","ERROR_SUBJECT","stringify","colorValue","addClass","classNames","DOM","className","addWord","setStyle","rules","parseCSSText","style","onStyleElement","getStyle","cssText","isScalar","elementStyle","SET_STYLE","stylize","SET_OPACITY","DIMENSION_RE","COLOR.stringify","exported","colorUnit","il","styleManipulationNotSupported","computedStyleNotSupported","ieGetPixelSize","fontSize","sizeWithSuffix","parseFloat","suffix","parentElement","EM_OR_PERCENT_RE","currentStyle","WIDTH_RE","CLIENT_WIDTH","CLIENT_HEIGHT","ieGetPositionStyle","nodeStyle","offsetParent","parentStyle","ieAdjust","DETECTED","browser","ieVersion","ptop","PADDING_TOP","pleft","PADDING_LEFT","pbottom","PADDING_BOTTOM","pright","PADDING_RIGHT","cwidth","cheight","left","OFFSET_LEFT","top","OFFSET_TOP","right","OFFSET_WIDTH","bottom","OFFSET_HEIGHT","width","height","paddingLeft","borderLeftWidth","paddingTop","borderTopWidth","body","marginLeft","marginTop","opacityNotSupported","pageBox","dom","help","box","screen","isView","document","IE_PAGE_STAT_ACCESS","scrollWidth","scrollHeight","setPageScroll","window","x","y","factor","USE_ZOOM_FACTOR","getZoomFactor","scrollTo","isViewable","viewable","PAGE_VIEW","ELEMENT_VIEW","applyStyle","viewmode","dimension","translateBox","CSS_MODULE","ERROR_INVALID_ELEMENT","getSize","getOffset","hasWidth","hasHeight","diff","currentDimension","css","cssValue","unitValue","hasLeft","hasTop","hasRight","hasBottom","computedStyle","documentViewAccess","getPageScroll","getScreenSize","linearTween","currentFrame","startValue","endValue","totalFrames","easeInQuad","easeOutQuad","easeInOutQuad","animate","from","to","duration","stop","fn","interval","session","update","running","frames","displacements","easing","EASING","SESSIONS","defaultInterval","clearInterval","setInterval","alen","frame","defaultEasing","hasAnimationType","specs","names","total","eased","updates","initialValues","animationType","typeObject","applyDisplacements","validValue","onApplyDisplacement","sourceEnded","sourceValues","createElementHandler","values","DIMENSION","translate","removeAttribute","SESSION_ACCESS","createStyleDefaults","dimensionRe","colorRe","colorParse","boxRe","BOX_RE","boxPosition","BOX_POSITION","eachElementValues","stat","snames","statics","raw","self","global$1","ROOT","G","win","defaultView","parentWindow","isBrowser","nodeVersions","process","versions","nodeVersion","nodejs","userAgent","proc","navigator","platform","v8","arch","getUserAgent","validSignature","Object","hasValidSignature","ajax","XMLHttpRequest","indexOfSupport","DETECT","freeze","BOOLEAN","Obj","getOwnPropertyNames","hasown","noChecking","NATIVE_SET_IMMEDIATE","setImmediate","setAsync","setTimeout","clearAsync","id","clearImmediate","clearTimeout","INVALID_ARRAY1","INVALID_ARRAY2","A","array$$1","ONE_BYTE","BASE64_MAP","NOT_BASE64_RE","BASE64_EXCESS_REMOVE_RE","UNCAMEL_RE","[","'","\"","default","\\","bracket_start","]","any_sq_start","any_sq","any_sq_escape","any_dq_start","any_dq","any_dq_escape","sq_start","sq","sq_escape","dq_start","dq","dq_escape","bracket_any","bracket_any_escape","bracket_end",".","any_escape","property_end","ERROR_NAME","ERROR_PATH","onApply","onSet","unset","find","insert","remove","pathExists","G$1","ERROR_ITERABLE","onFulfill","onReject","run$$1","finalize","handle","catch","iterable$$1","TypeError","remaining","stopped","race","tryResolve","reason","env","createRegistry","fillin","middleware","ARRAY","NULL","UNDEFINED","METHOD","FUNCTION","DATE","REGEX","signature","nativeObject","scalar","date","regex","thenable","iterable","unionList","array1","array2","clone$$1","isarray","push","intersectList","l1","l2","total1","total2","foundSame","differenceList","uncamelize","encode64","flag","excess","pad","decode64","oneByte","code2str","utf2bin","bin2utf","jsonCompare","jsonClone","jsonSet","overwrite","valueSignature","currentSignature","arrayOperation","arrayPush","canApply","concat","strict","compatMode","ie8","WINDOW","w3c","addEventListener","ie","attachEvent","customEvent","CustomEvent","DOCUMENT","compareDocumentPosition","querySelectorAll","listToArray","DOC","STYLE","color","w3cStyle","getComputedStyle","ieStyle","setattribute","setproperty","setProperty","opacity","filterOpacity","alphaColor","rgba","e","detectAlphaColor","transition","supports","detectTransition","screensize","innerWidth","pagescroll","pageXOffset","rectmethod","getBoundingClientRect","zoomfactor","ROOTSTYLE","range","createRange","textrange","createTextRange","cssUnselectable","MozUserSelect","webkitUserSelect","domEvent","selection","SEPARATE_RE","STYLIZE_RE","HTML_ESCAPE_CHARS_RE","cl","removeWord","xmlDecode","textarea","1001","1011","1101","1102","1103","1104","1111","1112","1121","1131","1132","1133","1141","1151","1152","1153","1154","2001","2002","2003","2004","2005","2006","detect","DISPATCH","EVENT_INFO","IS_CAPABLE","SUBJECT","IE_BUBBLE_EVENT","IE_NO_BUBBLE_EVENT","un","fire","ondestroy","INFO","listener","removeEventListener","properties","createEvent","initEvent","bubbles","cancelable","dispatchEvent","detachEvent","createEventObject","fireEvent","DOM_INFO","CSS_SELECT","ERROR_INVALID_DOM_NODE","ERROR_INVALID_CSS_SELECTOR","ERROR_INVALID_ELEMENT_CONFIG","INVALID_DESCENDANT_NODE_TYPES","9","11","STD_CONTAINS","ancestor","descendant","selector","CSS_INFO","elementErrorString","eachPreorder","eachPostorder","eachLevel","select","add","toInsert","invalidConfig","insertBefore","destroy","postOrderTraverse","replaceChild","move","nodes","newChild","invalidDom","removeChild","HAS_UNIT_RE","alpha","convert","rgbaToInteger","rgb","rgbColor","rgbaColor","hsl","hsla","hslaColor","hex","hexColor","CSS_MEASUREMENT_RE","IE_ALPHA_OPACITY_RE","IE_ALPHA_OPACITY_TEMPLATE","IE_ALPHA_OPACITY_TEMPLATE_RE","GET_OPACITY","styleOpacity","SLICE","ruleNames","camel","getOpacity","pixelSize","styleFloat","getAttribute","removeProperty","getPropertyValue","opacityRe","DIMENSION_INFO","MARGIN_TOP","MARGIN_LEFT","SCROLL_TOP","SCROLL_LEFT","BOUNDING_RECT","DEFAULTVIEW","boundingRect","offset","scroll","setter","sleft","visible","visibility","displayed","attached","visiblity","display","pageYOffset","innerHeight","clientWidth","clientHeight","page","rect","scrollX","scrollY","root","mtop","mleft","findStyles","clientLeft","clientTop","ERROR_DOM","SELECT_ELEMENT","CLEAR_SELECTION","UNSELECTABLE","selectable","unselectable","DETECTED_SELECTION","DETECTED_DOM","CSS_UNSELECT","documentNode","disableSelect","startElement","endElement","startRange","endRange","getSelection","selectNodeContents","addRange","removeAllRanges","moveToElementText","setEndPoint","linear","easeIn","easeOut","easeInOut","cos","PI","sin","pow","sqrt","styles","sessionId","animateObject","animateValues","staticValues","info","eachNodePreorder","eachNodePostorder","eachNodeLevelorder","removeClass","stylify","eventModule","dispatch","destructor","highlight","unhighlightable","clearHighlight","parseColor","parseColorType","formatColor","animation","animateStyle","libdom","registerModule"],"mappings":"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"}