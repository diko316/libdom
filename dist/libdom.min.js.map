{"version":3,"file":"libdom.min.js","sources":["../src/lib/string.js","../src/lib/chain.js","../src/lib/event.js","../src/lib/dom.js","../src/lib/color/rgba.js","../src/lib/color/hex.js","../src/lib/color/hsla.js","../src/lib/color.js","../src/lib/css.js","../src/lib/dimension.js","../src/lib/selection.js","../src/lib/easing.js","../src/lib/animation.js","../node_modules/rollup-plugin-node-globals/src/global.js","../src/lib/detect/browser.js","../src/lib/detect/event.js","../src/lib/detect/dom.js","../src/lib/detect/css.js","../src/lib/detect/dimension.js","../src/lib/detect/selection.js","../src/lib/detect.js","../src/lib/color/format.js","../src/lib/color/rgb.js","../src/lib/color/hsl.js","../src/index.js"],"sourcesContent":["'use strict';\n\nimport {\n            string,\n            camelize,\n            register,\n            unionList,\n            trim\n        } from \"libcore\";\n        \nimport detect from \"./detect.js\";\n\nvar SEPARATE_RE = /[ \\r\\n\\t]*[ \\r\\n\\t]+[ \\r\\n\\t]*/,\n    STYLIZE_RE = /^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,\n    HTML_ESCAPE_CHARS_RE = /[^\\u0021-\\u007e]|[\\u003e\\u003c\\&\\\"\\']/g,\n    TEXTAREA = null;\n\n\n    \nfunction htmlescapeCallback(chr) {\n    var code = chr.charCodeAt(0).toString(16);\n    var value;\n    switch (code) {\n    case '26': value = 'amp';\n        break;\n    case '22': value = 'quot';\n        break;\n    case '27': value = 'apos';\n        break;\n    case '3C':\n    case '3c': value = 'lt';\n        break;\n    case '3E':\n    case '3e': value = 'gt';\n        break;\n    default:\n        value = '#x' + code;\n    }\n    return '&' + value + ';';\n}\n\n\nfunction initialize() {\n    if (detect) {\n        TEXTAREA = global.document.createElement('textarea');\n        // register destructor\n        register(\"libdom.event.global-destroy\", onDestroy);\n    }\n}\n\nfunction onDestroy() {\n    TEXTAREA = null;\n}\n\ninitialize();\n\nexport let\n    ERROR = {\n        \n        1001: \"Invalid String [name] parameter.\",\n        1002: \"Invalid Boolean [destroy] parameter.\",\n        1011: \"Invalid Function [handler] parameter.\",\n        1021: \"Invalid String [subject] parameter.\",\n        \n    \n        1101: \"Invalid DOM [element] parameter.\",\n        1102: \"Invalid [dom] Object parameter.\",\n        1103: \"Invalid DOM [node] parameter.\",\n        1104: \"Invalid DOM [document] parameter.\",\n        1105: \"Invalid DOM [nodes] parameter.\",\n\n        1106: \"Invalid DOM [from] parameter.\",\n        1107: \"Invalid DOM [to] parameter.\",\n        1108: \"Invalid DOM [before] parameter.\",\n        \n        1111: \"Invalid CSS [selector] parameter.\",\n        1112: \"Invalid tree traverse [callback] parameter.\",\n        1113: \"Invalid [classNames] parameter.\",\n        \n        1121: \"Invalid DOM Element [config] parameter.\",\n        \n        1131: \"Invalid [observable] parameter.\",\n        1132: \"Invalid Event [type] parameter.\",\n        1133: \"Invalid Event [handler] parameter.\",\n        1134: \"Invalid Event [properties] parameter.\",\n        \n        \n        1141: \"Invalid Style [rule] parameter.\",\n        //1142: \"Invalid Colorset [type] parameter.\",\n        //1143: \"Invalid [colorValue] integer parameter.\",\n        \n        1151: \"Invalid Animation [callback] parameter.\",\n        1152: \"Invalid Animation [displacements] parameter.\",\n        1153: \"Invalid Animation [type] parameter.\",\n        1154: \"Invalid Animation [duration] parameter.\",\n        \n        1210: \"Invalid Dimension [x] parameter.\",\n        1211: \"Invalid Dimension [y] parameter.\",\n        1212: \"Invalid Dimension [right] parameter.\",\n        1213: \"Invalid Dimension [bottom] parameter.\",\n        1214: \"Invalid Dimension [width] parameter.\",\n        1215: \"Invalid Dimension [height] parameter.\",\n        1216: \"Invalid Dimension parameters.\",\n        \n        2001: \"Style Attribute manipulation is not supported\",\n        2002: \"Computed style is not supported by this browser.\",\n        2003: \"CSS Selector query form DOM is not supported.\",\n        2004: \"DOM position comparison is not supported.\",\n        2005: \"DOM selection not supported.\",\n        2006: \"CSS Opacity is not supported by this browser\"\n\n    };\n\nexport\n    function stylize(subject) {\n        if (!string(subject)) {\n            throw new Error(ERROR[1021]);\n        }\n\n        subject = camelize(subject);\n        return STYLIZE_RE.test(subject) ?\n                    subject.charAt(0).toUpperCase() +\n                        subject.substring(1,\n                                        subject.length) :\n                    subject;\n    }\n\nexport\n    function addWord(subject, items) {\n        var isString = string,\n            trimString = trim;\n        var c, l, item, cl, combined;\n\n        if (!isString(subject, true)) {\n            throw new Error(ERROR[1021]);\n        }\n\n        cl = 0;\n        combined = [];\n        subject = trimString(subject);\n\n        for (c = -1, l = items.length; l--;) {\n            item = items[++c];\n\n            if (!isString(item)) {\n                continue;\n            }\n\n            item = trimString(item);\n\n            if (item) {\n                combined[cl++] = item;\n            }\n        }\n\n        return subject ?\n                    unionList(subject.split(SEPARATE_RE), combined).join(' ') :\n                    cl ?\n                        combined.join(' ') :\n                        '';\n\n    }\n\nexport\n    function removeWord(subject, items) {\n        var isString = string,\n            trimString = trim;\n        var c, l, item, index;\n\n        if (!isString(subject, true)) {\n            throw new Error(ERROR[1021]);\n        }\n\n        subject = trimString(subject);\n\n        if (!subject) {\n            return '';\n        }\n\n        subject = unionList(subject.split(SEPARATE_RE), []);\n        \n        for (c = -1, l = items.length; l--;) {\n            if (!isString(item = items[++c])) {\n                continue;\n            }\n            index = subject.indexOf(trimString(item));\n            if (index !== -1) {\n                subject.splice(index, 1);\n            }\n        }\n\n        return subject.join(' ');\n  \n    }\n\nexport\n    function xmlDecode(subject) {\n        var textarea = TEXTAREA;\n        var value = '';\n\n        if (!string(subject)) {\n            throw new Error(ERROR[1021]);\n        }\n\n        if (textarea) {\n            textarea.innerHTML = subject;\n            value = textarea.value;\n        }\n\n        textarea = null;\n        return value;\n    }\n    \nexport\n    function xmlEncode(subject) {\n        \n        if (!string(subject)) {\n            throw new Error(ERROR[1021]);\n        }\n\n        return subject.replace(HTML_ESCAPE_CHARS_RE, htmlescapeCallback);\n    }\n\n\n\n\n\n","'use strict';\n\nlet MODULE = null;\n\nexport \n    function use(chain) {\n        MODULE = chain;\n        return get();\n    }\n    \nexport\n    function get() {\n        return MODULE;\n    }\n","'use strict';\n\nimport {\n            string,\n            method,\n            contains,\n            object,\n            middleware\n        } from \"libcore\";\n\nimport { ERROR } from \"./string.js\";\n\nimport INFO from \"./detect.js\";\n\nimport { get as getModule } from \"./chain.js\";\n\n\nvar EVENTS = null,\n    PAGE_UNLOADED = false,\n    MIDDLEWARE = middleware('libdom.event'),\n    IE_CUSTOM_EVENTS = {},\n    ERROR_OBSERVABLE_NO_SUPPORT = ERROR[1131],\n    ERROR_INVALID_TYPE = ERROR[1132],\n    ERROR_INVALID_HANDLER = ERROR[1133],\n    IE_ON = 'on',\n    IE_BUBBLE_EVENT = 'beforeupdate',\n    IE_NO_BUBBLE_EVENT = 'propertychange';\n\n\nvar RESOLVE, LISTEN, UNLISTEN, DISPATCH, EVENT_INFO, IS_CAPABLE, SUBJECT;\n\nfunction createUnlistener(event) {\n    var destroyed = false;\n    function destroy() {\n        var head, tail;\n        if (!destroyed) {\n            destroyed = true;\n\n            UNLISTEN(event[0], event[1], event[4]);\n\n            head = event.head;\n            tail = event.tail;\n\n            if (head) {\n                head.tail = tail;\n            }\n\n            if (tail) {\n                tail.head = head;\n            }\n\n            if (event === EVENTS) {\n                EVENTS = tail || head;\n            }\n\n            event[0] = null;\n            event.splice(0, 4);\n            delete event.unlisten;\n            delete event.head;\n            delete event.tail;\n            event = head = tail = null;\n        }\n    }\n    return destroy;\n}\n\n\nfunction filter(argLen, observable, type, handler, context) {\n    var last = EVENTS,\n        found = [],\n        len = 0,\n        HAS_OBSERVABLE = 0,\n        HAS_TYPE = 0,\n        HAS_HANDLER = 0,\n        HAS_CONTEXT = 0;\n\n    switch (true) {\n    case argLen > 3: HAS_CONTEXT = 1;\n    /* fall through */\n    case argLen > 2: HAS_HANDLER = 1;\n    /* fall through */\n    case argLen > 1: HAS_TYPE = 1;\n    /* fall through */\n    case argLen > 0: HAS_OBSERVABLE = 1;\n    }\n\n    for (; last; last = last.head) {\n        if ((HAS_OBSERVABLE && last[0] !== observable) ||\n            (HAS_TYPE && last[1] !== type) ||\n            (HAS_HANDLER && last[2] !== handler) ||\n            (HAS_CONTEXT && last[3] !== context)) {\n            continue;\n        }\n        found[len++] = last;\n\n    }\n\n    return found;\n}\n\n\n/**\n * w3c events\n */\nfunction w3cListen(observable, type, handler, context) {\n    var listener = w3cCreateHandler(handler, context);\n    observable.addEventListener(type, listener, false);\n    return [observable, type, handler, context, listener];\n}\n\nfunction w3cUnlisten(observable, type, listener) {\n    observable.removeEventListener(type, listener, false);\n}\n\nfunction w3cDispatch(observable, type, properties) {\n    var hasOwn = contains,\n        event = global.document.createEvent(\"Event\");\n    var name;\n\n    event.initEvent(type,\n            'bubbles' in properties && properties.bubbles === true,\n            'cancelable' in properties && properties.cancelable !== false);\n\n    for (name in properties) {\n        if (hasOwn(properties, name) && !(name in event)) {\n            event[name] = properties[name];\n        }\n    }\n    observable.dispatchEvent(event);\n\n    return event;\n}\n\nfunction w3cObservable(observable) {\n    var isFunction = method;\n\n    return observable && typeof observable === 'object' &&\n            isFunction(observable.addEventListener) &&\n            isFunction(observable.removeEventListener) &&\n            isFunction(observable.dispatchEvent) ?\n                observable : false;\n\n}\n\nfunction w3cCreateHandler(handler, context) {\n    function onEvent(event) {\n        MIDDLEWARE.run('dispatch', [event.type, event]);\n        return handler.call(context, event);\n    }\n    return onEvent;\n}\n\n\n/**\n * ie events\n */\nfunction ieListen(observable, type, handler, context) {\n    var on = IE_ON;\n    var listener;\n\n    // listen to bubble\n    if (ieTestCustomEvent(observable, type)) {\n        listener = ieCreateCustomHandler(type, handler, context);\n        observable.attachEvent(on + IE_BUBBLE_EVENT, listener);\n        observable.attachEvent(on + IE_NO_BUBBLE_EVENT, listener);\n\n    }\n    else {\n        listener = ieCreateHandler(handler, context);\n        observable.attachEvent(on + type, listener);\n    }\n\n    return [observable, type, handler, context, listener];\n}\n\nfunction ieUnlisten(observable, type, listener) {\n    var on = IE_ON;\n    if (listener.customType) {\n        observable.detachEvent(on + IE_BUBBLE_EVENT, listener);\n        observable.detachEvent(on + IE_NO_BUBBLE_EVENT, listener);\n    }\n    else {\n        observable.detachEvent(on + type, listener);\n    }\n\n}\n\nfunction ieDispatch(observable, type, properties) {\n    var hasOwn = contains,\n        event = global.document.createEventObject();\n    var name;\n\n    for (name in properties) {\n        if (hasOwn(properties, name) && !(name in event)) {\n            event[name] = properties[name];\n        }\n    }\n\n    if (ieTestCustomEvent(observable, type)) {\n        event.customType = type;\n        type = properties.bubbles === true ?\n                    IE_BUBBLE_EVENT : IE_NO_BUBBLE_EVENT;\n    }\n\n    name = IE_ON + type;\n    observable.fireEvent(name, event);\n\n    // set to not cancel if not cancelable\n    if (properties.cancelable === false) {\n        event.returnValue = true;\n    }\n\n    return event;\n}\n\nfunction ieObservable(observable) {\n    if (observable) {\n        observable = observable.window ? observable.self : observable;\n        if (observable.attachEvent && observable.detachEvent) {\n            return observable;\n        }\n\n    }\n    return false;\n}\n\nfunction ieCreateHandler(handler, context) {\n    function onEvent() {\n        var event = global.event;\n        iePolyfillEvent(event);\n        MIDDLEWARE.run('dispatch', [event.type, event]);\n        return handler.call(context, event);\n    }\n    return onEvent;\n}\n\nfunction ieCreateCustomHandler(type, handler, context) {\n    function onEvent() {\n        var event = global.event;\n        iePolyfillEvent(event);\n        if (event.customType === type) {\n            MIDDLEWARE.run('dispatch', [type, event]);\n            event.type = type;\n            return handler.call(context, event);\n        }\n    }\n\n    onEvent.customType = true;\n\n    return onEvent;\n}\n\nfunction iePreventDefault() {\n    /* jshint validthis:true */\n    this.returnValue = false;\n}\n\nfunction ieStopPropagation() {\n    /* jshint validthis:true */\n    this.cancelBubble = true;\n}\n\nfunction iePolyfillEvent(eventObject) {\n\n    eventObject.target = eventObject.target || eventObject.srcElement;\n\n    if (!('preventDefault' in eventObject)) {\n        eventObject.preventDefault = iePreventDefault;\n    }\n\n    if (!('stopPropagation' in eventObject)) {\n        eventObject.stopPropagation = ieStopPropagation;\n    }\n}\n\nfunction ieTestCustomEvent(observable, type) {\n    var supported = false,\n        list = IE_CUSTOM_EVENTS;\n    var element, access, ontype;\n\n    if (observable.nodeType === 9) {\n        observable = observable.documentElement;\n    }\n\n    if (observable.nodeType === 1) {\n        // dont do another test\n        access = observable.tagName + ':' + type;\n        if (access in list) {\n            return list[access];\n        }\n\n        ontype = IE_ON + type;\n        element = observable.cloneNode(false);\n        supported = ontype in element;\n        if (!supported) {\n            element.setAttribute(ontype, 'return;');\n            supported = typeof element[ontype] === 'function';\n        }\n        element = null;\n\n        list[access] = !supported;\n\n        return !supported;\n\n    }\n\n    return false;\n\n}\n\n/**\n * purge after page has unloaded\n */\nfunction onBeforeUnload() {\n    if (!PAGE_UNLOADED) {\n        PAGE_UNLOADED = true;\n        // call middleware\n        MIDDLEWARE.run('global-destroy', []);\n        purge();\n    }\n}\n\n\n\n\nRESOLVE = LISTEN = UNLISTEN = DISPATCH = null;\n\n/**\n * Initialize\n */\nEVENT_INFO = INFO && INFO.event;\n\nif (EVENT_INFO) {\n    IS_CAPABLE = true;\n    switch (true) {\n    case EVENT_INFO.w3c:\n        LISTEN = w3cListen;\n        UNLISTEN = w3cUnlisten;\n        DISPATCH = w3cDispatch;\n        RESOLVE = w3cObservable;\n        break;\n\n    case EVENT_INFO.ie:\n        LISTEN = ieListen;\n        UNLISTEN = ieUnlisten;\n        DISPATCH = ieDispatch;\n        RESOLVE = ieObservable;\n        break;\n\n    default:\n        IS_CAPABLE = false;\n    }\n\n    // postprocess event handlers if platform is capable of L2 events\n    if (IS_CAPABLE) {\n        SUBJECT = global;\n\n        // register destructors\n        on(SUBJECT, 'beforeunload', onBeforeUnload);\n        on(SUBJECT, 'unload', onBeforeUnload);\n        SUBJECT = null;\n    }\n}\n\nexport\n    function on(observable, type, handler, context) {\n        var last = EVENTS;\n        var current, args;\n    \n        if (!string(type)) {\n            throw new Error(ERROR_INVALID_TYPE);\n        }\n    \n        if (!method(handler)) {\n            throw new Error(ERROR_INVALID_HANDLER);\n        }\n    \n        observable = RESOLVE(observable);\n    \n        if (!observable) {\n            throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n        }\n    \n        if (typeof context === 'undefined') {\n            context = null;\n        }\n    \n        args = [observable, type, handler, context];\n        MIDDLEWARE.run('listen', args);\n    \n        observable = args[0];\n        type = args[1];\n        handler = args[2];\n        context = args[3];\n        args.splice(0, 4);\n        args = null;\n    \n        current = LISTEN(observable, type, handler, context);\n    \n        current.unlisten = createUnlistener(current);\n        current.head = last;\n        current.tail = null;\n    \n        if (last) {\n            last.tail = current;\n        }\n        EVENTS = current;\n    \n        return current.unlisten;\n    \n    }\n\nexport\n    function un(observable, type, handler, context) {\n        var found, len, args;\n    \n        if (!string(type)) {\n            throw new Error(ERROR_INVALID_TYPE);\n        }\n    \n        if (!method(handler)) {\n            throw new Error(ERROR_INVALID_HANDLER);\n        }\n    \n        observable = RESOLVE(observable);\n    \n        if (!observable) {\n            throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n        }\n    \n        if (typeof context === 'undefined') {\n            context = null;\n        }\n    \n        args = [observable, type, handler, context];\n        MIDDLEWARE.run('unlisten', args);\n    \n        observable = args[0];\n        type = args[1];\n        handler = args[2];\n        context = args[3];\n        args.splice(0, 4);\n        args = null;\n    \n        found = filter(4,\n                        observable,\n                        type,\n                        handler,\n                        context);\n    \n        for (len = found.length; len--;) {\n            found[len].unlisten();\n        }\n   \n        return getModule();\n    }\n\nexport\n    function dispatch(observable, type, properties) {\n    \n        if (!string(type)) {\n            throw new Error(ERROR_INVALID_TYPE);\n        }\n    \n        observable = RESOLVE(observable);\n    \n        if (!observable) {\n            throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n        }\n\n        if (arguments.length > 2 && !object(properties)) {\n            throw new Error(ERROR[1134]);\n        }\n    \n        return DISPATCH(observable, type, properties || {});\n    \n    }\n\nexport\n    function purge(observable, type, handler, context) {\n        var alen = arguments.length;\n        var found, len;\n\n        switch (true) {\n        case alen > 2:\n            if (!method(handler)) {\n                throw new Error(ERROR_INVALID_HANDLER);\n            }\n        /* falls through */\n        case alen > 1:\n            if (!string(type)) {\n                throw new Error(ERROR_INVALID_TYPE);\n            }\n        /* falls through */\n        case alen > 0:\n            if (!RESOLVE(observable)) {\n                throw new Error(ERROR_OBSERVABLE_NO_SUPPORT);\n            }\n        }\n\n        if (typeof context === 'undefined') {\n            context = null;\n        }\n\n        found = filter(alen, observable, type, handler, context);\n        len = found.length;\n    \n        for (; len--;) {\n            found[len].unlisten();\n        }\n    \n        return getModule();\n    }\n    \nexport\n    function destructor(handler) {\n        if (!method(handler)) {\n            throw new Error(ERROR_INVALID_HANDLER);\n        }\n\n        MIDDLEWARE.register('global-destroy', handler);\n\n        return getModule();\n    }","'use strict';\n\nimport {\n            string,\n            number,\n            object,\n            method,\n            array,\n            each,\n            contains as hasProperty,\n            createRegistry\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport {\n            ERROR,\n            xmlEncode\n        } from \"./string.js\";\n\nimport {\n            purge,\n            on\n        } from \"./event.js\";\n\n\n\nvar ORDER_TYPE_PREORDER = 1,\n    ORDER_TYPE_POSTORDER = 2,\n    ORDER_TYPE_LEVELORDER = 3,\n    CSS_SELECT = notSupportedQuerySelector,\n\n    ERROR_INVALID_DOM = ERROR[1101],\n    ERROR_INVALID_DOM_NODE = ERROR[1103],\n    ERROR_INVALID_DOM_NODES = ERROR[1105],\n    ERROR_INVALID_CSS_SELECTOR = ERROR[1111],\n    ERROR_INVALID_CALLBACK = ERROR[1112],\n    ERROR_INVALID_ELEMENT_CONFIG = ERROR[1121],\n    ERROR_INVALID_DESTROY = ERROR[1002],\n    \n    ALLOW_DESCENDANT_NODE_TYPES = {\n        // CDATA_SECTION_NODE\n        4: {\n            1: 1,\n            11: 1\n        },\n        // COMMENT_NODE\n        8: {\n            1: 1,\n            11: 1\n        },\n        // DOCUMENT_FRAGMENT_NODE\n        //11: [],\n        // DOCUMENT_NODE\n        //9: [],\n        // ELEMENT_NODE\n        1: {\n            1: 1,\n            9: 1,\n            11: 1\n        },\n        // PROCESSING_INSTRUCTION_NODE\n        7: {\n            1: 1,\n            11: 1\n        },\n        // TEXT_NODE\n        3: {\n            1: 1,\n            11: 1\n        }\n    },\n    NORMALIZED_CONTAINS = notSupportedContains,\n    DOM_ATTRIBUTE_RE = /(^\\_|[^a-zA-Z\\_])/,\n    DOM_ATTRIBUTE_LIST = [\n        'nodeType',\n        'nodeValue',\n        'ownerDocument',\n        'tagName',\n        'attributes',\n        'parentNode',\n        'childNodes',\n        'firstChild',\n        'lastChild',\n        'previousSibling',\n        'nextSibling',\n        'sourceIndex',\n        'type'\n    ],\n    EVENT_ATTRIBUTE_RE = /^on(\\-?[a-zA-Z].+)?$/,\n    MANIPULATION_HELPERS = createRegistry();\n\nvar DOM_INFO;\n\n\n\n/**\n * node contains...\n */\n\n\nfunction notSupportedContains() {\n    throw new Error(ERROR[2004]);\n}\n\nfunction w3cContains(ancestor, descendant) {\n    return (ancestor.compareDocumentPosition(descendant) & 16) > 0;\n}\n\nfunction ieContains(ancestor, descendant) {\n    return ancestor.contains(descendant);\n}\n\n/**\n * DOM Manipulation helper\n */\nfunction registerDomHelper(name, handler) {\n    if (!string(name)) {\n        throw new Error(ERROR[1001]);\n    }\n\n    if (!method(handler)) {\n        throw new Error(ERROR[1011]);\n    }\n\n    MANIPULATION_HELPERS.set(name, handler);\n\n    return getModule();\n}\n\nfunction purgeEventsFrom(element) {\n    purge(element);\n}\n\n\n\nfunction getTagNameFromConfig(config) {\n    if (object(config)) {\n        config = 'tagName' in config ?\n                    config.tagName :\n                    'nodeName' in config ?\n                        config.nodeName :\n                        'tag' in config ?\n                            config.tag : false;\n    }\n\n    return string(config) ? config : false;\n}\n\n\nfunction applyAttributeToElement(value, name) {\n    /* jshint validthis:true */\n    var element = this,\n        helper = MANIPULATION_HELPERS;\n    var listen;\n\n    // rename attributes\n    switch (name) {\n    case 'class':\n        name = 'className';\n        break;\n\n    case 'for':\n        name = 'htmlFor';\n        break;\n    }\n\n    if (EVENT_ATTRIBUTE_RE.test(name)) {\n        listen = name.substring(name.charAt(2) === '-' ? 3 : 2, name.length);\n\n        if (listen === 'on' && object(value)) {\n            each(value, applyEventAttribute, element);\n        }\n        else {\n            applyEventAttribute.call(element, value, listen);\n        }\n    }\n    else if (helper.exists(name)) {\n        helper.get(name)(element, value);\n    }\n    else if (DOM_ATTRIBUTE_RE.test(name) ||\n            DOM_ATTRIBUTE_LIST.indexOf(name) !== -1) {\n        element.setAttribute(name, value);\n    }\n    else {\n        element[name] = value;\n    }\n\n    element = null;\n\n}\n\nfunction applyEventAttribute(handler, name) {\n    /* jshint validthis:true */\n    var element = this;\n\n    if (method(handler)) {\n        on(element, name, handler);\n    }\n\n    element = null;\n}\n\nfunction applyConfigToElement(element, config, usedFragment) {\n    var hasOwn = hasProperty,\n        isObject= object,\n        me = applyConfigToElement,\n        resolveTagName = getTagNameFromConfig,\n        applyAttribute = applyAttributeToElement,\n        htmlEncodeChild = false,\n        childNodes = null;\n\n    var name, value, item, c, l, fragment, doc, created;\n\n    if (isObject(config)) {\n        childNodes = null;\n\n        // apply attributes\n        main: for (name in config) {\n            if (hasOwn(config, name)) {\n                value = config[name];\n\n                // apply non-attributes if found\n                switch (name) {\n                case 'tagName':\n                case 'nodeName':\n                case 'tag':\n                    continue main;\n\n                case 'text':\n                case 'childText':\n                case 'innerText':\n                    htmlEncodeChild = true;\n\n                /* falls through */\n                case 'childNodes':\n                case 'innerHTML':\n                case 'html':\n                    childNodes = value;\n                    continue main;\n\n                case 'attributes':\n                    if (isObject(value)) {\n                        each(value, applyAttribute, element);\n                    }\n                    continue;\n                }\n\n                applyAttribute.call(element, value, name);\n\n            }\n        }\n\n        // apply childNodes\n        if (string(childNodes)) {\n\n            // convert\n            if (htmlEncodeChild) {\n                childNodes = xmlEncode(childNodes);\n            }\n\n            element.innerHTML = childNodes;\n        }\n\n        // fragment\n        else if (!htmlEncodeChild) {\n\n            if (isObject(childNodes)) {\n                childNodes = [childNodes];\n            }\n\n            if (array(childNodes)) {\n                doc = element.ownerDocument;\n                fragment = usedFragment === true ?\n                                element :\n                                doc.createDocumentFragment();\n\n                for (c = -1, l = childNodes.length; l--;) {\n                    item = childNodes[++c];\n\n                    if (isObject(item)) {\n                        created = doc.createElement(\n                                        resolveTagName(item) || 'div');\n                        // configure\n                        me(created, item, true);\n                        fragment.appendChild(created);\n                    }\n                }\n\n                if (fragment !== element) {\n                    element.appendChild(fragment);\n                }\n\n                doc = fragment = created = null;\n            }\n        }\n        item = null;\n    }\n}\n\nfunction findChild(element, node, nodeType) {\n    var isNumber = number;\n    var index, counter, any;\n\n    if (node === null ||\n        (is(node, 1, 3, 4, 7, 8) && node.parentNode === element)) {\n\n        return node;\n\n    }\n    else if (isNumber(node) && node > -1) {\n        index = node;\n        counter = -1;\n        any = !isNumber(nodeType);\n        node = element.firstChild;\n        for (; node; node = node.nextSibling) {\n            if (any || nodeType === node.nodeType) {\n                counter++;\n            }\n            if (counter === index) {\n                return node;\n            }\n        }\n        return null;\n    }\n    \n    \n    return false;\n}\n\nfunction hasParent(child, parent) {\n    for (; child; child = child.parentNode) {\n        if (child === parent) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction resolveCreatedNode(node) {\n    var item, result, len;\n\n    if (node.nodeType === 11) {\n        item = node.firstChild;\n        result = [];\n        len = 0;\n        for (; item; item = item.nextSibling) {\n            result[len++] = item;\n        }\n        item = null;\n        return result;\n    }\n    return node;\n}\n\n/**\n * DOM select\n */\nfunction noArrayQuerySelectorAll(dom, selector) {\n    var list, c, l, result;\n\n    if (!is(dom, 9, 1)) {\n        throw new Error(ERROR_INVALID_DOM_NODE);\n    }\n\n    if (!string(selector)) {\n        throw new Error(ERROR_INVALID_CSS_SELECTOR);\n    }\n\n    list = dom.querySelectorAll(selector);\n    c = -1;\n    (result = []).length = l = list.length;\n\n    for (; l--;) {\n        result[++c] = list[c];\n    }\n    list = null;\n    return result;\n}\n\nfunction toArrayQuerySelectorAll(dom, selector) {\n    if (!is(dom, 9, 1)) {\n        throw new Error(ERROR_INVALID_DOM_NODE);\n    }\n\n    if (!string(selector)) {\n        throw new Error(ERROR_INVALID_CSS_SELECTOR);\n    }\n\n    return Array.prototype.slice.call(dom.querySelectorAll(selector));\n}\n\nfunction notSupportedQuerySelector() {\n    throw new Error(ERROR[2003]);\n}\n\nfunction orderTraverse(element, callback, context, orderType, includeRoot) {\n    var depth = 0,\n        isPostOrder = 0;\n    var queue, last, node, current;\n\n    if (typeof context === 'undefined') {\n        context = null;\n    }\n\n    includeRoot = includeRoot !== false;\n\n    switch (orderType) {\n    case ORDER_TYPE_LEVELORDER:\n\n        queue = last = {\n                    node: element,\n                    next: null\n                };\n\n        for (; queue; queue = queue.next) {\n\n            node = queue.node;\n            queue.node = null;\n\n            // iterate siblings\n            for (; node; node = node.nextSibling) {\n\n                current = node.firstChild;\n                if ((includeRoot || 0 !== depth) &&\n                    callback.call(context, current) === false) {\n                    break;\n                }\n\n                // insert\n                if (current) {\n                    depth++;\n                    last.next = { node: current, next: null };\n                    last = last.next;\n                }\n            }\n        }\n        break;\n    case ORDER_TYPE_POSTORDER:\n        isPostOrder = 1;\n\n    /* falls through */\n    case ORDER_TYPE_PREORDER:\n\n        main: for (current = element; current;) {\n\n            // process pre-order\n            if ((includeRoot || 0 !== depth) &&\n                !isPostOrder && current.nodeType === 1 &&\n                callback.call(context, current) === false) {\n                break;\n            }\n\n            // go into first child\n            node = current.firstChild;\n\n            if (node) {\n                depth++;\n            }\n            // go next sibling or parentNode's nextSibling\n            else {\n                // process post-order\n                if ((includeRoot || 0 !== depth) &&\n                    isPostOrder && current.nodeType === 1 &&\n                    callback.call(context, current) === false) {\n                    break;\n                }\n\n                node = current.nextSibling;\n\n                for (; !node && depth-- && current;) {\n                    current = current.parentNode;\n\n                    // process post-order\n                    if ((includeRoot || 0 !== depth) &&\n                        isPostOrder && current.nodeType === 1 &&\n                        callback.call(context, current) === false) {\n                        break main;\n                    }\n\n                    node = current.nextSibling;\n                }\n            }\n            current = node;\n        }\n    }\n\n    last = queue = node = current = null;\n\n\n    return getModule();\n}\n\n\n\n/**\n * Initialize\n */\n\nDOM_INFO = DETECTED && DETECTED.dom;\nif (DOM_INFO) {\n    NORMALIZED_CONTAINS = DOM_INFO.compare ?\n                            w3cContains :\n                            DOM_INFO.contains ?\n                                ieContains :\n                                notSupportedContains;\n\n    if (DOM_INFO.querySelectorAll) {\n        CSS_SELECT = DOM_INFO.listToArray ?\n                            toArrayQuerySelectorAll :\n                            noArrayQuerySelectorAll;\n    }\n}\n\nexport {\n    registerDomHelper as helper,\n    CSS_SELECT as select\n};\n\nexport let\n    documentViewAccess = 'defaultView';\n\n/**\n * is node\n */\nexport\n    function is(node) {\n        var isNumber = number;\n\n        var type, c, len, items, match, matched;\n\n        if (node && typeof node === 'object') {\n\n            type = node.nodeType;\n\n            if (isNumber(type)) {\n\n                items = arguments;\n                len = Math.max(items.length - 1, 0);\n                matched = !len;\n\n                for (c = 0; len--;) {\n                    match = items[++c];\n                    if (type === match) {\n                        return true;\n                    }\n                }\n\n                return matched;\n            }\n        }\n\n        return false;\n    }\n\nexport\n    function isView(defaultView) {\n        var type = typeof defaultView;\n\n        return !!defaultView &&\n                (type === 'object' || type === 'function') &&\n                defaultView.self === defaultView.window &&\n                !!defaultView.document;\n    }\n\nexport\n    function contains(ancestor, descendant) {\n        var elementErrorString = ERROR[1102],\n            allowList = ALLOW_DESCENDANT_NODE_TYPES,\n            isDom = is;\n        var ancestorType, descendantType;\n        \n        if (!isDom(ancestor) || !isDom(descendant)) {\n            throw new Error(elementErrorString);\n        }\n        \n        // primary checking if in allow list\n        ancestorType = ancestor.nodeType;\n        descendantType = descendant.nodeType;\n        if (!(descendantType in allowList) ||\n            !(ancestorType in allowList[descendantType])) {\n            return false;\n        }\n        \n        // normalize ancestory\n        switch (ancestorType) {\n        case 9:\n            ancestor = ancestor.documentElement;\n            if (ancestor === descendant) {\n                return true;\n            }\n            break;\n        // for document fragment, it requires manual checking if it has a\n        // fragment ancestor node.\n        case 11:\n            return hasParent(descendant, ancestor);\n        }\n\n        return NORMALIZED_CONTAINS(ancestor, descendant);\n\n    }\n\n/**\n * DOM manipulaton\n */\nexport\n    function add(element, config, before) {\n        var toInsert = null,\n            invalidConfig = ERROR_INVALID_ELEMENT_CONFIG,\n            isDom = is;\n        var tagName, inserted;\n\n        if (!isDom(element, 1, 11)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (isDom(config, 1, 3, 4, 7, 8, 11)) {\n            toInsert = config;\n            if (config.nodeType !== 11 && contains(config, element)) {\n                throw new Error(invalidConfig);\n            }\n        }\n        else if (object(config)) {\n            tagName = getTagNameFromConfig(config);\n            if (!tagName) {\n                throw new Error(invalidConfig);\n            }\n            toInsert = element.ownerDocument.createElement(tagName);\n            applyConfigToElement(toInsert, config);\n        }\n        else {\n            throw new Error(invalidConfig);\n        }\n\n        // validate [before]\n        if (arguments.length > 2) {\n            before = findChild(element, before);\n            if (before === false) {\n                throw new Error(ERROR[1108]);\n            }\n        }\n\n        inserted = resolveCreatedNode(toInsert);\n        element.insertBefore(toInsert, before || null);\n        toInsert = null;\n        return inserted;\n\n    }\n\nexport\n    function remove(node, destroy) {\n        var parentNode;\n        if (!is(node, 1, 3, 4, 7, 8)) {\n            throw new Error(ERROR_INVALID_DOM_NODE);\n        }\n\n        // unset child events by default\n        if (arguments.length > 1) {\n            if (typeof destroy !== 'boolean') {\n                throw new Error(ERROR_INVALID_DESTROY);\n            }\n\n            if (node.nodeType === 1 && destroy) {\n                eachNodePostorder(node, purgeEventsFrom);\n            }\n        }\n\n        parentNode = node.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(node);\n        }\n        parentNode = null;\n        return node;\n    }\n\nexport\n    function move(nodes, element, before) {\n        var isDom = is,\n            insert = add,\n            fragment = null;\n        var c, l, newChild, inserted;\n\n        // if (isDom(nodes, 1, 3, 4, 7, 8, 11)) {\n        //     fragment = nodes;\n        // }\n        // else if (!array(nodes)) {\n            \n        // }\n\n        if (array(nodes)) {\n            fragment = element.ownerDocument.createDocumentFragment();\n            for (c = -1, l = nodes.length; l--;) {\n                newChild = nodes[++c];\n                if (!isDom(newChild, 1, 3, 4, 7, 8) || newChild === element) {\n                    throw new Error(ERROR_INVALID_DOM_NODES);\n                }\n                fragment.appendChild(newChild);\n            }\n            nodes = fragment;\n        }\n        else if (!isDom(nodes, 1, 3, 4, 7, 8, 11)) {\n            throw new Error(ERROR_INVALID_DOM_NODES);\n        }\n\n        inserted = arguments.length > 2 ?\n                    insert(element, nodes, before) :\n                    insert(element, nodes);\n\n        fragment = newChild = null;\n\n        return inserted;\n    }\n\nexport\n    function replace(node, config, destroy) {\n        var toInsert = null,\n            invalidConfig = ERROR_INVALID_ELEMENT_CONFIG,\n            isDom = is;\n        var tagName, inserted;\n\n        if (!isDom(node, 1, 3, 4, 7, 8) || !node.parentNode) {\n            throw new Error(ERROR_INVALID_DOM_NODE);\n        }\n\n        if (isDom(config, 1, 3, 4, 7, 8, 11)) {\n            toInsert = config;\n            if (config.nodeType !== 11 && contains(config, node)) {\n                throw new Error(invalidConfig);\n            }\n        }\n        else if (object(config)) {\n            tagName = getTagNameFromConfig(config);\n            if (!tagName) {\n                throw new Error(invalidConfig);\n            }\n            toInsert = node.ownerDocument.createElement(tagName);\n            applyConfigToElement(toInsert, config);\n        }\n        else {\n            throw new Error(invalidConfig);\n        }\n\n        // remove events before replacing it only if mandated\n        if (arguments.length > 2) {\n            if (typeof destroy !== 'boolean') {\n                throw new Error(ERROR_INVALID_DESTROY);\n            }\n\n            if (node.nodeType === 1 && destroy) {\n                eachNodePostorder(node, purgeEventsFrom);\n            }\n        }\n\n        inserted = resolveCreatedNode(toInsert);\n        node.parentNode.replaceChild(toInsert, node);\n        toInsert = null;\n\n        return inserted;\n\n    }\n\nexport\n    function find(element, node) {\n        if (!is(element, 1, 11)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n        return findChild(element, node, 1);\n    }\n\n/**\n * DOM Tree walk\n */\nexport\n    function eachNodePreorder(element, callback, context, includeRoot) {\n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (!method(callback)) {\n            throw new Error(ERROR_INVALID_CALLBACK);\n        }\n\n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_PREORDER,\n                            includeRoot !== false);\n    }\n\nexport\n    function eachNodePostorder(element, callback, context, includeRoot) {\n\n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (!method(callback)) {\n            throw new Error(ERROR_INVALID_CALLBACK);\n        }\n\n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_POSTORDER,\n                            includeRoot !== false);\n    }\n\nexport\n    function eachNodeLevelorder(element, callback, context, includeRoot) {\n\n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n\n        if (!method(callback)) {\n            throw new Error(ERROR_INVALID_CALLBACK);\n        }\n        \n        return orderTraverse(element,\n                            callback,\n                            context,\n                            ORDER_TYPE_LEVELORDER,\n                            includeRoot !== false);\n    }\n","'use strict';\n\nimport { number } from \"libcore\";\n        \nimport format from \"./format.js\";\n\nvar BYTE = 255,\n    BYTE_PERCENT = 127,\n    BYTE_HUE = 511,\n    \n    PERCENT = 100,\n    HUE = 360,\n    SATURATION = PERCENT,\n    LUMINOSITY = PERCENT;\n\n// from: https://gist.github.com/mjackson/5311256\nfunction hue2rgb(p, q, t) {\n    t = (t + 1) % 1;\n    switch (true) {\n    case t < 1/6: return p + (q - p) * 6 * t;\n    case t < 1/2: return q;\n    case t < 2/3: return p + (q - p) * (2/3 - t) * 6;\n    }\n    return p;\n}\n\nexport\n    function itemize(value, index, colorFormat) {\n        var M = Math,\n            F = format,\n            isFloat = index > 2 && colorFormat !== F.PERCENT,\n            min = 0,\n            max = index < 3 ?\n                    BYTE : PERCENT;\n            \n        value = F.format(value, colorFormat);\n        if (isFloat) {\n            value *= 100;\n        }\n        \n        return M.max(min, M.min(max, value));\n    \n    }\n\nexport\n    function toArray(integer) {\n        var M = Math,\n            h2r = hue2rgb,\n            size = BYTE,\n            psize = BYTE_PERCENT,\n            h = integer & BYTE_HUE,\n            s = (integer >> 9) & psize,\n            l = (integer >> 16) & psize,\n            a = (integer >> 23) & psize;\n    \n        var q, p;\n        \n        l /= LUMINOSITY;\n       \n        if (s === 0) {\n            return [l, l, l];\n        }\n        \n        h /= HUE;\n        s /= SATURATION;\n        \n        q = l < 0.5 ?\n                l * (1 + s) :\n                l + s - l * s;\n                \n        p = 2 * l - q;\n        \n        return [M.round(h2r(p, q, h + 1/3) * size),\n                    M.round(h2r(p, q, h) * size),\n                    M.round(h2r(p, q, h - 1/3) * size),\n                    (a).toFixed(2)];\n    }\n\nexport\n    function toInteger(r, g, b, a) {\n        var M = Math,\n            size = BYTE,\n            psize = BYTE_PERCENT;\n    \n        var max, min, h, s, l, d;\n        \n        r /= size;\n        g /= size;\n        b /= size;\n        max = M.max(r, g, b);\n        min = M.min(r, g, b);\n        \n        l = (max + min) / 2;\n    \n        if (max === min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        \n            switch (max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n        \n            h /= 6;\n        }\n        \n        if (!number(a)) {\n            a = PERCENT;\n        }\n        \n        return ((a & psize) << 23) |\n                (((l * LUMINOSITY) & psize) << 16) |\n                (((s * SATURATION) & psize) << 9) |\n                ((h * HUE) & BYTE_HUE);\n    }\n\nexport\n    function toString(integer) {\n        var values = toArray(integer),\n            alpha = (values[3] / PERCENT);\n        values[3] = parseFloat(alpha.toFixed(2));\n        return 'rgba(' + values.join(',') + ')';\n    }\n\n\n\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger\n        } from \"./rgba.js\";\n\nexport\n    function toHex(integer) {\n        var M = Math;\n        integer = M.max(0, M.min(integer, 255));\n        return (integer < 16 ? '0' : '') + integer.toString(16);\n    }\n\nexport\n    function toString(integer) {\n        var convert = toHex,\n            values = toArray(integer).slice(0, 3);\n        \n        values[0] = convert(values[0]);\n        values[1] = convert(values[1]);\n        values[2] = convert(values[2]);\n        \n        return '#' + values.join('');\n    }\n\n\nexport {\n            itemize,\n            toArray,\n            toInteger\n    };\n","'use strict';\n\nimport format from \"./format.js\";\n\nimport { number } from \"libcore\";\n\nvar BYTE = 255,\n    BYTE_PERCENT = 127,\n    BYTE_HUE = 511,\n    \n    HUE = 360,\n    PERCENT = 100;\n\nexport\n    function itemize(value, index, colorFormat) {\n        var F = format,\n            M = Math,\n            percent = PERCENT,\n            min = 0,\n            max = index < 1 ?\n                    HUE : percent;\n        \n        switch (colorFormat) {\n        case F.HEX:\n            value = (parseInt(value, 16) / BYTE) * max;\n            break;\n        \n        case F.NUMBER:\n            value = (1 * value) || 0;\n            if (index > 2) {\n                value *= percent;\n            }\n            break;\n        \n        case F.PERCENT:\n            value = (1 * value.substring(0, value.length - 1)) || 0;\n            break;\n        }\n        \n        return M.max(min, M.min(max, value || 0));\n    }\n\nexport\n    function toInteger(h, s, l, a) {\n        var psize = BYTE_PERCENT;\n        \n        if (!number(a)) {\n            a = PERCENT;\n        }\n        \n        return ((a & psize) << 23) |\n                ((l & psize) << 16) |\n                ((s & psize) << 9) |\n                (h & BYTE_HUE);\n    }\n\nexport\n    function toArray(integer) {\n        var psize = BYTE_PERCENT;\n        return [\n            integer & BYTE_HUE,\n            (integer >> 9) & psize,\n            (integer >> 16) & psize,\n            (integer >> 23) & psize];\n    }\n\nexport\n    function toString(integer) {\n        var values = toArray(integer);\n        values[1] += '%';\n        values[2] += '%';\n        values[3] = (values[3] / PERCENT);\n        return 'hsla(' + values.join(',') + ')';\n    }\n\n\n","'use strict';\n\n\nimport {\n            string,\n            contains,\n            number\n        } from \"libcore\";\n\n\nimport * as hexColor from \"./color/hex.js\";\nimport * as rgbColor from \"./color/rgb.js\";\nimport * as rgbaColor from \"./color/rgba.js\";\nimport * as hslColor from \"./color/hsl.js\";\nimport * as hslaColor from \"./color/hsla.js\";\n\nimport format from \"./color/format.js\";\n\n\nvar ERROR_SUBJECT = 'Invalid [subject] parameter.',\n    COLOR_RE = /^(\\#?|rgba?|hsla?)(\\(([^\\,]+(\\,[^\\,]+){2,3})\\)|[a-f0-9]{3}|[a-f0-9]{6})$/,\n    NUMBER_RE = /^[0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*$/,\n    REMOVE_SPACES = /[ \\r\\n\\t\\s]+/g,\n    TO_COLOR = {\n        rgb: rgbColor,\n        rgba: rgbaColor,\n        hsl: hslColor,\n        hsla: hslaColor,\n        hex: hexColor\n    };\n\nfunction preParseValue(str) {\n    if (typeof str === 'string') {\n        str = str.replace(REMOVE_SPACES, '');\n        if (COLOR_RE.test(str)) {\n            return str;\n        }\n    }\n    return null;\n}\n\nfunction parseColorStringType(str) {\n    var list = TO_COLOR,\n        m = str.match(COLOR_RE),\n        type = m[1];\n\n    var items, isHex, item;\n\n    if (!contains(list, type)) {\n        type = 'hex';\n    }\n\n    items = m[3];\n    isHex = !items;\n\n    // breakdown hex\n    if (isHex) {\n        items = m[2];\n\n        // three digit\n        if (items.length < 6) {\n            item = items.charAt(2);\n            items = ([items.charAt(0),\n                        items.substring(0, 2),\n                        items.charAt(1),\n                        item,\n                        item]).join('');\n        }\n    }\n    else {\n        items = items.split(',');\n    }\n\n    return [type, isHex, items];\n\n}\n\nexport\n    function parseColorType(subject) {\n\n        if (!string(subject, true)) {\n            throw new Error(ERROR_SUBJECT);\n        }\n\n        subject = preParseValue(subject);\n        if (subject) {\n            return parseColorStringType(subject) || null;\n        }\n        return null;\n    }\n\nexport\n    function parseColor(subject) {\n        var F = format,\n            formatPercent = F.PERCENT,\n            formatNumber = F.NUMBER,\n            formatHex = F.HEX,\n            numberRe = NUMBER_RE;\n\n        var parsed, c, l, item, items, itemizer,\n            processor, type, isHex, toProcess;\n\n        if (!string(subject, true)) {\n            throw new Error(ERROR_SUBJECT);\n        }\n\n        subject = preParseValue(subject);\n        parsed = subject && parseColorStringType(subject);\n\n        if (parsed) {\n            type = parsed[0];\n            processor = TO_COLOR[type];\n            itemizer = processor.itemize;\n\n            toProcess = [];\n            isHex = parsed[1];\n            items = parsed[2];\n\n            c = -1;\n            if (isHex) {\n                toProcess[3] = 100;\n                l = 3;\n            }\n            else {\n                l = items.length;\n            }\n\n            for (; l--;) {\n                item = items[++c];\n                if (isHex) {\n                    item = items.substring(c * 2, c * 2 + 2);\n                }\n                else if (!numberRe.test(item)) {\n                    return null;\n                }\n\n                toProcess[c] = itemizer(item,\n                                        c,\n                                        isHex ?\n                                            formatHex :\n                                            item.\n                                                charAt(item.length -1) === '%' ?\n                                                    formatPercent :\n                                                    formatNumber);\n            }\n\n            // add type\n            return processor.toInteger.apply(processor, toProcess);\n        }\n\n        return null;\n    }\n\nexport\n    function formatColor(colorValue, type) {\n        var list = TO_COLOR;\n\n        if (!number(colorValue) || colorValue < 0) {\n            throw new Error(\"Invalid [colorValue] parameter.\");\n        }\n\n        if (arguments.length < 2) {\n            type = 'hex';\n        }\n        else if (!string(type)) {\n            throw new Error(\"Invalid [type] parameter.\");\n        }\n\n        if (!contains(list, type)) {\n            return null;\n        }\n\n        colorValue = Math.round(colorValue);\n\n        return list[type].toString(colorValue);\n    }\n\n\n","'use strict';\n\nimport {\n            string,\n            number,\n            array,\n            object,\n            each,\n            trim\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport {\n            ERROR,\n            stylize as stringStylize,\n            addWord,\n            removeWord\n        } from \"./string.js\";\n\nimport {\n            is,\n            helper\n        } from \"./dom.js\";\n\nimport { formatColor } from \"./color.js\";\n\nvar PADDING_BOTTOM = 'paddingBottom',\n    PADDING_TOP = 'paddingTop',\n    PADDING_LEFT = 'paddingLeft',\n    PADDING_RIGHT = 'paddingRight',\n\n    OFFSET_LEFT = 'offsetLeft',\n    OFFSET_TOP = 'offsetTop',\n    OFFSET_WIDTH = 'offsetWidth',\n    OFFSET_HEIGHT = 'offsetHeight',\n\n    CLIENT_WIDTH = 'clientWidth',\n    CLIENT_HEIGHT = 'clientHeight',\n\n    COLOR_RE = /[Cc]olor$/,\n\n    //DIMENSION_RE = /width|height|(margin|padding).*|border.+(Width|Radius)/,\n    EM_OR_PERCENT_RE = /%|em/,\n    CSS_MEASUREMENT_RE =\n/^([0-9]*\\.?[0-9]+|[0-9]+\\.?[0-9]*)(em|px|\\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,\n    WIDTH_RE = /width/i,\n    NUMBER_RE = /\\d/,\n    BOX_RE = /(top|bottom|left|right|width|height)$/,\n    DIMENSION_RE =\n        /([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,\n\n    IE_ALPHA_OPACITY_RE = /\\(opacity\\=([0-9]+)\\)/i,\n    IE_ALPHA_OPACITY_TEMPLATE = 'alpha(opacity=$opacity)',\n    IE_ALPHA_OPACITY_TEMPLATE_RE = /\\$opacity/,\n\n    GET_OPACITY = opacityNotSupported,\n    SET_OPACITY = opacityNotSupported,\n\n    SET_STYLE = styleManipulationNotSupported,\n    GET_STYLE = styleManipulationNotSupported,\n    \n    COMPUTED_STYLE = computedStyleNotSupported,\n\n    ERROR_INVALID_DOM = ERROR[1101],\n    ERROR_INVALID_CLASSNAMES = ERROR[1113],\n    \n    DEFAULT_COLOR_UNIT = 'hex',\n\n    SLICE = Array.prototype.slice;\n\nvar CSS_INFO;\n\n\n\n\n\nfunction applyStyle() {\n    /* jshint validthis: true */\n    return arguments.length > 1 ?\n                // setter\n                stylize.apply(this, arguments) :\n\n                // getter\n                stylify.apply(this, arguments);\n\n\n\n}\n\n\n\n\n\nfunction onStyleElement(value, name) {\n    var isNumber = number(value),\n        isScalar = isNumber || string(value),\n        /* jshint validthis: true */\n        elementStyle = this[0],\n        set = SET_STYLE,\n        applied = false;\n\n    name = stringStylize(name);\n\n    // opacity\n    if (name === 'opacity') {\n        if (!isScalar) {\n            // remove IE style opacity\n            set(elementStyle, 'filter', null);\n        }\n        else {\n            SET_OPACITY(elementStyle, value);\n            applied = true;\n        }\n\n    }\n    // dimension\n    else if (isNumber && DIMENSION_RE.test(name)) {\n        value = '' + value + 'px';\n\n    }\n    // color\n    else if (isNumber && COLOR_RE.test(name)) {\n        value = formatColor(value, DEFAULT_COLOR_UNIT);\n    }\n\n    // non-scalar value is \"unset\"\n    if (!isScalar) {\n        value = null;\n    }\n\n    set(elementStyle, name, value);\n\n    elementStyle = null;\n\n}\n\nfunction parseCSSText(str) {\n    \n    var trimString = trim,\n        pairs = str.split(';'),\n        c = -1,\n        l = pairs.length,\n        result = {};\n    var pair, name, value;\n        \n    for (; l--;) {\n        pair = pairs[++c].split(':');\n        name = trimString(pair[0]);\n        value = trimString(pair.slice(1).join(':'));\n        \n        if (name && value) {\n            result[name] = value;\n        }\n\n    }\n    \n    return result;\n}\n\n\n\nfunction styleManipulationNotSupported() {\n    throw new Error(ERROR[2001]);\n}\n\n/**\n * Style info\n */\n\nfunction computedStyleNotSupported() {\n    throw new Error(ERROR[2002]);\n}\n\nfunction w3cGetCurrentStyle(element, ruleNames) {\n    var camel = stringStylize,\n        isString = string;\n    var style, c, l, name, value, values, access;\n\n    if (!is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    style = global.getComputedStyle(element);\n\n    values = {};\n    if (!array(ruleNames)) {\n        ruleNames = SLICE.call(arguments, 1);\n    }\n    for (c = -1, l = ruleNames.length; l--;) {\n        name = ruleNames[++c];\n        if (isString(name)) {\n            access = camel(name);\n            switch (access) {\n            case 'opacity':\n                value = GET_OPACITY(style);\n                break;\n            default:\n                value = style[access];\n            }\n            values[name] = value;\n        }\n    }\n\n    style = null;\n\n    return values;\n}\n\nfunction ieGetCurrentStyle(element, ruleNames) {\n    var dimensionRe = DIMENSION_RE,\n        boxRe = BOX_RE,\n        isString = string,\n        camel = stringStylize,\n        getOpacity = GET_OPACITY,\n        pixelSize = ieGetPixelSize;\n\n    var style, c, l, name, value, access, fontSize, values, dimension;\n\n    if (!is(element, 1)) {\n        throw new Error(ERROR_INVALID_DOM);\n    }\n\n    style = element.currentStyle;\n    fontSize = false;\n    dimension = false;\n    values = {};\n\n    if (!array(ruleNames)) {\n        ruleNames = SLICE.call(arguments, 1);\n    }\n\n    for (c = -1, l = ruleNames.length; l--;) {\n        name = ruleNames[++c];\n        if (isString(name)) {\n            access = camel(name);\n\n            switch (true) {\n            case access === 'opacity':\n                value = getOpacity(style);\n                break;\n\n            case boxRe.test(access):\n                if (!dimension) {\n                    dimension = ieGetPositionStyle(element, style);\n                }\n                value = dimension[access] + 'px';\n                break;\n\n            case dimensionRe.test(access) && style[access] !== 'auto':\n                if (fontSize === false) {\n                    fontSize = pixelSize(element, style, 'fontSize', null);\n                }\n                value = pixelSize(element, style, access, fontSize) + 'px';\n                break;\n\n            case access === 'float':\n                value = style.styleFloat;\n                break;\n\n            default:\n                value = style[access];\n            }\n\n            values[name] = value;\n        }\n    }\n\n    style = value = null;\n    return values;\n}\n\n\nfunction ieGetPixelSize(element, style, property, fontSize) {\n    var sizeWithSuffix = style[property],\n        size = parseFloat(sizeWithSuffix),\n        suffix = sizeWithSuffix.split(NUMBER_RE)[0];\n    var parent;\n\n    switch (suffix) {\n    case 'in': return size * 96;\n    case 'pt': return size * 96 / 72;\n    case 'em':\n    case '%':\n        if (!fontSize) {\n            parent = element.parentElement;\n            fontSize = EM_OR_PERCENT_RE.test(suffix) && parent ?\n                            ieGetPixelSize(parent,\n                                        parent.currentStyle,\n                                        'fontSize',\n                                        null) :\n                            16;\n            parent = null;\n        }\n        return suffix === 'em' ?\n                    size * fontSize :\n                    size / 100 * (property === 'fontSize' ?\n                                    fontSize :\n                                    WIDTH_RE.test(property) ?\n                                        element[CLIENT_WIDTH] :\n                                        element[CLIENT_HEIGHT]);\n\n    default: return size;\n    }\n}\n\n\nfunction ieGetPositionStyle(element, style) {\n    var parent = element.offsetParent,\n        parentStyle = parent.currentStyle,\n        ieAdjust = DETECTED.browser.ieVersion < 9,\n        parse = parseFloat,\n\n        ptop = PADDING_TOP,\n        pleft = PADDING_LEFT,\n        pbottom = PADDING_BOTTOM,\n        pright = PADDING_RIGHT,\n\n        cwidth = CLIENT_WIDTH,\n        cheight = CLIENT_HEIGHT,\n\n        left = element[OFFSET_LEFT],\n        top = element[OFFSET_TOP],\n        right = parent[cwidth] - element[OFFSET_WIDTH],\n        bottom = parent[cheight] - element[OFFSET_HEIGHT],\n        width = element[cwidth],\n        height = element[cheight];\n    var node, nodeStyle;\n\n    switch (style.position) {\n    case 'relative':\n        left -= (parse(parentStyle[pleft]) || 0);\n        top -= (parse(parentStyle[ptop]) || 0);\n\n        if (ieAdjust) {\n            node = element.parentNode;\n\n            for (; node !== parent; node = node.parentNode) {\n                nodeStyle = node.currentStyle;\n                if (nodeStyle.position === 'static') {\n                    left -= (parse(nodeStyle.paddingLeft) || 0) +\n                            (parse(nodeStyle.borderLeftWidth) || 0);\n                    top -= (parse(nodeStyle.paddingTop) || 0) +\n                            (parse(nodeStyle.borderTopWidth) || 0);\n                }\n            }\n\n            if (parent === element.ownerDocument.body) {\n                left -= parse(parentStyle.marginLeft) || 0;\n                top -= parse(parentStyle.marginTop) || 0;\n            }\n        }\n\n    /* falls through */\n    case 'absolute':\n    case 'fixed':\n        left -= (parse(parentStyle.borderLeftWidth) || 0);\n        top -= (parse(parentStyle.borderTopWidth) || 0);\n    }\n\n\n    right -= left;\n    bottom -= top;\n    width -= (parse(style[pleft]) || 0) +\n                (parse(style[pright]) || 0);\n    height -= (parse(style[ptop]) || 0) +\n                (parse(style[pbottom]) || 0);\n\n    parent = parentStyle = null;\n\n    return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom,\n        width: width,\n        height: height\n    };\n}\n\n/**\n * opacity\n */\nfunction opacityNotSupported() {\n    throw new Error(ERROR[2006]);\n}\n\nfunction ieGetOpacity(style) {\n    var M = Math,\n        opacityRe = IE_ALPHA_OPACITY_RE,\n        filter = style.filter;\n    var m;\n\n    if (string(filter) && opacityRe.test(filter)) {\n        m = filter.match(opacityRe);\n        m = parseFloat(m[1]);\n\n        return M.max(1,\n                    M.min(100,\n                        number(m) ? m : 100)) / 100;\n    }\n\n    return 1;\n}\n\nfunction ieSetOpacity(style, opacity) {\n    var M = Math;\n\n    if (string(opacity)) {\n        opacity = parseFloat(opacity);\n    }\n    if (number(opacity)) {\n        style.filter = IE_ALPHA_OPACITY_TEMPLATE.\n                                replace(IE_ALPHA_OPACITY_TEMPLATE_RE,\n                                    M.min(100,\n                                        M.max(0,\n                                            M.round(opacity * 100)\n                                        )).toString(10));\n    }\n}\n\nfunction w3cGetOpacity(style) {\n    var opacity = parseFloat(style.opacity);\n\n    return number(opacity) ? opacity : 1;\n}\n\nfunction w3cSetOpacity(style, opacity) {\n    var M = Math;\n\n    if (string(opacity)) {\n        opacity = parseFloat(opacity);\n    }\n\n    if (number(opacity)) {\n        style.opacity = M.min(1,\n                            M.max(0, opacity)).toFixed(2);\n    }\n}\n\n/**\n * Style manipulation\n */\nfunction w3cSetStyleValue(style, name, value) {\n    if (value === null) {\n        style.removeProperty(name);\n    }\n    else {\n        style[name] = value;\n    }\n}\n\nfunction w3cGetStyleValue(style, name) {\n    return style.getPropertyValue(name);\n}\n\nfunction ieSetStyleValue(style, name, value) {\n    if (value === null) {\n        style.removeAttribute(name);\n    }\n    else {\n        style[name] = value;\n    }\n}\nfunction ieGetStyleValue(style, name) {\n    return style.getAttribute(name);\n}\n\n\n\n/**\n * DOM Helpers\n */\n\n\n// register DOM Helpers\nhelper('className', addClass);\nhelper('style', applyStyle);\n\n\nCSS_INFO = DETECTED && DETECTED.css;\nif (CSS_INFO) {\n\n    COMPUTED_STYLE = CSS_INFO.w3cStyle ?\n                                w3cGetCurrentStyle :\n                                CSS_INFO.ieStyle ?\n                                    ieGetCurrentStyle :\n                                    computedStyleNotSupported;\n\n    if (CSS_INFO.setattribute) {\n        SET_STYLE = ieSetStyleValue;\n        GET_STYLE = ieGetStyleValue;\n    }\n    else if (CSS_INFO.setproperty) {\n        SET_STYLE = w3cSetStyleValue;\n        GET_STYLE = w3cGetStyleValue;\n    }\n\n    if (CSS_INFO.opacity) {\n        GET_OPACITY = w3cGetOpacity;\n        SET_OPACITY = w3cSetOpacity;\n    }\n    else if (CSS_INFO.filterOpacity) {\n        GET_OPACITY = ieGetOpacity;\n        SET_OPACITY = ieSetOpacity;\n    }\n\n    if (CSS_INFO.alphaColor) {\n        DEFAULT_COLOR_UNIT = 'rgba';\n    }\n}\n\nexport {\n            COMPUTED_STYLE as computedStyle,\n            DEFAULT_COLOR_UNIT as colorUnit\n        };\n        \nexport {\n        BOX_RE as boxRe,\n        DIMENSION_RE as dimensionRe,\n        COLOR_RE as colorRe\n    };\n    \nexport\n    function addClass(element, classNames) {\n        var isString = string;\n    \n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n    \n        if (isString(classNames)) {\n            classNames = [classNames];\n        }\n\n        if (!array(classNames)) {\n            throw new Error(ERROR_INVALID_CLASSNAMES);\n        }\n    \n        element.className = addWord(element.className || '', classNames);\n        return getModule();\n    }\n    \nexport\n    function removeClass(element, classNames) {\n        var isString = string;\n    \n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n    \n        if (isString(classNames)) {\n            classNames = [classNames];\n        }\n\n        if (!array(classNames)) {\n            throw new Error(ERROR_INVALID_CLASSNAMES);\n        }\n        \n        element.className = removeWord(element.className,\n                                                classNames);\n    \n        return getModule();\n    }\n    \n    \nexport\n    function stylize(element, rules, value) {\n        var context;\n    \n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n    \n        if (string(rules)) {\n            if (arguments.length > 2) {\n                context = {};\n                context[rules] = value;\n                rules = context;\n            }\n            else {\n                rules = parseCSSText(rules);\n            }\n        }\n    \n        if (!object(rules)) {\n            throw new Error(ERROR[1141]);\n        }\n    \n        context = [element.style];\n    \n        each(rules, onStyleElement, context, true);\n    \n        context = context[0] = null;\n    \n        return getModule();\n    }\n    \nexport\n    function stylify(element) {\n        if (!is(element, 1)) {\n            throw new Error(ERROR_INVALID_DOM);\n        }\n        \n        return parseCSSText(element.style.cssText);\n    }\n    \nexport\n    function validUnitValue(value) {\n        // direct value test\n        switch (value) {\n        case null:\n        case false:\n        case 'auto':\n        case 'inherit':\n            return true;\n        }\n        // test type\n        switch (typeof value) {\n        case 'number':\n            return isFinite(value);\n        case 'string':\n            return CSS_MEASUREMENT_RE.test(value);\n        }\n        return false;\n    }\nexport\n    function unitValue(value) {\n        var isFiniteNumber = isFinite;\n        var len, matched;\n        \n        // direct value test\n        switch (value) {\n        case null:\n        case false:\n        case 'auto':\n        case 'inherit':\n            return value;\n        }\n    \n        switch (typeof value) {\n        case 'number':\n            if (isFiniteNumber(value)) {\n                return value;\n            }\n            break;\n        case 'string':\n            len = value.length;\n            matched = value.match(CSS_MEASUREMENT_RE);\n            if (matched) {\n                // return as is\n                if (matched[2] !== 'px') {\n                    return value;\n                }\n                value = matched[1];\n            }\n\n            value = 1 * value;\n            if (isFiniteNumber(value)) {\n                return value;\n            }\n        }\n    \n        return false;\n    \n    }","'use strict';\n\nimport {\n            string,\n            number,\n            object,\n            array\n        } from \"libcore\";\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport { ERROR } from \"./string.js\";\n\nimport {\n            is as isDom,\n            isView,\n            contains,\n            documentViewAccess\n            \n        } from \"./dom.js\";\n\nimport {\n            computedStyle,\n            stylize,\n            unitValue,\n            validUnitValue\n        } from \"./css.js\";\n\n\nvar ERROR_INVALID_ELEMENT = ERROR[1101],\n    ERROR_INVALID_DOM = ERROR[1102],\n    \n    ERROR_INVALID_X = ERROR[1210], // Invalid Dimension [x] parameter.\n    ERROR_INVALID_Y = ERROR[1211], // Invalid Dimension [y] parameter\n    ERROR_INVALID_RIGHT = ERROR[1212], //Invalid Dimension [right] parameter.\n    ERROR_INVALID_BOTTOM = ERROR[1213], // Invalid Dimension [bottom] parameter\n    ERROR_INVALID_WIDTH = ERROR[1214], // Invalid Dimension [width] parameters\n    ERROR_INVALID_HEIGHT = ERROR[1215], // Invalid Dimension [height] parameters\n    ERROR_INVALID_PARAMETERS = ERROR[1216],\n    \n    OFFSET_TOP = 'offsetTop',\n    OFFSET_LEFT = 'offsetLeft',\n    OFFSET_WIDTH = 'offsetWidth',\n    OFFSET_HEIGHT = 'offsetHeight',\n    \n    MARGIN_TOP = 'marginTop',\n    MARGIN_LEFT = 'marginLeft',\n    \n    SCROLL_TOP = 'scrollTop',\n    SCROLL_LEFT = 'scrollLeft',\n    \n    BOUNDING_RECT = 'getBoundingClientRect',\n    \n    DEFAULTVIEW = null,\n    ELEMENT_VIEW = 1,\n    PAGE_VIEW = 2,\n    USE_ZOOM_FACTOR = false,\n    IE_PAGE_STAT_ACCESS = 'documentElement',\n    \n    boundingRect = false,\n    getPageScroll = null,\n    getOffset = null,\n    getSize = null,\n    //getBox = null,\n    getScreenSize = null;\n\nvar DIMENSION_INFO, IEVERSION;\n\nfunction pageBox(dom) {\n    var M = Math,\n        subject = dom,\n        box = screen();\n    \n    // page size\n    if (isView(subject)) {\n        subject = subject.document;\n    }\n    \n    if (subject.nodeType === 9) {\n        subject = subject[IE_PAGE_STAT_ACCESS];\n        box[2] = M.max(subject.scrollWidth, box[2]);\n        box[3] = M.max(subject.scrollHeight, box[3]);\n    }\n    subject = null;\n    \n    return box;\n}\n\n\nfunction w3cScreenSize(window) {\n    return [window.innerWidth, window.innerHeight];\n}\n\n\nfunction ieScreenSize(window) {\n    var factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1,\n        subject = window.document[IE_PAGE_STAT_ACCESS],\n        size = [subject.clientWidth * factor,\n                subject.clientHeight * factor];\n        \n    subject = null;\n    return size;\n}\n\n/**\n * Element Size\n */\nfunction rectSize(element, boundingRect) {\n    var M = Math,\n        rect = boundingRect || element[BOUNDING_RECT](),\n        size = [\n            M.max(0, rect.width || 0),\n            M.max(0, rect.height || 0)];\n    rect = null;\n    return size;\n}\n\nfunction manualSize(element) {\n    var M = Math;\n    return [\n        M.max(0, element[OFFSET_WIDTH] || 0),\n        M.max(0, element[OFFSET_HEIGHT] || 0)];\n}\n\n/**\n * Element Offset\n */\nfunction rectOffset(element, boundingRect) {\n    var //scrolled = getPageScroll(element.ownerDocument[DEFAULTVIEW]),\n        page = screen(element),\n        rect = boundingRect || element[BOUNDING_RECT](),\n        factor = DIMENSION_INFO.zoomfactor ?\n                    getZoomFactor(global.window.document[IE_PAGE_STAT_ACCESS]) :\n                    1,\n        scrollX = page[0],\n        scrollY = page[1],\n        x = rect.left * factor + scrollX,\n        y = rect.top * factor + scrollY,\n        \n        offset = [\n            x,\n            y,\n            rect.right * factor - page[2],\n            rect.bottom * factor - page[3]];\n    rect = null;\n    return offset;\n}\n\nfunction manualOffset(element) {\n    var root = global.document[IE_PAGE_STAT_ACCESS],\n        body = root.body,\n        \n        top = OFFSET_TOP,\n        left = OFFSET_LEFT,\n        mtop = MARGIN_TOP,\n        mleft = MARGIN_LEFT,\n        \n        stop = SCROLL_TOP,\n        sleft = SCROLL_LEFT,\n\n        findStyles = [mleft, mtop],\n        parent = element.offsetParent,\n        getStyle = computedStyle,\n        style = getStyle(element, [findStyles]),\n        page = screen(element),\n        x = element[left],\n        y = element[top];\n    \n    x += parseFloat(style[mleft]) || 0;\n    y += parseFloat(style[mtop]) || 0;\n    \n    for (; parent; parent = parent.offsetParent) {\n        \n        if (parent.nodeType === 1) {\n            \n            style = getStyle(parent, findStyles);\n            \n            x += (parent[left] || 0) +\n                            (parent.clientLeft || 0) +\n                            (parseFloat(style[mleft]) || 0);\n                            \n            y += (parent[top] || 0) +\n                            (parent.clientTop || 0) +\n                            (parseFloat(style[mtop]) || 0);\n                            \n        }\n    }\n    \n    parent = element.parentNode;\n    \n    for (; parent && parent !== body; parent = parent.parentNode) {\n        if (parent.nodeType === 1 && parent !== root) {\n            x += parent[sleft] || 0;\n            y += parent[stop] || 0;\n        }\n    }\n    \n    root = parent = body = null;\n    return [\n        x,\n        y,\n        x + element[OFFSET_WIDTH] - page[2],\n        y + element[OFFSET_HEIGHT] - page[3]];\n}\n\n\n/**\n * Page Scroll\n */\nfunction setPageScroll(window, x, y) {\n    var factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1;\n    window.scrollTo(x * factor, y * factor);\n}\n\nfunction w3cPageScrollOffset(window) {\n    var offset = [(window.pageXOffset || 0), (window.pageYOffset || 0)];\n    return offset;\n}\n\nfunction iePageScrollOffset(window) {\n    var M = Math,\n        subject = window.document[IE_PAGE_STAT_ACCESS],\n        factor = USE_ZOOM_FACTOR ? getZoomFactor(window) : 1,\n        offset = [M.round(subject[SCROLL_LEFT] / factor),\n                    M.round(subject[SCROLL_TOP] / factor)];\n    \n    subject = null;\n    \n    return offset;\n}\n\nfunction getZoomFactor() {\n    //var rect, body;\n    //\n    //if (boundingRect) {\n    //    body = window.document.body;\n    //    \n    //    // rect is only in physical pixel size in IE before version 8 \n    //    rect = body[BOUNDING_RECT]();\n    //\n    //    // the zoom level is always an integer percent value\n    //    factor = Math.round(\n    //                (rect.right - rect.left / body[OFFSET_WIDTH]) * 100) / 100;\n    //}\n    //\n    //body = null;\n    \n    return 1;\n}\n\n\n/**\n * checking\n */\nfunction isViewable(dom) {\n    var body, viewable;\n    \n    if (isDom(dom, 1, 9)) {\n        \n        if (dom.nodeType === 9) {\n            return PAGE_VIEW;\n        }\n        \n        body = dom.ownerDocument.body;\n        viewable = (dom === body || contains(body, dom)) && ELEMENT_VIEW;\n        body = null;\n        return viewable;\n        \n    }\n    \n    return isView(dom) ? PAGE_VIEW : false;\n}\n\nfunction getTranslation(element, x, y, right, bottom, width, height, target) {\n        var cssValue = unitValue,\n            parse = parseFloat,\n            NUMBER = 'number',\n            hasLeft = false,\n            hasTop = hasLeft,\n            hasRight = hasLeft,\n            hasBottom = hasLeft;\n            \n        var hasWidth, hasHeight, diff, currentDimension;\n        \n        currentDimension = computedStyle(element,\n                                        'position',\n                                        'top',\n                                        'left',\n                                        'right',\n                                        'bottom',\n                                        'width',\n                                        'height');\n        \n        if (!object(target)) {\n            target = {};\n        }\n        \n        // resolve position\n        switch (currentDimension.position) {\n        case 'relative':\n        /* falls through */\n        case 'absolute':\n        case 'fixed':\n            \n            // create position\n            x = cssValue(x);\n            y = cssValue(y);\n            right = cssValue(right);\n            bottom = cssValue(bottom);\n            \n            hasLeft = x !== false;\n            hasTop = y !== false;\n            hasRight = !hasLeft && right !== false;\n            hasBottom = !hasBottom && bottom !== false;\n            \n            if (hasLeft || hasRight || hasTop || hasBottom) {\n                \n                diff = getOffset(element);\n                \n                if (hasLeft) {\n                    target.left = typeof x === NUMBER ? (\n                                        (parse(currentDimension.left) || 0) +\n                                        (x - diff[0])\n                                    ) + 'px' :\n                                    x;\n                    \n                }\n                else if (hasRight) {\n                    target.right = typeof right === NUMBER ? (\n                                        (parse(currentDimension.right) || 0) +\n                                        (right - diff[2])\n                                    ) + 'px' :\n                                    right;\n                }\n                \n                if (hasTop) {\n                    target.top = typeof y === NUMBER ? (\n                                        (parse(currentDimension.top) || 0) +\n                                        (y - diff[1])\n                                    ) + 'px' :\n                                    y;\n                }\n                else if (hasBottom) {\n                    target.bottom = typeof right === NUMBER ? (\n                                        (parse(currentDimension.bottom) || 0) +\n                                        (bottom - diff[3])\n                                    ) + 'px' :\n                                    bottom;\n                }\n            }\n            \n        }\n        \n        \n        \n        // resolve size\n        width = cssValue(width);\n        hasWidth = width !== false;\n        if (hasWidth) {\n            target.width = typeof width === NUMBER ? (\n                                parse(currentDimension.width || 0) +\n                                (width - element[OFFSET_WIDTH])\n                            ) + 'px' :\n                            width;\n        }\n        \n        height = cssValue(height);\n        hasHeight = height !== false;\n        if (hasHeight) {\n            target.height = typeof height === NUMBER ? (\n                                parse(currentDimension.height || 0) +\n                                (height - element[OFFSET_HEIGHT])\n                            ) + 'px' :\n                            height;\n        }\n    \n        return hasLeft || hasRight || hasTop || hasBottom ||\n                hasWidth || hasHeight ? target : null;\n    }\n\n\n/**\n * Accessors\n */\nexport\n    function offset(element, x, y) {\n        \n        var valid = validUnitValue;\n        \n        // setter\n        if (arguments.length > 1) {\n            if (isViewable(element) !== ELEMENT_VIEW) {\n                throw new Error(ERROR_INVALID_ELEMENT);\n            }\n            \n            if (array(x)) {\n                if (x.length > 1) {\n                    y = x[1];\n                    x = x[0];\n                }\n                else {\n                    throw new Error(ERROR_INVALID_PARAMETERS);\n                }\n            }\n            \n            if (!valid(x)) {\n                throw new Error(ERROR_INVALID_X);\n            }\n            if (!valid(y)) {\n                throw new Error(ERROR_INVALID_Y);\n            }\n            \n            x = getTranslation(element,\n                        x,\n                        y,\n                        false,\n                        false,\n                        false,\n                        false);\n            if (x) {\n                stylize(element, x);\n            }\n            return getModule();\n\n        }\n        \n        // getter\n        switch (isViewable(element)) {\n        case PAGE_VIEW:\n            return pageBox(element).slice(0, 2);\n        case ELEMENT_VIEW:\n            return getOffset(element).slice(0, 2);\n        }\n        \n        throw new Error(ERROR_INVALID_ELEMENT);\n        \n    }\n\nexport\n    function size(element, width, height) {\n        var valid = validUnitValue;\n        \n        // setter\n        if (arguments.length > 1) {\n\n            if (isViewable(element) !== ELEMENT_VIEW) {\n                throw new Error(ERROR_INVALID_ELEMENT);\n            }\n            \n            if (array(width)) {\n                if (width.length > 1) {\n                    height = width[1];\n                    width = width[0];\n                }\n                else {\n                    throw new Error(ERROR_INVALID_PARAMETERS);\n                }\n            }\n                \n            if (!valid(width)) {\n                throw new Error(ERROR_INVALID_WIDTH);\n            }\n            if (!valid(height)) {\n                throw new Error(ERROR_INVALID_HEIGHT);\n            }\n            \n            width = getTranslation(element,\n                                false,\n                                false,\n                                false,\n                                false,\n                                width,\n                                height);\n            if (width) {\n                stylize(element, width);\n            }\n            \n            return getModule();\n        }\n        \n        // getter\n        return isViewable(element) === PAGE_VIEW ?\n                    pageBox(element).slice(2, 4) : getSize(element);\n    }\n\nexport\n    function box(element, x, y, width, height) {\n        var valid = validUnitValue;\n        var viewmode, dimension;\n        \n        // setter\n        if (arguments.length > 1) {\n            \n            if (isViewable(element) !== ELEMENT_VIEW) {\n                throw new Error(ERROR_INVALID_ELEMENT);\n            }\n            \n            if (array(x)) {\n                if (x.length > 3) {\n                    height = x[3];\n                    width = x[2];\n                    y = x[1];\n                    x = x[0];\n                    \n                }\n                else {\n                    throw new Error(ERROR_INVALID_PARAMETERS);\n                }\n            }\n            \n            if (!valid(x)) {\n                throw new Error(ERROR_INVALID_X);\n            }\n            if (!valid(y)) {\n                throw new Error(ERROR_INVALID_Y);\n            }\n            \n            if (!valid(width)) {\n                throw new Error(ERROR_INVALID_WIDTH);\n            }\n            if (!valid(height)) {\n                throw new Error(ERROR_INVALID_HEIGHT);\n            }\n            \n            x = getTranslation(element,\n                            x,\n                            y,\n                            false,\n                            false,\n                            width,\n                            height);\n            if (x) {\n                stylize(element, x);\n            }\n            \n            return getModule();\n        }\n        \n        // getter\n        viewmode = isViewable(element);\n        if (viewmode === PAGE_VIEW) {\n            dimension = pageBox(element);\n            x = dimension[0];\n            y = dimension[1];\n            width = dimension[2];\n            height = dimension[3];\n            dimension = screen(element);\n            return [\n                x,\n                y,\n                width - x - dimension[2],\n                height - y - dimension[3],\n                width,\n                height];\n        }\n        \n        if (viewmode !== ELEMENT_VIEW) {\n            throw new Error(ERROR_INVALID_ELEMENT);\n        }\n        dimension = getSize(element);\n        width = dimension[0];\n        height = dimension[1];\n        dimension = getOffset(element);\n        dimension[4] = width;\n        dimension[5] = height;\n        \n        return dimension;\n    }\n\nexport\n    function translate(element, x, y, right, bottom, width, height, target) {\n        var valid = validUnitValue;\n        \n        \n        if (isViewable(element) !== ELEMENT_VIEW) {\n            throw new Error(ERROR_INVALID_ELEMENT);\n        }\n        \n        // resolve parameters\n        if (array(x)) {\n            target = y;\n            if (x.length > 4) {\n                height = 5 in x ? x[5] : false;\n                width = 4 in x ? x[4] : false;\n                bottom = 3 in x ? x[3] : false;\n                right = 2 in x ? x[2] : false;\n            }\n            else {\n                height = 3 in x ? x[3] : false;\n                width = 2 in x ? x[2] : false;\n                bottom = false;\n                right = false;\n            }\n            y = 1 in y ? x[1] : false;\n            x = x[0];\n        }\n        \n        if (!valid(x)) {\n            throw new Error(ERROR_INVALID_X);\n        }\n        if (!valid(y)) {\n            throw new Error(ERROR_INVALID_Y);\n        }\n        \n        if (!valid(right)) {\n            throw new Error(ERROR_INVALID_RIGHT);\n        }\n        if (!valid(bottom)) {\n            throw new Error(ERROR_INVALID_BOTTOM);\n        }\n        \n        if (!valid(width)) {\n            throw new Error(ERROR_INVALID_WIDTH);\n        }\n        if (!valid(height)) {\n            throw new Error(ERROR_INVALID_HEIGHT);\n        }\n        \n        return getTranslation(element,\n                                x,\n                                y,\n                                right,\n                                bottom,\n                                width,\n                                height,\n                                target);\n    }\n\nexport\n    function scroll(dom, x, y) {\n        var setter = arguments.length > 1,\n            isNumber = number,\n            stop = SCROLL_TOP,\n            sleft = SCROLL_LEFT;\n        var current, window;\n        \n        // validate x and y\n        if (setter) {\n            if (!isNumber(x)) {\n                x = false;\n            }\n            if (!isNumber(y)) {\n                y = false;\n            }\n        }\n        \n        switch (isViewable(dom)) {\n        case PAGE_VIEW:\n            window = isDom(dom) ?\n                            dom[DEFAULTVIEW] : dom;\n            current = getPageScroll(window);\n            \n            if (setter) {\n                setPageScroll(window,\n                                x === false ?\n                                    current[0] : x,\n                                y === false ?\n                                    current[1] : y);\n            }\n            else {\n                return current;\n            }\n            break;\n        \n        case ELEMENT_VIEW:\n            if (setter) {\n                dom[sleft] = x === false ? dom[sleft] : x;\n                dom[stop] = y === false ? dom[stop] : y;\n            }\n            else {\n                return [dom[sleft], dom[stop]];\n            }\n            break;\n        \n        default:\n            throw new Error(ERROR_INVALID_DOM);\n        }\n    }\n    \n/**\n * Visibility\n */\nexport\n    function visible(element, visibility, displayed) {\n        var rules = null,\n            isString = string,\n            len = arguments.length,\n            attached = isViewable(element) === ELEMENT_VIEW;\n        \n        // setter\n        if (len > 1) {\n            rules = {};\n            \n            if (isString(visibility)) {\n                rules.visibility = visibility;\n            }\n            else if (typeof visiblity === 'boolean') {\n                rules.visibility = visibility ? 'visible' : 'hidden';\n            }\n            \n            \n            if (displayed === false) {\n                displayed = 'none';\n            }\n            \n            if (isString(displayed)) {\n                rules.display = displayed;\n            }\n            \n            stylize(element, rules);\n            \n            return getModule();\n            \n        }\n        \n        // getter\n        if (attached) {\n            rules = computedStyle(element,\n                            'display',\n                            'visibility');\n            return rules.display !== 'none' && rules.visibility !== 'hidden';\n        }\n        \n        return false;\n    }\n\n/**\n * Screen offset and size\n */\nexport\n    function screen(dom) {\n        var subject = dom;\n        var box, size;\n        if (isDom(subject, 1, 9)) {\n            subject = (subject.nodeType === 1 ?\n                            subject.ownerDocument : subject)[\n                                documentViewAccess];\n        }\n        if (!isView(subject)) {\n            subject = global.window;\n        }\n        box = getPageScroll(subject);\n        size = getScreenSize(subject);\n        \n        box[2] = size[0];\n        box[3] = size[1];\n        subject = null;\n        return box;\n        \n    }\n\n\n/**\n * initialize\n */\nDIMENSION_INFO = DETECTED && DETECTED.dimension;\nif (DIMENSION_INFO) {\n    \n    // strict mode\n    if (!DETECTED.browser.strict) {\n        IE_PAGE_STAT_ACCESS = 'body';\n    }\n    \n    USE_ZOOM_FACTOR = DIMENSION_INFO.zoomfactor;\n    DEFAULTVIEW = DETECTED.dom.defaultView;\n    IEVERSION = DETECTED.browser.ieVersion;\n    \n    getPageScroll = DIMENSION_INFO.pagescroll ?\n                        w3cPageScrollOffset :\n                        iePageScrollOffset;\n    \n    getScreenSize = DIMENSION_INFO.screensize ?\n                        w3cScreenSize :\n                        ieScreenSize;\n\n    boundingRect = DIMENSION_INFO.rectmethod && BOUNDING_RECT;\n    \n    getOffset = boundingRect ? rectOffset : manualOffset;\n    \n                        \n    getSize = boundingRect ? rectSize : manualSize;\n}\n\n\n\n\n\n","'use strict';\n\nimport { get as getModule } from \"./chain.js\";\n\nimport DETECTED from \"./detect.js\";\n\nimport { ERROR } from \"./string.js\";\n\nimport { is as isDom } from \"./dom.js\";\n\nimport { visible } from \"./dimension.js\";\n\n\nvar SELECT_ELEMENT = null,\n    CLEAR_SELECTION = null,\n    UNSELECTABLE = attributeUnselectable,\n    DETECTED_SELECTION = null,\n    DETECTED_DOM = null,\n    CSS_UNSELECT = null;\n\n    \n\n\nfunction webkitUnselectable(element, selectable) {\n    element.style.webkitUserSelect = selectable ? 'text' : 'none';\n}\n\nfunction geckoUnselectable(element, selectable) {\n    element.style.MozUserSelect = selectable ? 'text' : 'none';\n}\n\nfunction attributeUnselectable(element, selectable) {\n    element.unselectable = selectable ? 'off' : 'on';\n    \n}\n\n\nfunction selectionNotSupported() {\n    throw new Error(ERROR[2005]);\n}\n\n/**\n * Select\n */\nfunction ieSelectElement(startElement, endElement) {\n    var body = startElement.ownerDocument.body,\n        startRange = body.createTextRange();\n    var endRange;\n    \n    startRange.moveToElementText(startElement);\n    if (endElement) {\n        endRange = body.createTextRange();\n        endRange.moveToElementText(endElement);\n        startRange.setEndPoint(\"EndToEnd\", endRange);\n    }\n    startRange.select();\n\n    body = endRange = startRange = null;\n}\n\n\nfunction ieClearSelection(document) {\n    document.selection.empty();\n}\n\n\n\nfunction w3cSelectElement(startElement, endElement) {\n    var document = startElement.ownerDocument,\n        startRange = document.createRange(),\n        endRange = document.createRange(),\n        selection = document[DETECTED_DOM.defaultView].getSelection();\n    \n    startRange.selectNodeContents(startElement);\n    if (endElement) {\n        endRange.selectNodeContents(endElement);\n    }\n    \n    selection.addRange(startRange);\n    if (endElement) {\n        selection.addRange(endRange);\n    }\n    \n    document = selection = startRange = endRange = null;\n}\n\nfunction w3cClearSelection(document) {\n    document[DETECTED_DOM.defaultView].getSelection().removeAllRanges();\n}\n\n\n\nif (DETECTED) {\n    DETECTED_DOM = DETECTED.dom;\n    DETECTED_SELECTION = DETECTED.selection;\n    CSS_UNSELECT = DETECTED_SELECTION.cssUnselectable;\n    \n    if (DETECTED_SELECTION.range) {\n        SELECT_ELEMENT = w3cSelectElement;\n        CLEAR_SELECTION = w3cClearSelection;\n    }\n    else if (DETECTED_SELECTION.textrange) {\n        SELECT_ELEMENT = ieSelectElement;\n        CLEAR_SELECTION = ieClearSelection;\n    }\n    else {\n        SELECT_ELEMENT = CLEAR_SELECTION = selectionNotSupported;\n    }\n    \n    if (CSS_UNSELECT) {\n        UNSELECTABLE = CSS_UNSELECT === 'MozUserSelect' ?\n                            geckoUnselectable : webkitUnselectable;\n    }\n\n}\n\nexport\n    function highlight(from, to) {\n        \n        if (isDom(from, 9)) {\n            from = from.body;\n        }\n        \n        if (!visible(from)) {\n            throw new Error(ERROR[1106]);\n        }\n        \n        if (arguments.length < 2) {\n            to = null;\n        }\n        \n        if (to !== null && !visible(to)) {\n            throw new Error(ERROR[1107]);\n        }\n        \n        SELECT_ELEMENT(from, to);\n        \n        return getModule();\n        \n    }\n\nexport\n    function clearHighlight(document) {\n        if (!isDom(document, 9)) {\n            if (arguments.length > 0) {\n                throw new Error(ERROR[1104]);\n            }\n            else {\n                document = global.document;\n            }\n        }\n        \n        CLEAR_SELECTION(document);\n        \n        return getModule();\n    }\n\nexport\n    function unhighlightable(element, disableSelect) {\n        if (!isDom(element, 1)) {\n            throw new Error(ERROR[1102]);\n        }\n        \n        UNSELECTABLE(element,\n                    disableSelect === false);\n        \n        return getModule();\n    }","'use strict';\n\n/**\n *  Easing Formula taken from: http://gizma.com/easing\n *\n *  currentFrame = current frame\n *  startValue = start value\n *  endValue = end value\n *  totalFrames = total frame\n *  \n */\n    \n// easing aliases\nexport {\n        linearTween as linear,\n        easeInQuad as easeIn,\n        easeOutQuad as easeOut,\n        easeInOutQuad as easeInOut\n    };\n    \n// simple linear tweening - no easing, no acceleration\nexport\n    function linearTween(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n                    currentFrame / totalFrames + startValue;\n    }\n\n//  quadratic easing in - accelerating from zero velocity\nexport\n    function easeInQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        return endValue * currentFrame * currentFrame + startValue;\n    }\n\n// quadratic easing out - decelerating to zero velocity\nexport\n    function easeOutQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        return -endValue * currentFrame * (currentFrame-2) + startValue;\n    }\n\n\t\t\n\n// quadratic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuad(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 * currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame--;\n        return -endValue / 2 *\n                    (currentFrame * (currentFrame - 2) - 1) + startValue;\n    }\n\n// cubic easing in - accelerating from zero velocity\nexport\n    function easeInCubic(currentFrame, startValue, endValue, totalFrames) {\n        \n        currentFrame /= totalFrames;\n        \n        return endValue * currentFrame * currentFrame * currentFrame + startValue;\n    }\n\t\t\n\n// cubic easing out - decelerating to zero velocity\nexport\n    function easeOutCubic(currentFrame, startValue, endValue, totalFrames) {\n        \n        currentFrame /= totalFrames;\n        currentFrame--;\n        return endValue *\n                    (currentFrame * currentFrame * currentFrame + 1) +\n                    startValue;\n    }\n\n\t\t\n\n// cubic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutCubic(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                    currentFrame * currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame -= 2;\n        return endValue / 2 *\n                (currentFrame * currentFrame * currentFrame + 2) + startValue;\n    }\n\t\n\n// quartic easing in - accelerating from zero velocity\nexport\n    function easeInQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return endValue *\n                currentFrame * currentFrame * currentFrame * currentFrame +\n                startValue;\n    }\n\n// quartic easing out - decelerating to zero velocity\nexport\n    function easeOutQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return -endValue *\n                (currentFrame *\n                    currentFrame *\n                    currentFrame *\n                    currentFrame - 1) +\n                startValue;\n    }\n\n// quartic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuart(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                        currentFrame *\n                        currentFrame *\n                        currentFrame *\n                        currentFrame +\n                            startValue;\n        }\n        \n        currentFrame -= 2;\n        return -endValue / 2 *\n                (currentFrame * currentFrame * currentFrame * currentFrame - 2) +\n                startValue;\n    }\n\n// quintic easing in - accelerating from zero velocity\nexport\n    function easeInQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return endValue *\n                currentFrame * currentFrame * currentFrame *\n                currentFrame * currentFrame + startValue;\n    }\n\n// quintic easing out - decelerating to zero velocity\nexport\n    function easeOutQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return endValue *\n                    (currentFrame * currentFrame * currentFrame *\n                     currentFrame * currentFrame + 1) + startValue;\n    }\n\n// quintic easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutQuint(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            \n            return endValue / 2 *\n                    currentFrame * currentFrame * currentFrame *\n                    currentFrame * currentFrame + startValue;\n        }\n        \n        currentFrame -= 2;\n        return endValue / 2 *\n                (currentFrame * currentFrame * currentFrame *\n                    currentFrame * currentFrame + 2) + startValue;\n    }\n\t\t\n// sinusoidal easing in - accelerating from zero velocity\nexport\n    function easeInSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return -endValue *\n                M.cos(currentFrame / totalFrames * (M.PI / 2)) +\n                endValue + startValue;\n    }\n\n// sinusoidal easing out - decelerating to zero velocity\nexport\n    function easeOutSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return endValue *\n                M.sin(currentFrame / totalFrames * (M.PI / 2)) + startValue;\n    }\n\n// sinusoidal easing in/out - accelerating until halfway, then decelerating\nexport\n    function easeInOutSine(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        return -endValue / 2 *\n                (M.cos(M.PI * currentFrame / totalFrames) - 1) + startValue;\n    }\n\n// exponential easing in - accelerating from zero velocity\nexport\n    function easeInExpo(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n                Math.pow(2, 10 * (currentFrame / totalFrames - 1)) + startValue;\n    }\n\n// exponential easing out - decelerating to zero velocity\nexport\n    function easeOutExpo(currentFrame, startValue, endValue, totalFrames) {\n        return endValue *\n            (-Math.pow(2, -10 * currentFrame / totalFrames ) + 1) + startValue;\n    }\n\n// exponential easing in/out - accelerating until halfway, then decelerating\nexport\n    function easeInOutExpo(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        currentFrame /= totalFrames / 2;\n        \n        if (currentFrame < 1) {\n            return endValue / 2 *\n                        M.pow(2, 10 * (currentFrame - 1)) + startValue;\n        }\n        \n        currentFrame--;\n        \n        return endValue / 2 * (-M.pow(2, -10 * currentFrame) + 2) + startValue;\n    }\n\n// circular easing in - accelerating from zero velocity\nexport\n    function easeInCirc(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        \n        return -endValue *\n                (Math.sqrt(1 - currentFrame * currentFrame) - 1) + startValue;\n    }\n\n// circular easing out - decelerating to zero velocity\nexport\n    function easeOutCirc(currentFrame, startValue, endValue, totalFrames) {\n        currentFrame /= totalFrames;\n        currentFrame--;\n        \n        return endValue * Math.sqrt(1 - currentFrame * currentFrame) +\n                startValue;\n    }\n\n// circular easing in/out - acceleration until halfway, then deceleration\nexport\n    function easeInOutCirc(currentFrame, startValue, endValue, totalFrames) {\n        var M = Math;\n        \n        currentFrame /= totalFrames / 2;\n        if (currentFrame < 1) {\n            return -endValue / 2 *\n                    (M.sqrt(1 - currentFrame * currentFrame) - 1) + startValue;\n        }\n        currentFrame -= 2;\n        return endValue / 2 *\n                    (M.sqrt(1 - currentFrame * currentFrame) + 1) + startValue;\n    }\n","'use strict';\n\nimport {\n            string,\n            number,\n            method,\n            object,\n            contains,\n            each as eachProperty\n        } from \"libcore\";\n        \nimport { ERROR } from \"./string.js\";\n\nimport { parseColor as colorParse } from \"./color.js\";\n\nimport * as EASING from \"./easing.js\";\n\nimport {\n            boxRe,\n            dimensionRe,\n            colorRe,\n            stylize,\n            unitValue,\n            computedStyle\n        } from \"./css.js\";\n\nimport {\n            box as dimensionBox,\n            translate\n        } from \"./dimension.js\";\n\n\nvar SESSION_ACCESS = '__animate_session',\n    BOX_POSITION = {\n        left: 0,\n        top: 1,\n        right: 2,\n        bottom: 3,\n        width: 4,\n        height: 5\n    },\n    DEFAULT_EASING = 'easeOut',\n    DEFAULT_DURATION = 0.5,\n    DEFAULT_INTERVAL = 10,\n    SESSIONS = {};\n\n\n/**\n * Stuff to try:\n *  transition-timing-function (emulate):\n *      linear|ease|ease-in|ease-out|ease-in-out|\n *      step-start|step-end|steps(int,start|end)|\n *      cubic-bezier(n,n,n,n)|initial|inherit\n */\n\nfunction empty() {\n    \n}\n\n\nfunction validValue(value) {\n    if (string(value)) {\n        value = parseFloat(value);\n    }\n    return number(value) && value;\n}\n\nfunction applyDisplacements(session, from, to) {\n    \n    eachProperty(to, onApplyDisplacement, [from, session], true);\n    \n    return session;\n}\n\nfunction onApplyDisplacement(value, name, to) {\n    /* jshint validthis:true */\n    var context = this,\n        format = validValue,\n        from = context[0],\n        session = context[1],\n        names = session[0],\n        sourceValues = session[1];\n        \n    var index, source, target, sourceEnded;\n        \n    target = format(to[name]);\n    \n    if (target !== false) {\n        index = names.indexOf(name);\n        source = contains(from, name) &&\n                    format(from[name]);\n                    \n        sourceEnded = source === false;\n        \n        // create from source if did not exist\n        if (index === -1) {\n            if (sourceEnded) {\n                return true;\n            }\n            index = names.length;\n            names[index] = name;\n            \n        }\n        else if (sourceEnded) {\n            \n            source = sourceValues[index];\n        }\n        \n        // update\n        sourceValues[index] = source;\n        session[2][index] = target;\n        \n    }\n\n    \n    return true;\n}\n\n\n\n/**\n * CSS animation\n */\n\n\nfunction createElementHandler(animate) {\n    function onAnimate(values, current, total) {\n        var session = animate,\n            node = session.node;\n        \n        // transform dimension\n        translate(node,\n                'left' in values ? values.left : false,\n                'top' in values ? values.top : false,\n                'right' in values ? values.right : false,\n                'bottom' in values ? values.bottom : false,\n                'width' in values ? values.width : false,\n                'height' in values ? values.height : false,\n                values);\n        \n        stylize(node, values);\n        \n        if (current === total) {\n            node.removeAttribute(SESSION_ACCESS);\n            session.node = null;\n            delete session.node;\n        }\n        \n        session = node = null;\n    }\n    return onAnimate;\n}\n\nfunction createStyleDefaults(element, names) {\n    var values = computedStyle(element, names),\n        domBox = dimensionBox,\n        c = -1,\n        l = names.length,\n        cssUnitValue = unitValue,\n        dimensionMatch = dimensionRe,\n        colorMatch = colorRe,\n        parse = colorParse,\n        boxPosition = BOX_POSITION,\n        box = null;\n    var name, value;\n    \n    for (; l--;) {\n        name = names[++c];\n        value = values[name];\n        if (boxRe.test(name)) {\n            if (!box) {\n                box = domBox(element);\n            }\n            value = box[boxPosition[name]];\n        }\n        else if (dimensionMatch.test(name)) {\n            value = cssUnitValue(value);\n        }\n        else if (colorMatch.test(name)) {\n            value = parse(value);\n        }\n        values[name] = parseFloat(value) || 0;\n    }\n    \n    return values;\n}\n\n\nfunction eachElementValues(value, name) {\n    /*jshint validthis:true */\n    var stat = this,\n        names = stat[0],\n        values = stat[1],\n        snames = stat[2],\n        statics = stat[3],\n        raw = value;\n    \n    // opacity\n    if (name === 'opacity') {\n        value = parseFloat(raw);\n        \n    }\n    // box and dimension\n    else if (boxRe.test(name) || dimensionRe.test(name)) {\n        value = unitValue(raw);\n        \n    }\n    // color\n    else if (colorRe.test(name)) {\n        value = colorParse(raw);\n        if (value === null) {\n            value = false;\n        }\n    }\n    \n    if (number(value)) {\n        names[names.length] = name;\n        values[name] = value;\n    }\n    else if (value !== false) {\n        snames[snames.length] = name;\n        statics[name] = value;\n    }\n}\n\n\n\nexport {\n        DEFAULT_EASING as defaultEasing,\n        DEFAULT_DURATION as duration,\n        DEFAULT_INTERVAL as interval,\n        EASING as easing\n    };\n    \nexport\n    function transition(callback, from, to, type, duration) {\n        var M = Math,\n            easing = EASING,\n            isObject = object,\n            list = SESSIONS,\n            defaultInterval = DEFAULT_INTERVAL,\n            clear = clearInterval,\n            set = setInterval,\n            interval = null,\n            alen = arguments.length,\n            frame = 0;\n            \n        var frames, displacements;\n        \n        function stop() {\n            var fn = stop;\n            \n            if (interval) {\n                clear(interval);\n                delete list[interval];\n                delete fn.session;\n                delete fn.update;\n                delete fn.running;\n                interval = null;\n            }\n            fn = null;\n        }\n        \n        function update(updates, initialValues, animationType) {\n            var specs = displacements,\n                typeObject = isObject;\n            \n            if (interval) {\n                if (!typeObject(updates)) {\n                    throw new Error(ERROR[1152]);\n                }\n                \n                if (!typeObject(initialValues)) {\n                    initialValues = specs[3];\n                }\n                applyDisplacements(specs, initialValues, updates, animationType);\n                // reset frame\n                frame = 0;\n                \n            }\n        }\n        \n        function run() {\n            var specs = displacements,\n                names = specs[0],\n                from = specs[1],\n                to = specs[2],\n                total = frames,\n                current = ++frame,\n                len = names.length,\n                result = {},\n                eased = type(current, 0, 1, total),\n                last = current === total;\n                \n            var start;\n            \n            // normal animation\n            for (; len--;) {\n                start = from[len];\n                result[names[len]] = (to[len] - start) * eased + start;\n            }\n            \n            \n            specs[3] = result;\n            callback(result, current, total);\n            \n            if (last) {\n                stop();\n            }\n            \n        }\n        \n        if (!method(callback)) {\n            throw new Error(ERROR[1151]);\n        }\n        \n        if (!isObject(from) || !isObject(to)) {\n            throw new Error(ERROR[1152]);\n        }\n        \n        // validate type\n        if (alen < 4) {\n            type = DEFAULT_EASING;\n        }\n        else if (!has(type)) {\n            throw new Error(string[1153]);\n        }\n        \n        // validate duration\n        if (alen < 5) {\n            duration = DEFAULT_DURATION;\n        }\n        else if (!number(duration) || duration <= 0) {\n            throw new Error(ERROR[1154]);\n        }\n        \n        // prepare displacements\n        type = easing[type];\n        duration *= 1000;\n        frames = M.max(10, M.round(duration / defaultInterval));\n        \n        displacements = [[], [], [], from, stop];\n        interval = set(run, defaultInterval);\n        stop.session = interval;\n        stop.update = update;\n        stop.running = true;\n        list[interval] = displacements;\n        displacements = applyDisplacements(displacements, from, to);\n        return stop;\n        \n    }\n\nexport\n    function has(type) {\n        return string(type) && contains(EASING, type);\n    }\n    \nexport\n    function animateStyle(element, styles, type, duration) {\n        var access = SESSION_ACCESS,\n            defaultEasing = DEFAULT_EASING,\n            defaultDuration = DEFAULT_DURATION,\n            stat = [[], {}, [], {}],\n            alen = arguments.length,\n            session = null;\n        //var values = createElementValues(styles);\n        \n        var sessionId, animateObject,\n            names, defaults, animateValues, staticValues;\n            \n        if (!object(styles)) {\n            throw new Error(ERROR[1152]);\n        }\n            \n        eachProperty(styles, eachElementValues, stat);\n        \n        names = stat[0];\n        animateValues = stat[1];\n        staticValues = stat[3];\n        \n        \n        if (alen < 4) {\n            duration = defaultDuration;\n            \n            if (alen < 3) {\n                type = defaultEasing;\n            }\n        }\n        \n        if (!string(type, true)) {\n            throw new Error(string[1153]);\n        }\n        else if (!has(type)) {\n            type = defaultEasing;\n        }\n        \n        if (!number(duration) || duration <= 0) {\n            throw new Error(ERROR[1154]);\n        }\n        \n        // has animation\n        if (names.length) {\n            sessionId = element.getAttribute(access);\n            defaults = createStyleDefaults(element, names);\n            \n            // create\n            if (!sessionId) {\n                animateObject = {\n                    node: element\n                };\n                \n                session = transition(createElementHandler(animateObject),\n                                     defaults,\n                                     animateValues,\n                                     type,\n                                     duration);\n                \n                animateObject.id = sessionId = session.session;\n                \n                element.setAttribute(access, sessionId);\n                \n            }\n            // update\n            else {\n                \n                session = SESSIONS[sessionId][4];\n                session.update(animateValues, defaults, type);\n                \n            }\n        }\n        \n        if (stat[2].length) {\n            stylize(element, staticValues);\n        }\n        \n        return session || empty;\n        \n    }","export default typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {}\n","'use strict';\n\nimport { env } from \"libcore\";\n\nvar ROOT = global,\n    browser = env.browser,\n    strict = false,\n    ieVersion = 0,\n    ie8 = false,\n    exported = false;\n\nvar match, ieVersion;\n\nif (browser) {\n  match = env.userAgent.match(/msie ([0-9]+\\.[0-9]+)/i);\n\n  exported = {\n    strict: ROOT.document.compatMode === 'CSS1Compat',\n    ieVersion: match && parseInt(match[1], 10) || 0,\n    ie8: ieVersion === 8\n  };\n\n}\n\nROOT = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n  exported = false;\n\nif (browser) {\n  exported = {\n    w3c: !!WINDOW.addEventListener,\n    ie: !!WINDOW.attachEvent,\n    customEvent: !!WINDOW.CustomEvent\n  }\n}\n\nWINDOW = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar DOCUMENT, ROOT;\n\nif (browser) {\n  DOCUMENT = WINDOW.document;\n  ROOT = DOCUMENT.documentElement;\n  exported = {\n    compare: !!ROOT.compareDocumentPosition,\n    contains: !!ROOT.contains,\n    defaultView: DOCUMENT.defaultView ?\n                    'defaultView' :\n                    DOCUMENT.parentWindow ?\n                        'parentWindow' : null,\n    querySelectorAll: !!DOCUMENT.querySelectorAll,\n    listToArray: ROOT.childNodes instanceof Object\n  };\n\n}\n\nDOCUMENT = ROOT = null;\n\nexport default exported;\n","'use strict';\n\n\nimport {\n            string\n        } from \"libcore\";\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar DOC, DIV, STYLE, name, color;\n\nfunction detectAlphaColor(style) {\n    var rgba = 'rgba(0,0,0,0.5)';\n\n    try {\n        style.color = rgba;\n        color = style.color;\n\n        if (string(color)) {\n            color = color.replace(/[ \\r\\n\\t\\s]+/g, '').toLowerCase();\n        }\n\n        if (rgba === color) {\n            return true;\n        }\n    }\n    catch (e) {}\n\n    return false;\n}\n\nfunction detectTransition(style) {\n    var supports = ['OTransition',\n                            'webkitTransition',\n                            'MozTransition',\n                            'transition'],\n        l = supports.length;\n\n    for (l = supports.length; l--;) {\n        name = supports[l];\n        if (typeof style[name] !== 'undefined') {\n            return name;\n        }\n    }\n    return false;\n}\n\n\nif (browser) {\n  DOC = WINDOW.document;\n  DIV = DOC.createElement('div');\n  STYLE = DIV.style;\n\n  exported = {\n    w3cStyle: !!WINDOW.getComputedStyle,\n    ieStyle: !!DOC.documentElement.currentStyle,\n    setattribute: !!STYLE.setAttribute,\n    setproperty: !!STYLE.setProperty,\n    opacity: typeof STYLE.opacity !== 'undefined',\n    filterOpacity: typeof STYLE.filter !== 'undefined',\n    alphaColor: detectAlphaColor(STYLE),\n    transition: detectTransition(STYLE)\n  };\n\n}\n\nWINDOW = DOC = DIV = STYLE = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n    exported = false;\nvar ieVersion;\n\nif (browser) {\n  ieVersion = browser.ieVersion;\n  exported = {\n    screensize: typeof WINDOW.innerWidth !== 'undefined',\n    pagescroll: typeof WINDOW.pageXOffset !== 'undefined',\n    rectmethod: !!WINDOW.document.documentElement.getBoundingClientRect,\n    zoomfactor: ieVersion > 0 && ieVersion < 8,\n    ie8: ieVersion === 8\n  };\n\n}\n\nWINDOW = null;\n\nexport default exported;\n","'use strict';\n\nimport browser from \"./browser.js\";\n\nvar WINDOW = global,\n  exported = false;\nvar DOCUMENT, ROOTSTYLE, UNDEFINED;\n\nif (browser) {\n  DOCUMENT = global.document;\n  ROOTSTYLE = DOCUMENT.documentElement.style;\n  UNDEFINED = 'undefined';\n\n  exported = {\n    range: !!DOCUMENT.createRange,\n    textrange: !!DOCUMENT.createElement('input').createTextRange,\n    cssUnselectable: typeof ROOTSTYLE.MozUserSelect !== UNDEFINED ?\n                        'MozUserSelect' :\n                        typeof ROOTSTYLE.webkitUserSelect !== UNDEFINED ?\n                            'webkitUserSelect' : false\n  };\n\n}\n\nDOCUMENT = ROOTSTYLE = null;\n\nexport default exported;\n","'use strict';\n\n\nimport browser from \"./detect/browser.js\";\nimport { default as domEvent } from \"./detect/event.js\";\nimport dom from \"./detect/dom.js\";\nimport css from \"./detect/css.js\";\nimport dimension from \"./detect/dimension.js\";\nimport selection from \"./detect/selection.js\";\n\nvar exported = false;\n\nif (browser) {\n    exported = {\n      browser: browser,\n      event: domEvent,\n      dom: dom,\n      css: css,\n      dimension: dimension,\n      selection: selection\n    };\n}\n\nexport default exported;\n","'use strict';\n\n\nvar NUMBER = 1,\n    HEX = 2,\n    PERCENT = 3,\n    HAS_UNIT_RE = /\\%$/;\n\nfunction format(value, colorFormat) {\n    \n    switch (colorFormat) {\n    case HEX:\n        return parseInt(value, 16) || 0;\n    \n    case NUMBER:\n        value = 1 * value;\n        return value || 0;\n\n    case PERCENT:\n        value = HAS_UNIT_RE.test(value) ?\n                    1 * value.substring(0, value.length -1) :\n                    1 * value;\n\n        return Math.round((value || 1) * 100);\n    }\n    return 0;\n}\n\nexport default {\n                NUMBER,\n                HEX,\n                PERCENT,\n                format\n            };\n\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger as rgbaToInteger\n        } from \"./rgba.js\";\n\nexport\n    function toString(integer) {\n        return 'rgb(' + toArray(integer).slice(0, 3).join(',') + ')';\n    }\n\nexport\n    function toInteger(r, g, b) {\n        return rgbaToInteger(r, g, b, 100);\n    }\n\nexport {\n            itemize,\n            toArray\n        };\n","'use strict';\n\nimport {\n            itemize,\n            toArray,\n            toInteger\n        } from \"./hsla.js\";\n\nexport\n    function toString(integer) {\n        var values = toArray(integer).slice(0, 3);\n        values[1] += '%';\n        values[2] += '%';\n        return 'hsl(' + values.join(',') + ')';\n    }\n\nexport {\n        itemize,\n        toArray,\n        toInteger\n    };\n\n","'use strict';\n\nimport * as exported from \"./all.js\";\n\nimport { use as registerModule } from \"./lib/chain.js\";\n\nconst mainModule = registerModule(exported);\n\nglobal.libdom = mainModule;\n\nexport * from \"./all.js\";\n\nexport default mainModule;\n\n\n"],"names":["htmlescapeCallback","chr","value","code","charCodeAt","toString","onDestroy","TEXTAREA","stylize","subject","string","Error","ERROR","camelize","STYLIZE_RE","test","charAt","toUpperCase","substring","length","addWord","items","c","l","item","cl","combined","isString","trimString","trim","unionList","split","SEPARATE_RE","join","removeWord","index","indexOf","splice","xmlDecode","textarea","innerHTML","xmlEncode","replace","HTML_ESCAPE_CHARS_RE","get","MODULE","createUnlistener","event","destroyed","head","tail","UNLISTEN","EVENTS","unlisten","filter","argLen","observable","type","handler","context","last","found","len","HAS_OBSERVABLE","HAS_TYPE","HAS_HANDLER","HAS_CONTEXT","w3cCreateHandler","MIDDLEWARE","run","call","ieCreateHandler","global","iePolyfillEvent","ieCreateCustomHandler","onEvent","customType","iePreventDefault","this","returnValue","ieStopPropagation","cancelBubble","eventObject","target","srcElement","preventDefault","stopPropagation","ieTestCustomEvent","element","access","ontype","supported","list","IE_CUSTOM_EVENTS","nodeType","documentElement","tagName","IE_ON","cloneNode","setAttribute","onBeforeUnload","PAGE_UNLOADED","purge","on","current","args","ERROR_INVALID_TYPE","method","ERROR_INVALID_HANDLER","RESOLVE","ERROR_OBSERVABLE_NO_SUPPORT","LISTEN","un","getModule","dispatch","properties","arguments","object","DISPATCH","alen","destructor","register","notSupportedContains","registerDomHelper","name","MANIPULATION_HELPERS","set","purgeEventsFrom","getTagNameFromConfig","config","nodeName","tag","applyAttributeToElement","listen","helper","EVENT_ATTRIBUTE_RE","each","applyEventAttribute","exists","DOM_ATTRIBUTE_RE","DOM_ATTRIBUTE_LIST","applyConfigToElement","usedFragment","fragment","doc","created","hasOwn","hasProperty","isObject","me","resolveTagName","applyAttribute","htmlEncodeChild","childNodes","main","array","ownerDocument","createDocumentFragment","createElement","appendChild","findChild","node","counter","any","isNumber","number","is","parentNode","firstChild","nextSibling","hasParent","child","parent","resolveCreatedNode","result","orderTraverse","callback","orderType","includeRoot","queue","depth","isPostOrder","ORDER_TYPE_LEVELORDER","next","ORDER_TYPE_POSTORDER","ORDER_TYPE_PREORDER","match","matched","Math","max","isView","defaultView","self","window","document","contains","ancestor","descendant","ancestorType","descendantType","elementErrorString","allowList","ALLOW_DESCENDANT_NODE_TYPES","isDom","NORMALIZED_CONTAINS","add","before","inserted","toInsert","invalidConfig","ERROR_INVALID_ELEMENT_CONFIG","ERROR_INVALID_DOM","insertBefore","remove","destroy","ERROR_INVALID_DOM_NODE","ERROR_INVALID_DESTROY","eachNodePostorder","removeChild","move","nodes","newChild","insert","ERROR_INVALID_DOM_NODES","replaceChild","eachNodePreorder","ERROR_INVALID_CALLBACK","eachNodeLevelorder","hue2rgb","p","q","t","itemize","colorFormat","M","F","format","isFloat","PERCENT","BYTE","min","toArray","integer","h2r","size","psize","BYTE_PERCENT","h","BYTE_HUE","s","a","LUMINOSITY","HUE","SATURATION","round","toFixed","toInteger","r","g","b","d","toHex","percent","HEX","parseInt","NUMBER","preParseValue","str","REMOVE_SPACES","COLOR_RE","parseColorStringType","isHex","TO_COLOR","m","parseColorType","ERROR_SUBJECT","parseColor","parsed","itemizer","processor","toProcess","formatPercent","formatNumber","formatHex","numberRe","NUMBER_RE","apply","formatColor","colorValue","onStyleElement","isScalar","elementStyle","SET_STYLE","stringStylize","SET_OPACITY","DIMENSION_RE","DEFAULT_COLOR_UNIT","parseCSSText","pair","pairs","slice","styleManipulationNotSupported","computedStyleNotSupported","ieGetPixelSize","style","property","fontSize","sizeWithSuffix","parseFloat","suffix","parentElement","EM_OR_PERCENT_RE","currentStyle","WIDTH_RE","CLIENT_WIDTH","CLIENT_HEIGHT","ieGetPositionStyle","nodeStyle","offsetParent","parentStyle","ieAdjust","DETECTED","browser","ieVersion","parse","ptop","PADDING_TOP","pleft","PADDING_LEFT","pbottom","PADDING_BOTTOM","pright","PADDING_RIGHT","cwidth","cheight","left","OFFSET_LEFT","top","OFFSET_TOP","right","OFFSET_WIDTH","bottom","OFFSET_HEIGHT","width","height","position","paddingLeft","borderLeftWidth","paddingTop","borderTopWidth","body","marginLeft","marginTop","opacityNotSupported","addClass","classNames","ERROR_INVALID_CLASSNAMES","className","removeClass","rules","stylify","cssText","validUnitValue","isFinite","CSS_MEASUREMENT_RE","unitValue","isFiniteNumber","pageBox","dom","box","screen","IE_PAGE_STAT_ACCESS","scrollWidth","scrollHeight","setPageScroll","x","y","scrollTo","isViewable","viewable","PAGE_VIEW","ELEMENT_VIEW","getTranslation","hasWidth","hasHeight","diff","currentDimension","cssValue","hasLeft","hasTop","hasRight","hasBottom","computedStyle","getOffset","offset","valid","ERROR_INVALID_ELEMENT","ERROR_INVALID_PARAMETERS","ERROR_INVALID_X","ERROR_INVALID_Y","ERROR_INVALID_WIDTH","ERROR_INVALID_HEIGHT","getSize","viewmode","dimension","translate","ERROR_INVALID_RIGHT","ERROR_INVALID_BOTTOM","scroll","setter","stop","SCROLL_TOP","sleft","SCROLL_LEFT","DEFAULTVIEW","getPageScroll","visible","visibility","displayed","attached","visiblity","display","documentViewAccess","getScreenSize","highlight","from","to","SELECT_ELEMENT","clearHighlight","CLEAR_SELECTION","unhighlightable","disableSelect","UNSELECTABLE","linearTween","currentFrame","startValue","endValue","totalFrames","easeInQuad","easeOutQuad","easeInOutQuad","empty","validValue","applyDisplacements","session","eachProperty","onApplyDisplacement","source","sourceEnded","names","sourceValues","createElementHandler","animate","values","total","removeAttribute","SESSION_ACCESS","createStyleDefaults","domBox","dimensionBox","cssUnitValue","dimensionMatch","dimensionRe","colorMatch","colorRe","colorParse","boxPosition","BOX_POSITION","boxRe","eachElementValues","stat","snames","statics","raw","transition","duration","fn","interval","clear","update","running","frames","displacements","easing","EASING","SESSIONS","defaultInterval","DEFAULT_INTERVAL","clearInterval","setInterval","frame","DEFAULT_EASING","has","DEFAULT_DURATION","start","specs","eased","updates","initialValues","animationType","typeObject","animateStyle","styles","sessionId","animateObject","defaults","animateValues","staticValues","defaultEasing","defaultDuration","getAttribute","id","ROOT","exported","env","userAgent","strict","compatMode","ie8","WINDOW","w3c","addEventListener","ie","attachEvent","customEvent","CustomEvent","DOCUMENT","compare","compareDocumentPosition","parentWindow","querySelectorAll","listToArray","Object","DOC","STYLE","color","w3cStyle","getComputedStyle","ieStyle","setattribute","setproperty","setProperty","opacity","filterOpacity","alphaColor","rgba","toLowerCase","e","detectAlphaColor","supports","detectTransition","screensize","innerWidth","pagescroll","pageXOffset","rectmethod","getBoundingClientRect","zoomfactor","ROOTSTYLE","UNDEFINED","range","createRange","textrange","createTextRange","cssUnselectable","MozUserSelect","webkitUserSelect","domEvent","css","selection","detect","EVENT_INFO","IS_CAPABLE","SUBJECT","1001","1002","1011","1021","1101","1102","1103","1104","1105","1106","1107","1108","1111","1112","1113","1121","1131","1132","1133","1134","1141","1151","1152","1153","1154","1210","1211","1212","1213","1214","1215","1216","2001","2002","2003","2004","2005","2006","middleware","IE_BUBBLE_EVENT","IE_NO_BUBBLE_EVENT","INFO","listener","removeEventListener","createEvent","initEvent","bubbles","cancelable","dispatchEvent","isFunction","detachEvent","createEventObject","fireEvent","CSS_SELECT","DOM_INFO","ERROR_INVALID_CSS_SELECTOR","4","1","11","8","9","7","3","createRegistry","selector","Array","prototype","HAS_UNIT_RE","alpha","convert","rgbaToInteger","rgb","rgbColor","rgbaColor","hsl","hsla","hslaColor","hex","hexColor","BOX_RE","IE_ALPHA_OPACITY_RE","IE_ALPHA_OPACITY_TEMPLATE","IE_ALPHA_OPACITY_TEMPLATE_RE","GET_OPACITY","COMPUTED_STYLE","CSS_INFO","SLICE","ruleNames","camel","getOpacity","pixelSize","styleFloat","removeProperty","getPropertyValue","opacityRe","DIMENSION_INFO","MARGIN_TOP","MARGIN_LEFT","BOUNDING_RECT","boundingRect","pageYOffset","innerHeight","clientWidth","clientHeight","page","rect","factor","scrollX","scrollY","root","mtop","mleft","findStyles","getStyle","clientLeft","clientTop","selectable","unselectable","DETECTED_SELECTION","DETECTED_DOM","CSS_UNSELECT","startElement","endElement","startRange","endRange","getSelection","selectNodeContents","addRange","removeAllRanges","moveToElementText","setEndPoint","select","cos","PI","sin","pow","sqrt","mainModule","chain","registerModule","libdom"],"mappings":"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"}