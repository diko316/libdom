!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("libcore")):"function"==typeof define&&define.amd?define(["exports","libcore"],t):t(e.libdom={},e.libcore)}(this,function(e,t){"use strict";function n(e){var t,n=e.charCodeAt(0).toString(16);switch(n){case"26":t="amp";break;case"22":t="quot";break;case"27":t="apos";break;case"3C":case"3c":t="lt";break;case"3E":case"3e":t="gt";break;default:t="#x"+n}return"&"+t+";"}function r(){_e=null}function o(){return nt}function i(e,n,r,o){var i,a,u=rt;if(!t.string(n))throw new Error(ut);if(!t.method(r))throw new Error(ct);if(!(e=Ze(e)))throw new Error(lt);return void 0===o&&(o=null),a=[e,n,r,o],it.run("listen",a),e=a[0],n=a[1],r=a[2],o=a[3],a.splice(0,4),a=null,i=Ye(e,n,r,o),i.unlisten=l(i),i.head=u,i.tail=null,u&&(u.tail=i),rt=i,i.unlisten}function a(){for(var e=u.apply(null,arguments),t=e.length;t--;)e[t].unlisten();return o()}function l(e){var t=!1;return function(){var n,r;t||(t=!0,Ge(e[0],e[1],e[4]),n=e.head,r=e.tail,n&&(n.tail=r),r&&(r.head=n),e===rt&&(rt=r||n),e[0]=null,e.splice(0,4),delete e.unlisten,delete e.head,delete e.tail,e=n=r=null)}}function u(e,t,n,r){var o=rt,i=[],a=0,l=arguments.length,u=0,c=0,s=0,f=0;switch(!0){case l>3:f=1;case l>2:s=1;case l>1:c=1;case l>0:u=1}for(;o;o=o.head)u&&o[0]!==e||c&&o[1]!==t||s&&o[2]!==n||f&&o[3]!==r||(i[a++]=o);return i}function c(e,t){return function(n){return it.run("dispatch",[n.type,n]),e.call(t,n)}}function s(e,t){return function(){var n=pe.event;return p(n),it.run("dispatch",[n.type,n]),e.call(t,n)}}function f(e,t,n){function r(){var r=pe.event;if(p(r),r.customType===e)return it.run("dispatch",[e,r]),r.type=e,t.call(n,r)}return r.customType=!0,r}function d(){this.returnValue=!1}function h(){this.cancelBubble=!0}function p(e){e.target=e.target||e.srcElement,"preventDefault"in e||(e.preventDefault=d),"stopPropagation"in e||(e.stopPropagation=h)}function m(e,t){var n,r,o,i=!1,a=at;return 9===e.nodeType&&(e=e.documentElement),1===e.nodeType&&((r=e.tagName+":"+t)in a?a[r]:(o=st+t,n=e.cloneNode(!1),(i=o in n)||(n.setAttribute(o,"return;"),i="function"==typeof n[o]),n=null,a[r]=!i,!i))}function g(){ot||(ot=!0,it.run("global-destroy",[]),a())}function v(){throw new Error(Xe[2004])}function w(e){ht.purge(e)}function b(e){return t.object(e)&&(e="tagName"in e?e.tagName:"nodeName"in e?e.nodeName:"tag"in e&&e.tag),!!t.string(e)&&e}function y(e,n){var r,o=this,i=At;switch(n){case"class":n="className";break;case"for":n="htmlFor"}Ot.test(n)?"on"===(r=n.substring("-"===n.charAt(2)?3:2,n.length))&&t.object(e)?t.each(e,E,o):E.call(o,e,r):i.exists(n)?i.get(n)(o,e):Ct.test(n)||-1!==Mt.indexOf(n)?o.setAttribute(n,e):o[n]=e,o=null}function E(e,n){var r=this;t.method(e)&&ht.on(r,n,e),r=null}function x(e,n,r){var o,i,a,l,u,c,s,f,d=t.contains,h=t.object,p=x,m=b,g=y,v=!1,w=null;if(h(n)){w=null;e:for(o in n)if(d(n,o)){switch(i=n[o],o){case"tagName":case"nodeName":case"tag":continue e;case"text":case"childText":case"innerText":v=!0;case"childNodes":case"innerHTML":case"html":w=i;continue e;case"attributes":h(i)&&t.each(i,g,e);continue}g.call(e,i,o)}if(t.string(w))v&&(w=Xe.xmlEncode(w)),e.innerHTML=w;else if(!v&&(h(w)&&(w=[w]),t.array(w))){for(s=e.ownerDocument,c=!0===r?e:s.createDocumentFragment(),l=-1,u=w.length;u--;)h(a=w[++l])&&(p(f=s.createElement(m(a)||"div"),a,!0),c.appendChild(f));c!==e&&e.appendChild(c),s=c=f=null}a=null}}function S(e,n,r){var o,i,a,l=t.number;if(I(n,1,3,4,7,8)&&n.parentNode===e)return n;if(l(n)&&n>-1)for(o=n,i=-1,a=!l(r),n=e.firstChild;n;n=n.nextSibling)if((a||r===n.nodeType)&&i++,i===o)return n;return null}function T(e,n,r,i,a){var l,u,c,s,f=0,d=0;if(!I(e,1))throw new Error(bt);if(!t.method(n))throw new Error(xt);switch(void 0===r&&(r=null),a=!1!==a,i){case vt:for(l=u={node:e,next:null};l;l=l.next)for(c=l.node,l.node=null;c&&(s=c.firstChild,!a&&0===f||!1!==n.call(r,s));c=c.nextSibling)s&&(f++,u.next={node:s,next:null},u=u.next);break;case gt:d=1;case mt:e:for(s=e;s&&(!a&&0===f||d||1!==s.nodeType||!1!==n.call(r,s));){if(c=s.firstChild)f++;else{if((a||0!==f)&&d&&1===s.nodeType&&!1===n.call(r,s))break;for(c=s.nextSibling;!c&&f--&&s;){if(s=s.parentNode,(a||0!==f)&&d&&1===s.nodeType&&!1===n.call(r,s))break e;c=s.nextSibling}}s=c}}return u=l=c=s=null,o()}function I(e){var n,r,o,i,a,l,u=t.number;if(e&&"object"==typeof e&&(n=e.nodeType,u(n))){for(i=arguments,l=!(o=Math.max(i.length-1,0)),r=0;o--;)if(a=i[++r],n===a)return!0;return l}return!1}function C(e,t,n,r){return T(e,t,n,gt,!1!==r)}function M(e,t,n){switch(n=(n+1)%1,!0){case n<1/6:return e+6*(t-e)*n;case n<.5:return t;case n<2/3:return e+(t-e)*(2/3-n)*6}return e}function O(e,t,n){var r=Math,o=Dt,i=t>2&&n!==o.PERCENT,a=t<3?Pt:Wt;return e=o.format(e,n),i&&(e*=100),r.max(0,r.min(a,e))}function A(e){var t,n,r=Math,o=M,i=Pt,a=Ft,l=e&Lt,u=e>>9&a,c=e>>16&a,s=e>>23&a;return c/=qt,0===u?[c,c,c]:(l/=Ut,u/=Ht,t=c<.5?c*(1+u):c+u-c*u,n=2*c-t,[r.round(o(n,t,l+1/3)*i),r.round(o(n,t,l)*i),r.round(o(n,t,l-1/3)*i),s.toFixed(2)])}function z(e,n,r,o){var i,a,l,u,c,s,f=Math,d=Pt,h=Ft;if(e/=d,n/=d,r/=d,i=f.max(e,n,r),a=f.min(e,n,r),c=(i+a)/2,i===a)l=u=0;else{switch(s=i-a,u=c>.5?s/(2-i-a):s/(i+a),i){case e:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-e)/s+2;break;case r:l=(e-n)/s+4}l/=6}return t.number(o)||(o=Wt),(o&h)<<23|(c*qt&h)<<16|(u*Ht&h)<<9|l*Ut&Lt}function N(e){var t=Math;return((e=t.max(0,t.min(e,255)))<16?"0":"")+e.toString(16)}function j(e,t,n){var r=Dt,o=Math,i=Gt,a=t<1?Yt:i;switch(n){case r.HEX:e=parseInt(e,16)/_t*a;break;case r.NUMBER:e=1*e||0,t>2&&(e*=i);break;case r.PERCENT:e=1*e.substring(0,e.length-1)||0}return o.max(0,o.min(a,e||0))}function k(e,n,r,o){var i=Xt;return t.number(o)||(o=Gt),(o&i)<<23|(r&i)<<16|(n&i)<<9|e&Zt}function R(e){var t=Xt;return[e&Zt,e>>9&t,e>>16&t,e>>23&t]}function V(e){return"string"==typeof e&&(e=e.replace(nn,""),en.test(e))?e:null}function D(e){var n,r,o,i=rn,a=e.match(en),l=a[1];return t.contains(i,l)||(l="hex"),n=a[3],(r=!n)?(n=a[2]).length<6&&(o=n.charAt(2),n=[n.charAt(0),n.substring(0,2),n.charAt(1),o,o].join("")):n=n.split(","),[l,r,n]}function P(e){var n,r,o,i,a,l,u,c,s,f,d=Dt,h=d.PERCENT,p=d.NUMBER,m=d.HEX,g=tn;if(!t.string(e,!0))throw new Error(Kt);if(e=V(e),n=e&&D(e)){for(c=n[0],l=(u=rn[c]).itemize,f=[],s=n[1],a=n[2],r=-1,s?(f[3]=100,o=3):o=a.length;o--;){if(i=a[++r],s)i=a.substring(2*r,2*r+2);else if(!g.test(i))return null;f[r]=l(i,r,s?m:"%"===i.charAt(i.length-1)?h:p)}return u.toInteger.apply(u,f)}return null}function F(e,n){var r=rn;if(!t.number(e)||e<0)throw new Error("Invalid [colorValue] parameter.");if(arguments.length<2)n="hex";else if(!t.string(n))throw new Error("Invalid [type] parameter.");return t.contains(r,n)?(e=Math.round(e),r[n].toString(e)):null}function L(e,n){var r=t.string;if(!Nt.is(e,1))throw new Error(An);return r(n)&&(n=[n]),t.array(n)&&(e.className=Xe.addWord(e.className||"",n)),o()}function W(e,n,r){var i;if(!Nt.is(e,1))throw new Error(An);if(t.string(n)&&(arguments.length>2?((i={})[n]=r,n=i):n=q(n)),!t.object(n))throw new Error(Xe[1141]);return i=[e.style],t.each(n,H,i,!0),i=i[0]=null,o()}function U(e){if(!Nt.is(e,1))throw new Error(An);return q(e.style.cssText)}function H(e,n){var r=t.number(e),o=r||t.string(e),i=this[0],a=On;"opacity"===(n=Xe.stylize(n))?o?Mn(i,e):a(i,"filter",null):r&&xn.test(n)?e+="px":r&&gn.test(n)&&(e=F(e,zn.colorUnit)),o||(e=null),a(i,n,e),i=null}function q(e){for(var t,n=-1,r=e.length,o=0,i=[],a={};r--;)":"===(t=e.charAt(++n))?(i=i.join(""),[],o=0):i[o++]=t;return a}function $(){throw new Error(Xe[2001])}function B(){throw new Error(Xe[2002])}function Q(e,t,n,r){var o,i=t[n],a=parseFloat(i),l=i.split(yn)[0];switch(l){case"in":return 96*a;case"pt":return 96*a/72;case"em":case"%":return r||(o=e.parentElement,r=vn.test(l)&&o?Q(o,o.currentStyle,"fontSize",null):16,o=null),"em"===l?a*r:a/100*("fontSize"===n?r:bn.test(n)?e[pn]:e[mn]);default:return a}}function _(e,t){var n,r,o=e.offsetParent,i=o.currentStyle,a=qe.browser.ieVersion<9,l=parseFloat,u=ln,c=un,s=an,f=cn,d=pn,h=mn,p=e[sn],m=e[fn],g=o[d]-e[dn],v=o[h]-e[hn],w=e[d],b=e[h];switch(t.position){case"relative":if(p-=l(i[c])||0,m-=l(i[u])||0,a){for(n=e.parentNode;n!==o;n=n.parentNode)"static"===(r=n.currentStyle).position&&(p-=(l(r.paddingLeft)||0)+(l(r.borderLeftWidth)||0),m-=(l(r.paddingTop)||0)+(l(r.borderTopWidth)||0));o===e.ownerDocument.body&&(p-=l(i.marginLeft)||0,m-=l(i.marginTop)||0)}case"absolute":case"fixed":p-=l(i.borderLeftWidth)||0,m-=l(i.borderTopWidth)||0}return g-=p,v-=m,w-=(l(t[c])||0)+(l(t[f])||0),b-=(l(t[u])||0)+(l(t[s])||0),o=i=null,{left:p,top:m,right:g,bottom:v,width:w,height:b}}function X(){throw new Error(Xe[2006])}function Z(e){var t=Math,n=Nt,r=e,o=ee();return n.isView(r)&&(r=r.document),9===r.nodeType&&(r=r[_n],o[2]=t.max(r.scrollWidth,o[2]),o[3]=t.max(r.scrollHeight,o[3])),r=null,o}function Y(e,t,n){e.scrollTo(1*t,1*n)}function G(e){var t,n,r=Nt;return r.is(e,1,9)?9===e.nodeType?Qn:(t=e.ownerDocument.body,n=(e===t||r.contains(t,e))&&Bn,t=null,n):!!r.isView(e)&&Qn}function J(e,t,n,r,i){var a,l,u;if(arguments.length>1)return(a=K(e,t,n,null,null,r,i))&&zn.style(e,a),o();if((l=G(e))===Qn)return u=Z(e),t=u[0],n=u[1],r=u[2],i=u[3],u=ee(e),[t,n,r-t-u[2],i-n-u[3],r,i];if(l!==Bn)throw new Error(kn);return u=Gn(e),r=u[0],i=u[1],u=Yn(e),u[4]=r,u[5]=i,u}function K(e,n,r,o,i,a,l,u){var c,s,f,d,h=zn,p=h.unitValue,m=parseFloat,g=!1,v=g,w=g,b=g;if(G(e)!==Bn)throw new Error(kn);switch(t.array(n)&&(u=r,n.length>4?(l=5 in n?n[5]:null,a=4 in n?n[4]:null,i=3 in n?n[3]:null,o=2 in n?n[2]:null):(l=3 in n?n[3]:null,a=2 in n?n[2]:null,i=null,o=null),r=1 in r?n[1]:null,n=n[0]),t.object(u)||(u={}),(d=h.computedStyle(e,"position","top","left","right","bottom","width","height")).position){case"relative":case"absolute":case"fixed":n=p(n),r=p(r),o=p(o),i=p(i),v=!1!==r,w=!(g=!1!==n)&&!1!==o,b=!b&&!1!==i,(g||w||v||b)&&(f=Yn(e),g?u.left="number"==typeof n?(m(d.left)||0)+(n-f[0])+"px":n:w&&(u.right="number"==typeof o?(m(d.right)||0)+(o-f[2])+"px":o),v?u.top="number"==typeof r?(m(d.top)||0)+(r-f[1])+"px":r:b&&(u.bottom="number"==typeof o?(m(d.bottom)||0)+(i-f[3])+"px":i))}return a=p(a),(c=!1!==a)&&(u.width="number"==typeof a?m(d.width||0)+(a-e[Pn])+"px":a),l=p(l),(s=!1!==l)&&(u.height="number"==typeof l?m(d.height||0)+(l-e[Fn])+"px":l),g||w||v||b||c||s?u:null}function ee(e){var t,n,r=Nt,o=e;return r.is(o,1,9)&&(o=(1===o.nodeType?o.ownerDocument:o)[r.documentViewAccess]),r.isView(o)||(o=pe.window),t=Zn(o),n=Jn(o),t[2]=n[0],t[3]=n[1],o=null,t}function te(e,t,n,r){return n*e/r+t}function ne(e,t,n,r){return e/=r,n*e*e+t}function re(e,t,n,r){return e/=r,-n*e*(e-2)+t}function oe(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function ie(e,n,r,o,i){function a(){var e=a;v&&(m(v),delete h[v],delete e.session,delete e.update,delete e.running,v=null),e=null}var l,u,c=Math,s=Xe,f=dr,d=t.object,h=wr,p=br.interval,m=clearInterval,g=setInterval,v=null,w=arguments.length,b=0;if(!t.method(e))throw new Error(s[1151]);if(!d(n)||!d(r))throw new Error(s[1152]);if(w<4)o=br.defaultEasing;else if(!ce(o))throw new Error(s[1153]);if(w<5)i=br.duration;else if(!t.number(i)||i<1)throw new Error(s[1154]);return o=f[o],i*=1e3,l=c.max(10,c.round(i/p)),u=[[],[],[],n,a],v=g(function(){for(var t,n=u,r=n[0],i=n[1],c=n[2],s=l,f=++b,d=r.length,h={},p=o(f,0,1,s),m=f===s;d--;)t=i[d],h[r[d]]=(c[d]-t)*p+t;n[3]=h,e(h,f,s),m&&a()},p),a.session=v,a.update=function(e,t,n){var r=u,o=d;if(v){if(!o(e))throw new Error(s[1152]);o(t)||(t=r[3]),le(r,t,e),b=0}},a.running=!0,h[v]=u,u=le(u,n,r),a}function ae(e){return t.string(e)&&(e=parseFloat(e)),t.number(e)&&e}function le(e,n,r){return t.each(r,ue,[n,e],!0),e}function ue(e,n,r){var o,i,a,l,u=this,c=ae,s=u[0],f=u[1],d=f[0],h=f[1];if(!1!==(a=c(r[n]))){if(o=d.indexOf(n),i=t.contains(s,n)&&c(s[n]),l=!1===i,-1===o){if(l)return!0;d[o=d.length]=n}else l&&(i=h[o]);h[o]=i,f[2][o]=a}return!0}function ce(e){return t.string(e)&&t.contains(dr,e)}function se(e){return function(t,n,r){var o=e,i=o.node;Kn.translate(i,"left"in t?t.left:null,"top"in t?t.top:null,"right"in t?t.right:null,"bottom"in t?t.bottom:null,"width"in t?t.width:null,"height"in t?t.height:null,t),zn.style(i,t),n===r&&(i.removeAttribute(hr),o.node=null,delete o.node),o=i=null}}function fe(e,t){for(var n,r,o=zn,i=o.computedStyle(e,t),a=Kn,l=-1,u=t.length,c=o.unitValue,s=gr,f=vr,d=P,h=mr,p=pr,m=null;u--;)r=i[n=t[++l]],h.test(n)?(m||(m=a.box(e)),r=m[p[n]]):s.test(n)?r=c(r):f.test(n)&&(r=d(r)),i[n]=parseFloat(r)||0;return i}function de(e,n){var r=this,o=r[0],i=r[1],a=r[2],l=r[3],u=e;"opacity"===n?e=parseFloat(u):mr.test(n)||gr.test(n)?e=zn.unitValue(u):vr.test(n)&&null===(e=P(u))&&(e=!1),t.number(e)?(o[o.length]=n,i[n]=e):!1!==e&&(a[a.length]=n,l[n]=e)}var he,pe="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},me=pe,ge=!1;t.env.browser&&(he=t.env.userAgent.match(/msie ([0-9]+\.[0-9]+)/i),ge={strict:"CSS1Compat"===me.document.compatMode,ieVersion:he&&parseInt(he[1],10)||0,ie8:!1}),me=null;var ve=ge,we=pe,be=!1;ve&&(be={w3c:!!we.addEventListener,ie:!!we.attachEvent,customEvent:!!we.CustomEvent}),we=null;var ye,Ee,xe=be,Se=pe,Te=!1;ve&&(Te={compare:!!(Ee=(ye=Se.document).documentElement).compareDocumentPosition,contains:!!Ee.contains,defaultView:ye.defaultView?"defaultView":ye.parentWindow?"parentWindow":null,querySelectorAll:!!ye.querySelectorAll,listToArray:Ee.childNodes instanceof Object}),ye=Ee=null;var Ie,Ce,Me,Oe,Ae=Te,ze=pe,Ne=!1;ve&&(Ce=(Ie=ze.document).createElement("div").style,Ne={w3cStyle:!!ze.getComputedStyle,ieStyle:!!Ie.documentElement.currentStyle,setattribute:!!Ce.setAttribute,setproperty:!!Ce.setProperty,opacity:void 0!==Ce.opacity,filterOpacity:void 0!==Ce.filter,alphaColor:function(e){var n="rgba(0,0,0,0.5)";try{if(e.color=n,Oe=e.color,t.string(Oe)&&(Oe=Oe.replace(/[ \r\n\t\s]+/g,"").toLowerCase()),n===Oe)return!0}catch(e){}return!1}(Ce),transition:function(e){var t=["OTransition","webkitTransition","MozTransition","transition"],n=t.length;for(n=t.length;n--;)if(Me=t[n],void 0!==e[Me])return Me;return!1}(Ce)}),ze=Ie=Ce=null;var je,ke=Ne,Re=pe,Ve=!1;ve&&(je=ve.ieVersion,Ve={screensize:void 0!==Re.innerWidth,pagescroll:void 0!==Re.pageXOffset,rectmethod:!!Re.document.documentElement.getBoundingClientRect,zoomfactor:je>0&&je<8,ie8:8===je}),Re=null;var De,Pe,Fe,Le=Ve,We=!1;ve&&(Pe=(De=pe.document).documentElement.style,Fe="undefined",We={range:!!De.createRange,textrange:!!De.createElement("input").createTextRange,cssUnselectable:typeof Pe.MozUserSelect!==Fe?"MozUserSelect":typeof Pe.webkitUserSelect!==Fe&&"webkitUserSelect"}),De=Pe=null;var Ue=We,He=!1;ve&&(He={browser:ve,event:xe,dom:Ae,css:ke,dimension:Le,selection:Ue});var qe=He,$e=/[ \r\n\t]*[ \r\n\t]+[ \r\n\t]*/,Be=/^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,Qe=/[^\u0021-\u007e]|[\u003e\u003c\&\"\']/g,_e=null,Xe={camelize:t.camelize,stylize:function(e){return e=t.camelize(e),Be.test(e)?e.charAt(0).toUpperCase()+e.substring(1,e.length):e},addWord:function(e,n){var r,o,i=t.string,a=-1,l=n.length;for(r=(e=e.split($e)).length;l--;)i(o=n[++a])&&-1===e.indexOf(o)&&(e[r++]=o);return e.join(" ")},removeWord:function(e,t){var n,r,o,i=-1,a=t.length;for(r=(e=e.split($e)).length;a--;)for(o=t[++i],n=r;n--;)o===e[n]&&(e.splice(n,1),r--);return e.join(" ")},xmlEncode:function(e){return e.replace(Qe,n)},xmlDecode:function(e){var t=_e,n="";return t&&(t.innerHTML=e,n=t.value),t=null,n},1001:"Invalid [name] parameter.",1011:"Invalid [handler] parameter.",1101:"Invalid DOM [element] parameter.",1102:"Invalid [dom] Object parameter.",1103:"Invalid DOM [node] parameter.",1104:"Invalid DOM [document] parameter.",1111:"Invalid CSS [selector] parameter.",1112:"Invalid tree traverse [callback] parameter.",1121:"Invalid DOM Element [config] parameter.",1131:"Invalid [observable] parameter.",1132:"Invalid Event [type] parameter.",1133:"Invalid Event [handler] parameter.",1141:"Invalid [style] Rule parameter.",1151:"Invalid Animation [callback] parameter.",1152:"Invalid Animation [displacements] parameter.",1153:"Invalid Animation [type] parameter.",1154:"Invalid Animation [duration] parameter.",2001:"Style Attribute manipulation is not supported",2002:"Computed style is not supported by this browser.",2003:"CSS Selector query form DOM is not supported.",2004:"DOM position comparison is not supported.",2005:"DOM selection not supported.",2006:"CSS Opacity is not supported by this browser"};qe&&(_e=pe.document.createElement("textarea"),t.register("libdom.event.global-destroy",r));var Ze,Ye,Ge,Je,Ke,et,tt,nt=null,rt=null,ot=!1,it=t.middleware("libdom.event"),at={},lt=Xe[1131],ut=Xe[1132],ct=Xe[1133],st="on",ft="beforeupdate",dt="propertychange",ht={on:i,un:function(e,n,r,i){var a,l,c;if(!t.string(n))throw new Error(ut);if(!t.method(r))throw new Error(ct);if(!(e=Ze(e)))throw new Error(lt);for(void 0===i&&(i=null),c=[e,n,r,i],it.run("unlisten",c),e=c[0],n=c[1],r=c[2],i=c[3],c.splice(0,4),c=null,l=(a=u(e,n,r,i)).length;l--;)a[l].unlisten();return o()},fire:function(e,n,r){if(!t.string(n))throw new Error(ut);if(!(e=Ze(e)))throw new Error(lt);return Je(e,n,r)},purge:a,ondestroy:function(e){return t.method(e)&&it.register("global-destroy",e),o()}};if(Ze=Ye=Ge=Je=null,Ke=qe&&qe.event){switch(et=!0,!0){case Ke.w3c:Ye=function(e,t,n,r){var o=c(n,r);return e.addEventListener(t,o,!1),[e,t,n,r,o]},Ge=function(e,t,n){e.removeEventListener(t,n,!1)},Je=function(e,n,r){var o,i=t.contains,a=pe.document.createEvent("Event");a.initEvent(n,"bubbles"in r&&!0===r.bubbles,"cancelable"in r&&!1!==r.cancelable);for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return e.dispatchEvent(a),a},Ze=function(e){var n=t.method;return!!(e&&"object"==typeof e&&n(e.addEventListener)&&n(e.removeEventListener)&&n(e.dispatchEvent))&&e};break;case Ke.ie:Ye=function(e,t,n,r){var o,i=st;return m(e,t)?(o=f(t,n,r),e.attachEvent(i+ft,o),e.attachEvent(i+dt,o)):(o=s(n,r),e.attachEvent(i+t,o)),[e,t,n,r,o]},Ge=function(e,t,n){var r=st;n.customType?(e.detachEvent(r+ft,n),e.detachEvent(r+dt,n)):e.detachEvent(r+t,n)},Je=function(e,n,r){var o,i=t.contains,a=pe.document.createEventObject();for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return m(e,n)&&(a.customType=n,n=!0===r.bubbles?ft:dt),o=st+n,e.fireEvent(o,a),!1===r.cancelable&&(a.returnValue=!0),a},Ze=function(e){return!!(e&&(e=e.window?e.self:e).attachEvent&&e.detachEvent)&&e};break;default:et=!1}et&&(i(tt=pe,"beforeunload",g),i(tt,"unload",g),tt=null)}var pt,mt=1,gt=2,vt=3,wt=function(){throw new Error(Xe[2003])},bt=Xe[1101],yt=Xe[1103],Et=Xe[1111],xt=Xe[1112],St=Xe[1121],Tt={9:1,11:1},It=v,Ct=/(^\_|[^a-zA-Z\_])/,Mt=["nodeType","nodeValue","ownerDocument","tagName","attributes","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","sourceIndex","type"],Ot=/^on(\-?[a-zA-Z].+)?$/,At=t.createRegistry();(pt=qe&&qe.dom)&&(It=pt.compare?function(e,t){return(16&e.compareDocumentPosition(t))>0}:pt.contains?function(e,t){return e.contains(t)}:v,pt.querySelectorAll&&(wt=pt.listToArray?function(e,n){if(!I(e,9,1))throw new Error(yt);if(!t.string(n))throw new Error(Et);return Array.prototype.slice.call(e.querySelectorAll(n))}:function(e,n){var r,o,i,a;if(!I(e,9,1))throw new Error(yt);if(!t.string(n))throw new Error(Et);for(r=e.querySelectorAll(n),o=-1,(a=[]).length=i=r.length;i--;)a[++o]=r[o];return r=null,a}));var zt,Nt={contains:function(e,t){var n=Xe[1102],r=I;if(!r(e,1,9,11))throw new Error(n);if(!r(t)||t.nodeType in Tt)throw new Error(n);switch(e.nodeType){case 9:e=e.documentElement;break;case 11:e=e.firstChild}return It(e,t)},is:I,isView:function(e){var t=typeof e;return!(!e||"object"!==t&&"function"!==t||e.self!==e.window||!e.document)},eachPreorder:function(e,t,n,r){return T(e,t,n,mt,!1!==r)},eachPostorder:C,eachLevel:function(e,t,n,r){return T(e,t,n,vt,!1!==r)},documentViewAccess:"defaultView",select:wt,helper:function(e,n){if(!t.string(e))throw new Error(Xe[1001]);if(!t.method(n))throw new Error(Xe[1011]);return At.set(e,n),o()},add:function(e,n,r){var o,i=null,a=St,l=I;if(!I(e,1,11))throw new Error(bt);if(l(n))i=n;else if(t.object(n)){if(!(o=b(n)))throw new Error(a);x(i=e.ownerDocument.createElement(o),n)}if(!l(i,1,3,4,7,8,11))throw new Error(a);return e.insertBefore(i,S(e,r)),i},replace:function(e,n,r){var o,i=null,a=St,l=I;if(!l(e,1,3,4,7,8)||!e.parentNode)throw new Error(yt);if(l(n))i=n;else if(t.object(n)){if(!(o=b(n)))throw new Error(a);x(i=e.ownerDocument.createElement(o),n)}if(!l(i,1,3,4,7,8))throw new Error(a);return!0===r&&1===e.nodeType&&C(e,w),e.parentNode.replaceChild(i,e),i},move:function(e,n){var r,o,i,a,l=I,u=yt,c=!1;if(!l(n,1))throw new Error(bt);if(l(e,1,3,4,7,8)&&(e=[e],c=!0),!t.array(e))throw new Error(u);for(i=n.ownerDocument.createDocumentFragment(),r=-1,o=e.length;o--;)l(a=e[++r],1,3,4,7,8)&&i.appendChild(a);return n.appendChild(i),a=null,c&&e.splice(0,e.length),i=null,n},remove:function(e,t){var n;if(!I(e,1,3,4,7,8))throw new Error(yt);return 1===e.nodeType&&!1!==t&&C(e,w),(n=e.parentNode)&&n.removeChild(e),n=null,e},find:function(e,t){if(!I(e,1,11))throw new Error(bt);return S(e,t,1)}},jt=1,kt=2,Rt=3,Vt=/\%$/,Dt={NUMBER:jt,HEX:kt,PERCENT:Rt,format:function(e,t){switch(t){case kt:return parseInt(e,16)||0;case jt:return(e*=1)||0;case Rt:return e=Vt.test(e)?1*e.substring(0,e.length-1):1*e,Math.round(100*(e||1))}return 0}},Pt=255,Ft=127,Lt=511,Wt=100,Ut=360,Ht=Wt,qt=Wt,$t=Object.freeze({itemize:O,toArray:A,toInteger:z,toString:function(e){var t=A(e),n=t[3]/Wt;return t[3]=parseFloat(n.toFixed(2)),"rgba("+t.join(",")+")"}}),Bt=Object.freeze({toHex:N,toString:function(e){var t=N,n=A(e).slice(0,3);return n[0]=t(n[0]),n[1]=t(n[1]),n[2]=t(n[2]),"#"+n.join("")},itemize:O,toArray:A,toInteger:z}),Qt=Object.freeze({toString:function(e){return"rgb("+A(e).slice(0,3).join(",")+")"},toInteger:function(e,t,n){return z(e,t,n,100)},itemize:O,toArray:A}),_t=255,Xt=127,Zt=511,Yt=360,Gt=100,Jt=Object.freeze({itemize:j,toInteger:k,toArray:R,toString:function(e){var t=R(e);return t[1]+="%",t[2]+="%",t[3]=t[3]/Gt,"hsla("+t.join(",")+")"}}),Kt="Invalid [subject] parameter.",en=/^(\#?|rgba?|hsla?)(\(([^\,]+(\,[^\,]+){2,3})\)|[a-f0-9]{3}|[a-f0-9]{6})$/,tn=/^[0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*$/,nn=/[ \r\n\t\s]+/g,rn={rgb:Qt,rgba:$t,hsl:Object.freeze({toString:function(e){var t=R(e).slice(0,3);return t[1]+="%",t[2]+="%","hsl("+t.join(",")+")"},itemize:j,toArray:R,toInteger:k}),hsla:Jt,hex:Bt},on=Object.freeze({parseType:function(e){if(!t.string(e,!0))throw new Error(Kt);return(e=V(e))?D(e)||null:null},parse:P,stringify:F,default:rn}),an="paddingBottom",ln="paddingTop",un="paddingLeft",cn="paddingRight",sn="offsetLeft",fn="offsetTop",dn="offsetWidth",hn="offsetHeight",pn="clientWidth",mn="clientHeight",gn=/[Cc]olor$/,vn=/%|em/,wn=/^([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)(em|px|\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,bn=/width/i,yn=/\d/,En=/(top|bottom|left|right|width|height)$/,xn=/([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,Sn=/\(opacity\=([0-9]+)\)/i,Tn="alpha(opacity=$opacity)",In=/\$opacity/,Cn=X,Mn=X,On=$,An=Xe[1101],zn={add:L,remove:function(e,n){var r=t.string;if(!Nt.is(e,1))throw new Error(An);if(!Nt.is(e,1))throw new Error(An);return r(n)&&(n=[n]),t.array(n)&&(e.className=Xe.removeWord(e.className,n)),o()},computedStyle:B,style:W,currentStyle:U,unitValue:function(e){var t,n=isFinite;switch(typeof e){case"number":if(n(e))return e;break;case"string":if(t=e.length,wn.test(e)&&"px"!==e.substring(t-2,t))return e;if("auto"===e||"inherit"===e)return e;if(e=parseFloat(e),n(e))return e}return null===e&&e},styleOpacity:X,colorUnit:"hex",boxRe:En,dimensionRe:xn,colorRe:gn},Nn=Array.prototype.slice;Nt.helper("className",L),Nt.helper("style",function(){return arguments.length>1?W.apply(this,arguments):U.apply(this,arguments)}),(zt=qe&&qe.css)&&(zn.computedStyle=zt.w3cStyle?function(e,n){var r,o,i,a,l,u,c,s=Xe.stylize,f=t.string;if(!Nt.is(e,1))throw new Error(An);for(r=pe.getComputedStyle(e),u={},t.array(n)||(n=Nn.call(arguments,1)),o=-1,i=n.length;i--;)if(a=n[++o],f(a)){switch(c=s(a)){case"opacity":l=Cn(r);break;default:l=r[c]}u[a]=l}return r=null,u}:zt.ieStyle?function(e,n){var r,o,i,a,l,u,c,s,f,d=xn,h=En,p=t.string,m=Xe.stylize,g=Cn,v=Q;if(!Nt.is(e,1))throw new Error(An);for(r=e.currentStyle,c=!1,f=!1,s={},t.array(n)||(n=Nn.call(arguments,1)),o=-1,i=n.length;i--;)if(a=n[++o],p(a)){switch(u=m(a),!0){case"opacity"===u:l=g(r);break;case h.test(u):f||(f=_(e,r)),l=f[u]+"px";break;case d.test(u)&&"auto"!==r[u]:!1===c&&(c=v(e,r,"fontSize",null)),l=v(e,r,u,c)+"px";break;case"float"===u:l=r.styleFloat;break;default:l=r[u]}s[a]=l}return r=l=null,s}:B,zt.setattribute?(On=function(e,t,n){null===n?e.removeAttribute(t):e[t]=n},function(e,t){return e.getAttribute(t)}):zt.setproperty&&(On=function(e,t,n){null===n?e.removeProperty(t):e[t]=n},function(e,t){return e.getPropertyValue(t)}),zt.opacity?(Cn=function(e){var n=parseFloat(e.opacity);return t.number(n)?n:1},Mn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.opacity=r.min(1,r.max(0,n)).toFixed(2))}):zt.filterOpacity&&(Cn=function(e){var n,r=Math,o=Sn,i=e.filter;return t.string(i)&&o.test(i)?(n=i.match(o),n=parseFloat(n[1]),r.max(1,r.min(100,t.number(n)?n:100))/100):1},Mn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.filter=Tn.replace(In,r.min(100,r.max(0,r.round(100*n))).toString(10)))}),zt.alphaColor&&(zn.colorUnit="rgba"));var jn,kn=Xe[1101],Rn=Xe[1102],Vn="offsetTop",Dn="offsetLeft",Pn="offsetWidth",Fn="offsetHeight",Ln="marginTop",Wn="marginLeft",Un="scrollTop",Hn="scrollLeft",qn="getBoundingClientRect",$n=null,Bn=1,Qn=2,_n="documentElement",Xn=!1,Zn=null,Yn=null,Gn=null,Jn=null,Kn={offset:function(e,t,n){if(arguments.length>1)return J(e,t,n);switch(G(e)){case Qn:return Z(e).slice(0,2);case Bn:return Yn(e).slice(0,2)}throw new Error(kn)},size:function(e,t,n){return arguments.length>1?J(e,null,null,t,n):G(e)===Qn?Z(e).slice(2,4):Gn(e)},box:J,scroll:function(e,n,r){var o,i,a=arguments.length>1,l=t.number,u=Un,c=Hn;switch(a&&(l(n)||(n=!1),l(r)||(r=!1)),G(e)){case Qn:if(i=Nt.is(e)?e[$n]:e,o=Zn(i),!a)return o;Y(i,!1===n?o[0]:n,!1===r?o[1]:r);break;case Bn:if(!a)return[e[c],e[u]];e[c]=!1===n?e[c]:n,e[u]=!1===r?e[u]:r;break;default:throw new Error(Rn)}},screen:ee,visible:function(e,n,r){var i=null,a=zn,l=t.string,u=arguments.length,c=G(e)===Bn;return u>1?(i={},l(n)?i.visibility=n:"boolean"==typeof visiblity&&(i.visibility=n?"visible":"hidden"),!1===r&&(r="none"),l(r)&&(i.display=r),a.style(e,i),o()):!!c&&"none"!==(i=zn.computedStyle(e,"display","visibility")).display&&"hidden"!==i.visibility},translate:K};(jn=qe&&qe.dimension)&&(qe.browser.strict||(_n="body"),jn.zoomfactor,$n=qe.dom.defaultView,qe.browser.ieVersion,Zn=jn.pagescroll?function(e){return[e.pageXOffset||0,e.pageYOffset||0]}:function(e){var t=Math,n=e.document[_n],r=[t.round(n[Hn]/1),t.round(n[Un]/1)];return n=null,r},Jn=jn.screensize?function(e){return[e.innerWidth,e.innerHeight]}:function(e){var t=e.document[_n],n=[1*t.clientWidth,1*t.clientHeight];return t=null,n},Xn=jn.rectmethod&&qn,Yn=Xn?function(e,t){var n=ee(e),r=t||e[qn](),o=jn.zoomfactor?(pe.window.document[_n],1):1,i=n[0],a=n[1],l=[r.left*o+i,r.top*o+a,r.right*o-n[2],r.bottom*o-n[3]];return r=null,l}:function(e){var t=pe.document[_n],n=t.body,r=zn,o=Vn,i=Dn,a=Ln,l=Wn,u=Un,c=Hn,s=[l,a],f=e.offsetParent,d=r.computedStyle(e,[s]),h=ee(e),p=e[i],m=e[o];for(p+=parseFloat(d[l])||0,m+=parseFloat(d[a])||0;f;f=f.offsetParent)1===f.nodeType&&(d=r.computedStyle(f,s),p+=(f[i]||0)+(f.clientLeft||0)+(parseFloat(d[l])||0),m+=(f[o]||0)+(f.clientTop||0)+(parseFloat(d[a])||0));for(f=e.parentNode;f&&f!==n;f=f.parentNode)1===f.nodeType&&f!==t&&(p+=f[c]||0,m+=f[u]||0);return t=f=n=null,[p,m,p+e[Pn]-h[2],m+e[Fn]-h[3]]},Gn=Xn?function(e,t){var n=Math,r=t||e[qn](),o=[n.max(0,r.width||0),n.max(0,r.height||0)];return r=null,o}:function(e){var t=Math;return[t.max(0,e[Pn]||0),t.max(0,e[Fn]||0)]});var er=Xe[1102],tr=null,nr=null,rr=function(e,t){e.unselectable=t?"off":"on"},or=null,ir=null,ar=null,lr={select:function(e,t){var n=Kn;if(Nt.is(e,9)&&(e=e.body),!n.visible(e))throw new Error(Xe[1101]);if(arguments.length<2&&(t=null),null!==t&&!n.visible(t))throw new Error(er);return tr(e,t),o()},clear:function(e){if(!Nt.is(e,9)){if(arguments.length>0)throw new Error(Xe[1104]);e=pe.document}return nr(e),o()},unselectable:function(e,t){if(!Nt.is(e,1))throw new Error(er);return rr(e,!1===t),o()}};qe&&(ir=qe.dom,ar=(or=qe.selection).cssUnselectable,or.range?(tr=function(e,t){var n=e.ownerDocument,r=n.createRange(),o=n.createRange(),i=n[ir.defaultView].getSelection();r.selectNodeContents(e),t&&o.selectNodeContents(t),i.addRange(r),t&&i.addRange(o),n=i=r=o=null},nr=function(e){e[ir.defaultView].getSelection().removeAllRanges()}):or.textrange?(tr=function(e,t){var n,r=e.ownerDocument.body,o=r.createTextRange();o.moveToElementText(e),t&&((n=r.createTextRange()).moveToElementText(t),o.setEndPoint("EndToEnd",n)),o.select(),r=n=o=null},nr=function(e){e.selection.empty()}):tr=nr=function(){throw new Error(Xe[2005])},ar&&(rr="MozUserSelect"===ar?function(e,t){e.style.MozUserSelect=t?"text":"none"}:function(e,t){e.style.webkitUserSelect=t?"text":"none"}));var ur=te,cr=ne,sr=re,fr=oe,dr=Object.freeze({linear:ur,easeIn:cr,easeOut:sr,easeInOut:fr,linearTween:te,easeInQuad:ne,easeOutQuad:re,easeInOutQuad:oe,easeInCubic:function(e,t,n,r){return e/=r,n*e*e*e+t},easeOutCubic:function(e,t,n,r){return e/=r,e--,n*(e*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)},easeInQuart:function(e,t,n,r){return e/=r,n*e*e*e*e+t},easeOutQuart:function(e,t,n,r){return e/=r,e--,-n*(e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)},easeInQuint:function(e,t,n,r){return e/=r,n*e*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return e/=r,e--,n*(e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)},easeInSine:function(e,t,n,r){var o=Math;return-n*o.cos(e/r*(o.PI/2))+n+t},easeOutSine:function(e,t,n,r){var o=Math;return n*o.sin(e/r*(o.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=Math;return-n/2*(o.cos(o.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var o=Math;return(e/=r/2)<1?n/2*o.pow(2,10*(e-1))+t:(e--,n/2*(2-o.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,r){return e/=r,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,r){return e/=r,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,r){var o=Math;return(e/=r/2)<1?-n/2*(o.sqrt(1-e*e)-1)+t:(e-=2,n/2*(o.sqrt(1-e*e)+1)+t)}}),hr="__animate_session",pr={left:0,top:1,right:2,bottom:3,width:4,height:5},mr=zn.boxRe,gr=zn.dimensionRe,vr=zn.colorRe,wr={},br={easing:dr,defaultEasing:"easeOut",duration:.5,interval:10,each:ie,has:ce,style:function(e,n,r){var o,i,a,l,u,c,s,f=hr,d=[[],{},[],{}];t.each(n,de,d),l=d[0],c=d[1],s=d[3],l.length&&(i=e.getAttribute(f),u=fe(e,l),ce(r)||(r=br.defaultEasing),i?(o=wr[i][4]).update(c,u,r):(o=ie(se(a={node:e}),u,c,r),a.id=i=o.session,e.setAttribute(f,i))),d[2].length&&zn.style(e,s)}},yr={env:t.env,info:qe};qe&&(t.rehash(yr,Xe,{xmlEncode:"xmlEncode",xmlDecode:"xmlDecode"}),t.rehash(yr,Nt,{is:"is",isView:"isView",contains:"contains",select:"select",eachNodePreorder:"eachPreorder",eachNodePostorder:"eachPostorder",eachNodeLevelorder:"eachLevel",add:"add",move:"move",replace:"replace",remove:"remove"}),t.rehash(yr,zn,{addClass:"add",removeClass:"remove",computedStyle:"computedStyle",stylize:"style",stylify:"currentStyle"}),t.rehash(yr,ht,{on:"on",un:"un",purge:"purge",dispatch:"fire",destructor:"ondestroy"}),t.rehash(yr,Kn,{offset:"offset",size:"size",box:"box",scroll:"scroll",screen:"screen"}),t.rehash(yr,lr,{highlight:"select",unhighlightable:"unselectable",clearHighlight:"clear"}),t.rehash(yr,on,{parseColor:"parse",parseColorType:"parseType",formatColor:"stringify"}),t.rehash(yr,br,{transition:"each",animateStyle:"style"})),pe.libdom=yr,function(e){nt=e}(yr),e.default=yr,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libdom.min.js.map
