!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("libcore")):"function"==typeof define&&define.amd?define(["exports","libcore"],t):t(e.libdom={},e.libcore)}(this,function(e,t){"use strict";function n(){return qe}function r(e){var t,n=e.charCodeAt(0).toString(16);switch(n){case"26":t="amp";break;case"22":t="quot";break;case"27":t="apos";break;case"3C":case"3c":t="lt";break;case"3E":case"3e":t="gt";break;default:t="#x"+n}return"&"+t+";"}function o(){xt=null}function i(e){return e=t.camelize(e),yt.test(e)?e.charAt(0).toUpperCase()+e.substring(1,e.length):e}function a(e,n){var r,o,i=t.string,a=-1,l=n.length;for(r=(e=e.split(bt)).length;l--;)i(o=n[++a])&&-1===e.indexOf(o)&&(e[r++]=o);return e.join(" ")}function l(e,t){var n,r,o,i=-1,a=t.length;for(r=(e=e.split(bt)).length;a--;)for(o=t[++i],n=r;n--;)o===e[n]&&(e.splice(n,1),r--);return e.join(" ")}function u(e){var t=xt,n="";return t&&(t.innerHTML=e,n=t.value),t=null,n}function c(e){return e.replace(Et,r)}function s(e){var t=!1;return function(){var n,r;t||(t=!0,Ct(e[0],e[1],e[4]),n=e.head,r=e.tail,n&&(n.tail=r),r&&(r.head=n),e===zt&&(zt=r||n),e[0]=null,e.splice(0,4),delete e.unlisten,delete e.head,delete e.tail,e=n=r=null)}}function f(e,t,n,r){var o=zt,i=[],a=0,l=arguments.length,u=0,c=0,s=0,f=0;switch(!0){case l>3:f=1;case l>2:s=1;case l>1:c=1;case l>0:u=1}for(;o;o=o.head)u&&o[0]!==e||c&&o[1]!==t||s&&o[2]!==n||f&&o[3]!==r||(i[a++]=o);return i}function d(e,t){return function(n){return kt.run("dispatch",[n.type,n]),e.call(t,n)}}function h(e,t){return function(){var n=Ue.event;return v(n),kt.run("dispatch",[n.type,n]),e.call(t,n)}}function p(e,t,n){function r(){var r=Ue.event;if(v(r),r.customType===e)return kt.run("dispatch",[e,r]),r.type=e,t.call(n,r)}return r.customType=!0,r}function m(){this.returnValue=!1}function g(){this.cancelBubble=!0}function v(e){e.target=e.target||e.srcElement,"preventDefault"in e||(e.preventDefault=m),"stopPropagation"in e||(e.stopPropagation=g)}function w(e,t){var n,r,o,i=!1,a=Dt;return 9===e.nodeType&&(e=e.documentElement),1===e.nodeType&&((r=e.tagName+":"+t)in a?a[r]:(o=Lt+t,n=e.cloneNode(!1),(i=o in n)||(n.setAttribute(o,"return;"),i="function"==typeof n[o]),n=null,a[r]=!i,!i))}function b(){jt||(jt=!0,kt.run("global-destroy",[]),S())}function y(e,n,r,o){var i,a,l=zt;if(!t.string(n))throw new Error(Pt);if(!t.method(r))throw new Error(Rt);if(!(e=St(e)))throw new Error(Ft);return void 0===o&&(o=null),a=[e,n,r,o],kt.run("listen",a),e=a[0],n=a[1],r=a[2],o=a[3],a.splice(0,4),a=null,i=Tt(e,n,r,o),i.unlisten=s(i),i.head=l,i.tail=null,l&&(l.tail=i),zt=i,i.unlisten}function E(e,r,o,i){var a,l,u;if(!t.string(r))throw new Error(Pt);if(!t.method(o))throw new Error(Rt);if(!(e=St(e)))throw new Error(Ft);for(void 0===i&&(i=null),u=[e,r,o,i],kt.run("unlisten",u),e=u[0],r=u[1],o=u[2],i=u[3],u.splice(0,4),u=null,l=(a=f(e,r,o,i)).length;l--;)a[l].unlisten();return n()}function x(e,n,r){if(!t.string(n))throw new Error(Pt);if(!(e=St(e)))throw new Error(Ft);return It(e,n,r)}function S(){for(var e=f.apply(null,arguments),t=e.length;t--;)e[t].unlisten();return n()}function T(e){return t.method(e)&&kt.register("global-destroy",e),n()}function C(){throw new Error(At[2004])}function I(e,r){if(!t.string(e))throw new Error(At[1001]);if(!t.method(r))throw new Error(At[1011]);return tn.set(e,r),n()}function M(e){S(e)}function O(e){return t.object(e)&&(e="tagName"in e?e.tagName:"nodeName"in e?e.nodeName:"tag"in e&&e.tag),!!t.string(e)&&e}function N(e,n){var r,o=this,i=tn;switch(n){case"class":n="className";break;case"for":n="htmlFor"}en.test(n)?"on"===(r=n.substring("-"===n.charAt(2)?3:2,n.length))&&t.object(e)?t.each(e,A,o):A.call(o,e,r):i.exists(n)?i.get(n)(o,e):Jt.test(n)||-1!==Kt.indexOf(n)?o.setAttribute(n,e):o[n]=e,o=null}function A(e,n){var r=this;t.method(e)&&y(r,n,e),r=null}function z(e,n,r){var o,i,a,l,u,s,f,d,h=t.contains,p=t.object,m=z,g=O,v=N,w=!1,b=null;if(p(n)){b=null;e:for(o in n)if(h(n,o)){switch(i=n[o],o){case"tagName":case"nodeName":case"tag":continue e;case"text":case"childText":case"innerText":w=!0;case"childNodes":case"innerHTML":case"html":b=i;continue e;case"attributes":p(i)&&t.each(i,v,e);continue}v.call(e,i,o)}if(t.string(b))w&&(b=c(b)),e.innerHTML=b;else if(!w&&(p(b)&&(b=[b]),t.array(b))){for(f=e.ownerDocument,s=!0===r?e:f.createDocumentFragment(),l=-1,u=b.length;u--;)p(a=b[++l])&&(m(d=f.createElement(g(a)||"div"),a,!0),s.appendChild(d));s!==e&&e.appendChild(s),f=s=d=null}a=null}}function j(e,n,r){var o,i,a,l=t.number;if(D(n,1,3,4,7,8)&&n.parentNode===e)return n;if(l(n)&&n>-1)for(o=n,i=-1,a=!l(r),n=e.firstChild;n;n=n.nextSibling)if((a||r===n.nodeType)&&i++,i===o)return n;return null}function k(e,r,o,i,a){var l,u,c,s,f=0,d=0;if(!D(e,1))throw new Error(Bt);if(!t.method(r))throw new Error(Xt);switch(void 0===o&&(o=null),a=!1!==a,i){case qt:for(l=u={node:e,next:null};l;l=l.next)for(c=l.node,l.node=null;c&&(s=c.firstChild,!a&&0===f||!1!==r.call(o,s));c=c.nextSibling)s&&(f++,u.next={node:s,next:null},u=u.next);break;case Ut:d=1;case Wt:e:for(s=e;s&&(!a&&0===f||d||1!==s.nodeType||!1!==r.call(o,s));){if(c=s.firstChild)f++;else{if((a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break;for(c=s.nextSibling;!c&&f--&&s;){if(s=s.parentNode,(a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break e;c=s.nextSibling}}s=c}}return u=l=c=s=null,n()}function D(e){var n,r,o,i,a,l,u=t.number;if(e&&"object"==typeof e&&(n=e.nodeType,u(n))){for(i=arguments,l=!(o=Math.max(i.length-1,0)),r=0;o--;)if(a=i[++r],n===a)return!0;return l}return!1}function F(e){var t=typeof e;return!(!e||"object"!==t&&"function"!==t||e.self!==e.window||!e.document)}function P(e,t){var n=At[1102],r=D;if(!r(e,1,9,11))throw new Error(n);if(!r(t)||t.nodeType in Yt)throw new Error(n);switch(e.nodeType){case 9:e=e.documentElement;break;case 11:e=e.firstChild}return Gt(e,t)}function R(e,n,r){var o,i=null,a=Zt,l=D;if(!l(e,1,11))throw new Error(Bt);if(l(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!l(i,1,3,4,7,8,11))throw new Error(a);return e.insertBefore(i,j(e,r)),i}function L(e,t){var n;if(!D(e,1,3,4,7,8))throw new Error(Qt);return 1===e.nodeType&&!1!==t&&U(e,M),(n=e.parentNode)&&n.removeChild(e),n=null,e}function V(e,n){var r,o,i,a,l=D,u=Qt,c=!1;if(!l(n,1))throw new Error(Bt);if(l(e,1,3,4,7,8)&&(e=[e],c=!0),!t.array(e))throw new Error(u);for(i=n.ownerDocument.createDocumentFragment(),r=-1,o=e.length;o--;)l(a=e[++r],1,3,4,7,8)&&i.appendChild(a);return n.appendChild(i),a=null,c&&e.splice(0,e.length),i=null,n}function H(e,n,r){var o,i=null,a=Zt,l=D;if(!l(e,1,3,4,7,8)||!e.parentNode)throw new Error(Qt);if(l(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!l(i,1,3,4,7,8))throw new Error(a);return!0===r&&1===e.nodeType&&U(e,M),e.parentNode.replaceChild(i,e),i}function W(e,t,n,r){return k(e,t,n,Wt,!1!==r)}function U(e,t,n,r){return k(e,t,n,Ut,!1!==r)}function q(e,t,n,r){return k(e,t,n,qt,!1!==r)}function $(e,t,n){switch(n=(n+1)%1,!0){case n<1/6:return e+6*(t-e)*n;case n<.5:return t;case n<2/3:return e+(t-e)*(2/3-n)*6}return e}function B(e,t,n){var r=Math,o=un,i=t>2&&n!==o.PERCENT,a=t<3?cn:dn;return e=o.format(e,n),i&&(e*=100),r.max(0,r.min(a,e))}function Q(e){var t,n,r=Math,o=$,i=cn,a=sn,l=e&fn,u=e>>9&a,c=e>>16&a,s=e>>23&a;return c/=mn,0===u?[c,c,c]:(l/=hn,u/=pn,t=c<.5?c*(1+u):c+u-c*u,n=2*c-t,[r.round(o(n,t,l+1/3)*i),r.round(o(n,t,l)*i),r.round(o(n,t,l-1/3)*i),s.toFixed(2)])}function _(e,n,r,o){var i,a,l,u,c,s,f=Math,d=cn,h=sn;if(e/=d,n/=d,r/=d,i=f.max(e,n,r),a=f.min(e,n,r),c=(i+a)/2,i===a)l=u=0;else{switch(s=i-a,u=c>.5?s/(2-i-a):s/(i+a),i){case e:l=(n-r)/s+(n<r?6:0);break;case n:l=(r-e)/s+2;break;case r:l=(e-n)/s+4}l/=6}return t.number(o)||(o=dn),(o&h)<<23|(c*mn&h)<<16|(u*pn&h)<<9|l*hn&fn}function X(e){var t=Math;return((e=t.max(0,t.min(e,255)))<16?"0":"")+e.toString(16)}function Z(e,t,n){var r=un,o=Math,i=Sn,a=t<1?xn:i;switch(n){case r.HEX:e=parseInt(e,16)/bn*a;break;case r.NUMBER:e=1*e||0,t>2&&(e*=i);break;case r.PERCENT:e=1*e.substring(0,e.length-1)||0}return o.max(0,o.min(a,e||0))}function Y(e,n,r,o){var i=yn;return t.number(o)||(o=Sn),(o&i)<<23|(r&i)<<16|(n&i)<<9|e&En}function G(e){var t=yn;return[e&En,e>>9&t,e>>16&t,e>>23&t]}function J(e){return"string"==typeof e&&(e=e.replace(On,""),In.test(e))?e:null}function K(e){var n,r,o,i=Nn,a=e.match(In),l=a[1];return t.contains(i,l)||(l="hex"),n=a[3],(r=!n)?(n=a[2]).length<6&&(o=n.charAt(2),n=[n.charAt(0),n.substring(0,2),n.charAt(1),o,o].join("")):n=n.split(","),[l,r,n]}function ee(e){if(!t.string(e,!0))throw new Error(Cn);return(e=J(e))?K(e)||null:null}function te(e){var n,r,o,i,a,l,u,c,s,f,d=un,h=d.PERCENT,p=d.NUMBER,m=d.HEX,g=Mn;if(!t.string(e,!0))throw new Error(Cn);if(e=J(e),n=e&&K(e)){for(c=n[0],l=(u=Nn[c]).itemize,f=[],s=n[1],a=n[2],r=-1,s?(f[3]=100,o=3):o=a.length;o--;){if(i=a[++r],s)i=a.substring(2*r,2*r+2);else if(!g.test(i))return null;f[r]=l(i,r,s?m:"%"===i.charAt(i.length-1)?h:p)}return u.toInteger.apply(u,f)}return null}function ne(e,n){var r=Nn;if(!t.number(e)||e<0)throw new Error("Invalid [colorValue] parameter.");if(arguments.length<2)n="hex";else if(!t.string(n))throw new Error("Invalid [type] parameter.");return t.contains(r,n)?(e=Math.round(e),r[n].toString(e)):null}function re(e,n){var r=t.number(e),o=r||t.string(e),a=this[0],l=Jn;"opacity"===(n=i(n))?o?Gn(a,e):l(a,"filter",null):r&&Qn.test(n)?e+="px":r&&Hn.test(n)&&(e=ne(e,nr)),o||(e=null),l(a,n,e),a=null}function oe(e){for(var t,n,r,o=Kn,i=e.split(";"),a=-1,l=i.length,u={};l--;)n=(t=i[++a].split(":"))[0].replace(o,""),r=t.slice(1).join(":").replace(o,""),n&&r&&(u[n]=r);return u}function ie(){throw new Error(At[2001])}function ae(){throw new Error(At[2002])}function le(e,t,n,r){var o,i=t[n],a=parseFloat(i),l=i.split($n)[0];switch(l){case"in":return 96*a;case"pt":return 96*a/72;case"em":case"%":return r||(o=e.parentElement,r=Wn.test(l)&&o?le(o,o.currentStyle,"fontSize",null):16,o=null),"em"===l?a*r:a/100*("fontSize"===n?r:qn.test(n)?e[Ln]:e[Vn]);default:return a}}function ue(e,t){var n,r,o=e.offsetParent,i=o.currentStyle,a=wt.browser.ieVersion<9,l=parseFloat,u=zn,c=jn,s=An,f=kn,d=Ln,h=Vn,p=e[Dn],m=e[Fn],g=o[d]-e[Pn],v=o[h]-e[Rn],w=e[d],b=e[h];switch(t.position){case"relative":if(p-=l(i[c])||0,m-=l(i[u])||0,a){for(n=e.parentNode;n!==o;n=n.parentNode)"static"===(r=n.currentStyle).position&&(p-=(l(r.paddingLeft)||0)+(l(r.borderLeftWidth)||0),m-=(l(r.paddingTop)||0)+(l(r.borderTopWidth)||0));o===e.ownerDocument.body&&(p-=l(i.marginLeft)||0,m-=l(i.marginTop)||0)}case"absolute":case"fixed":p-=l(i.borderLeftWidth)||0,m-=l(i.borderTopWidth)||0}return g-=p,v-=m,w-=(l(t[c])||0)+(l(t[f])||0),b-=(l(t[u])||0)+(l(t[s])||0),o=i=null,{left:p,top:m,right:g,bottom:v,width:w,height:b}}function ce(){throw new Error(At[2006])}function se(e,r){var o=t.string;if(!D(e,1))throw new Error(tr);return o(r)&&(r=[r]),t.array(r)&&(e.className=a(e.className||"",r)),n()}function fe(e,r){var o=t.string;if(!D(e,1))throw new Error(tr);if(!D(e,1))throw new Error(tr);return o(r)&&(r=[r]),t.array(r)&&(e.className=l(e.className,r)),n()}function de(e,r,o){var i;if(!D(e,1))throw new Error(tr);if(t.string(r)&&(arguments.length>2?((i={})[r]=o,r=i):r=oe(r)),!t.object(r))throw new Error(At[1141]);return i=[e.style],t.each(r,re,i,!0),i=i[0]=null,n()}function he(e){if(!D(e,1))throw new Error(tr);return oe(e.style.cssText)}function pe(e){var t,n=isFinite;switch(typeof e){case"number":if(n(e))return e;break;case"string":if(t=e.length,Un.test(e)&&"px"!==e.substring(t-2,t))return e;if("auto"===e||"inherit"===e)return e;if(e=parseFloat(e),n(e))return e}return null===e&&e}function me(e){var t=Math,n=e,r=Te();return F(n)&&(n=n.document),9===n.nodeType&&(n=n[br],r[2]=t.max(n.scrollWidth,r[2]),r[3]=t.max(n.scrollHeight,r[3])),n=null,r}function ge(e,t,n){e.scrollTo(1*t,1*n)}function ve(e){var t,n;return D(e,1,9)?9===e.nodeType?wr:(t=e.ownerDocument.body,n=(e===t||P(t,e))&&vr,t=null,n):!!F(e)&&wr}function we(e,t,n){if(arguments.length>1)return ye(e,t,n);switch(ve(e)){case wr:return me(e).slice(0,2);case vr:return xr(e).slice(0,2)}throw new Error(ir)}function be(e,t,n){return arguments.length>1?ye(e,null,null,t,n):ve(e)===wr?me(e).slice(2,4):Sr(e)}function ye(e,t,r,o,i){var a,l,u;if(arguments.length>1)return(a=Ee(e,t,r,null,null,o,i))&&de(e,a),n();if((l=ve(e))===wr)return u=me(e),t=u[0],r=u[1],o=u[2],i=u[3],u=Te(e),[t,r,o-t-u[2],i-r-u[3],o,i];if(l!==vr)throw new Error(ir);return u=Sr(e),o=u[0],i=u[1],u=xr(e),u[4]=o,u[5]=i,u}function Ee(n,r,o,i,a,l,u,c){var s,f,d,h,p=pe,m=parseFloat,g=!1,v=g,w=g,b=g;if(ve(n)!==vr)throw new Error(ir);switch(t.array(r)&&(c=o,r.length>4?(u=5 in r?r[5]:null,l=4 in r?r[4]:null,a=3 in r?r[3]:null,i=2 in r?r[2]:null):(u=3 in r?r[3]:null,l=2 in r?r[2]:null,a=null,i=null),o=1 in o?r[1]:null,r=r[0]),t.object(c)||(c={}),(h=e.computedStyle(n,"position","top","left","right","bottom","width","height")).position){case"relative":case"absolute":case"fixed":r=p(r),o=p(o),i=p(i),a=p(a),v=!1!==o,w=!(g=!1!==r)&&!1!==i,b=!b&&!1!==a,(g||w||v||b)&&(d=xr(n),g?c.left="number"==typeof r?(m(h.left)||0)+(r-d[0])+"px":r:w&&(c.right="number"==typeof i?(m(h.right)||0)+(i-d[2])+"px":i),v?c.top="number"==typeof o?(m(h.top)||0)+(o-d[1])+"px":o:b&&(c.bottom="number"==typeof i?(m(h.bottom)||0)+(a-d[3])+"px":a))}return l=p(l),(s=!1!==l)&&(c.width="number"==typeof l?m(h.width||0)+(l-n[cr])+"px":l),u=p(u),(f=!1!==u)&&(c.height="number"==typeof u?m(h.height||0)+(u-n[sr])+"px":u),g||w||v||b||s||f?c:null}function xe(e,n,r){var o,i,a=arguments.length>1,l=t.number,u=hr,c=pr;switch(a&&(l(n)||(n=!1),l(r)||(r=!1)),ve(e)){case wr:if(i=D(e)?e[gr]:e,o=Er(i),!a)return o;ge(i,!1===n?o[0]:n,!1===r?o[1]:r);break;case vr:if(!a)return[e[c],e[u]];e[c]=!1===n?e[c]:n,e[u]=!1===r?e[u]:r;break;default:throw new Error(ar)}}function Se(r,o,i){var a=null,l=t.string,u=arguments.length,c=ve(r)===vr;return u>1?(a={},l(o)?a.visibility=o:"boolean"==typeof visiblity&&(a.visibility=o?"visible":"hidden"),!1===i&&(i="none"),l(i)&&(a.display=i),de(r,a),n()):!!c&&("none"!==(a=e.computedStyle(r,"display","visibility")).display&&"hidden"!==a.visibility)}function Te(e){var t,n,r=e;return D(r,1,9)&&(r=(1===r.nodeType?r.ownerDocument:r)[nn]),F(r)||(r=Ue.window),t=Er(r),n=Tr(r),t[2]=n[0],t[3]=n[1],r=null,t}function Ce(e,t){if(D(e,9)&&(e=e.body),!Se(e))throw new Error(At[1101]);if(arguments.length<2&&(t=null),null!==t&&!Se(t))throw new Error(Cr);return Ir(e,t),n()}function Ie(e){if(!D(e,9)){if(arguments.length>0)throw new Error(At[1104]);e=Ue.document}return Mr(e),n()}function Me(e,t){if(!D(e,1))throw new Error(Cr);return Or(e,!1===t),n()}function Oe(e,t,n,r){return n*e/r+t}function Ne(e,t,n,r){return e/=r,n*e*e+t}function Ae(e,t,n,r){return e/=r,-n*e*(e-2)+t}function ze(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function je(e){return t.string(e)&&(e=parseFloat(e)),t.number(e)&&e}function ke(e,n,r){return t.each(r,De,[n,e],!0),e}function De(e,n,r){var o,i,a,l,u=this,c=je,s=u[0],f=u[1],d=f[0],h=f[1];if(!1!==(a=c(r[n]))){if(o=d.indexOf(n),i=t.contains(s,n)&&c(s[n]),l=!1===i,-1===o){if(l)return!0;d[o=d.length]=n}else l&&(i=h[o]);h[o]=i,f[2][o]=a}return!0}function Fe(e){return function(t,n,r){var o=e,i=o.node;Ee(i,"left"in t&&t.left,"top"in t&&t.top,"right"in t&&t.right,"bottom"in t&&t.bottom,"width"in t&&t.width,"height"in t&&t.height,t),de(i,t),n===r&&(i.removeAttribute(kr),o.node=null,delete o.node),o=i=null}}function Pe(t,n){for(var r,o,i=e.computedStyle(t,n),a=ye,l=-1,u=n.length,c=pe,s=Qn,f=Hn,d=te,h=Dr,p=null;u--;)o=i[r=n[++l]],Bn.test(r)?(p||(p=a(t)),o=p[h[r]]):s.test(r)?o=c(o):f.test(r)&&(o=d(o)),i[r]=parseFloat(o)||0;return i}function Re(e,n){var r=this,o=r[0],i=r[1],a=r[2],l=r[3],u=e;"opacity"===n?e=parseFloat(u):Bn.test(n)||Qn.test(n)?e=pe(u):Hn.test(n)&&null===(e=te(u))&&(e=!1),t.number(e)?(o[o.length]=n,i[n]=e):!1!==e&&(a[a.length]=n,l[n]=e)}function Le(e,n,r,o,i){function a(){var e=a;g&&(p(g),delete d[g],delete e.session,delete e.update,delete e.running,g=null),e=null}var l,u,c=Math,s=jr,f=t.object,d=Lr,h=Rr,p=clearInterval,m=setInterval,g=null,v=arguments.length,w=0;if(!t.method(e))throw new Error(At[1151]);if(!f(n)||!f(r))throw new Error(At[1152]);if(v<4)o=Fr;else if(!Ve(o))throw new Error(t.string[1153]);if(v<5)i=Pr;else if(!t.number(i)||i<=0)throw new Error(At[1154]);return o=s[o],i*=1e3,l=c.max(10,c.round(i/h)),u=[[],[],[],n,a],g=m(function(){for(var t,n=u,r=n[0],i=n[1],c=n[2],s=l,f=++w,d=r.length,h={},p=o(f,0,1,s),m=f===s;d--;)t=i[d],h[r[d]]=(c[d]-t)*p+t;n[3]=h,e(h,f,s),m&&a()},h),a.session=g,a.update=function(e,t,n){var r=u,o=f;if(g){if(!o(e))throw new Error(At[1152]);o(t)||(t=r[3]),ke(r,t,e,n),w=0}},a.running=!0,d[g]=u,u=ke(u,n,r),a}function Ve(e){return t.string(e)&&t.contains(jr,e)}function He(e,n,r,o){var i,a,l,u,c,s,f,d=kr,h=[[],{},[],{}];t.each(n,Re,h),u=h[0],s=h[1],f=h[3],u.length&&(a=e.getAttribute(d),c=Pe(e,u),t.number(o)||(o=Pr),Ve(r)||(r=Fr),a?(i=Lr[a][4]).update(s,c,r):(i=Le(Fe(l={node:e}),c,s,r,o),l.id=a=i.session,e.setAttribute(d,a))),h[2].length&&de(e,f)}var We,Ue="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},qe=null,$e=Ue,Be=!1;t.env.browser&&(We=t.env.userAgent.match(/msie ([0-9]+\.[0-9]+)/i),Be={strict:"CSS1Compat"===$e.document.compatMode,ieVersion:We&&parseInt(We[1],10)||0,ie8:!1}),$e=null;var Qe=Be,_e=Ue,Xe=!1;Qe&&(Xe={w3c:!!_e.addEventListener,ie:!!_e.attachEvent,customEvent:!!_e.CustomEvent}),_e=null;var Ze,Ye,Ge=Xe,Je=Ue,Ke=!1;Qe&&(Ke={compare:!!(Ye=(Ze=Je.document).documentElement).compareDocumentPosition,contains:!!Ye.contains,defaultView:Ze.defaultView?"defaultView":Ze.parentWindow?"parentWindow":null,querySelectorAll:!!Ze.querySelectorAll,listToArray:Ye.childNodes instanceof Object}),Ze=Ye=null;var et,tt,nt,rt,ot=Ke,it=Ue,at=!1;Qe&&(tt=(et=it.document).createElement("div").style,at={w3cStyle:!!it.getComputedStyle,ieStyle:!!et.documentElement.currentStyle,setattribute:!!tt.setAttribute,setproperty:!!tt.setProperty,opacity:void 0!==tt.opacity,filterOpacity:void 0!==tt.filter,alphaColor:function(e){var n="rgba(0,0,0,0.5)";try{if(e.color=n,rt=e.color,t.string(rt)&&(rt=rt.replace(/[ \r\n\t\s]+/g,"").toLowerCase()),n===rt)return!0}catch(e){}return!1}(tt),transition:function(e){var t=["OTransition","webkitTransition","MozTransition","transition"],n=t.length;for(n=t.length;n--;)if(nt=t[n],void 0!==e[nt])return nt;return!1}(tt)}),it=et=tt=null;var lt,ut=at,ct=Ue,st=!1;Qe&&(lt=Qe.ieVersion,st={screensize:void 0!==ct.innerWidth,pagescroll:void 0!==ct.pageXOffset,rectmethod:!!ct.document.documentElement.getBoundingClientRect,zoomfactor:lt>0&&lt<8,ie8:8===lt}),ct=null;var ft,dt,ht,pt=st,mt=!1;Qe&&(dt=(ft=Ue.document).documentElement.style,ht="undefined",mt={range:!!ft.createRange,textrange:!!ft.createElement("input").createTextRange,cssUnselectable:typeof dt.MozUserSelect!==ht?"MozUserSelect":typeof dt.webkitUserSelect!==ht&&"webkitUserSelect"}),ft=dt=null;var gt=mt,vt=!1;Qe&&(vt={browser:Qe,event:Ge,dom:ot,css:ut,dimension:pt,selection:gt});var wt=vt,bt=/[ \r\n\t]*[ \r\n\t]+[ \r\n\t]*/,yt=/^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,Et=/[^\u0021-\u007e]|[\u003e\u003c\&\"\']/g,xt=null;wt&&(xt=Ue.document.createElement("textarea"),t.register("libdom.event.global-destroy",o));var St,Tt,Ct,It,Mt,Ot,Nt,At={1001:"Invalid [name] parameter.",1011:"Invalid [handler] parameter.",1101:"Invalid DOM [element] parameter.",1102:"Invalid [dom] Object parameter.",1103:"Invalid DOM [node] parameter.",1104:"Invalid DOM [document] parameter.",1111:"Invalid CSS [selector] parameter.",1112:"Invalid tree traverse [callback] parameter.",1121:"Invalid DOM Element [config] parameter.",1131:"Invalid [observable] parameter.",1132:"Invalid Event [type] parameter.",1133:"Invalid Event [handler] parameter.",1141:"Invalid [style] Rule parameter.",1151:"Invalid Animation [callback] parameter.",1152:"Invalid Animation [displacements] parameter.",1153:"Invalid Animation [type] parameter.",1154:"Invalid Animation [duration] parameter.",2001:"Style Attribute manipulation is not supported",2002:"Computed style is not supported by this browser.",2003:"CSS Selector query form DOM is not supported.",2004:"DOM position comparison is not supported.",2005:"DOM selection not supported.",2006:"CSS Opacity is not supported by this browser"},zt=null,jt=!1,kt=t.middleware("libdom.event"),Dt={},Ft=At[1131],Pt=At[1132],Rt=At[1133],Lt="on",Vt="beforeupdate",Ht="propertychange";if(St=Tt=Ct=It=null,Mt=wt&&wt.event){switch(Ot=!0,!0){case Mt.w3c:Tt=function(e,t,n,r){var o=d(n,r);return e.addEventListener(t,o,!1),[e,t,n,r,o]},Ct=function(e,t,n){e.removeEventListener(t,n,!1)},It=function(e,n,r){var o,i=t.contains,a=Ue.document.createEvent("Event");a.initEvent(n,"bubbles"in r&&!0===r.bubbles,"cancelable"in r&&!1!==r.cancelable);for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return e.dispatchEvent(a),a},St=function(e){var n=t.method;return!!(e&&"object"==typeof e&&n(e.addEventListener)&&n(e.removeEventListener)&&n(e.dispatchEvent))&&e};break;case Mt.ie:Tt=function(e,t,n,r){var o,i=Lt;return w(e,t)?(o=p(t,n,r),e.attachEvent(i+Vt,o),e.attachEvent(i+Ht,o)):(o=h(n,r),e.attachEvent(i+t,o)),[e,t,n,r,o]},Ct=function(e,t,n){var r=Lt;n.customType?(e.detachEvent(r+Vt,n),e.detachEvent(r+Ht,n)):e.detachEvent(r+t,n)},It=function(e,n,r){var o,i=t.contains,a=Ue.document.createEventObject();for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return w(e,n)&&(a.customType=n,n=!0===r.bubbles?Vt:Ht),o=Lt+n,e.fireEvent(o,a),!1===r.cancelable&&(a.returnValue=!0),a},St=function(e){return!!(e&&(e=e.window?e.self:e).attachEvent&&e.detachEvent)&&e};break;default:Ot=!1}Ot&&(y(Nt=Ue,"beforeunload",b),y(Nt,"unload",b),Nt=null)}var Wt=1,Ut=2,qt=3;e.select=function(){throw new Error(At[2003])};var $t,Bt=At[1101],Qt=At[1103],_t=At[1111],Xt=At[1112],Zt=At[1121],Yt={9:1,11:1},Gt=C,Jt=/(^\_|[^a-zA-Z\_])/,Kt=["nodeType","nodeValue","ownerDocument","tagName","attributes","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","sourceIndex","type"],en=/^on(\-?[a-zA-Z].+)?$/,tn=t.createRegistry();($t=wt&&wt.dom)&&(Gt=$t.compare?function(e,t){return(16&e.compareDocumentPosition(t))>0}:$t.contains?function(e,t){return e.contains(t)}:C,$t.querySelectorAll&&(e.select=$t.listToArray?function(e,n){if(!D(e,9,1))throw new Error(Qt);if(!t.string(n))throw new Error(_t);return Array.prototype.slice.call(e.querySelectorAll(n))}:function(e,n){var r,o,i,a;if(!D(e,9,1))throw new Error(Qt);if(!t.string(n))throw new Error(_t);for(r=e.querySelectorAll(n),o=-1,(a=[]).length=i=r.length;i--;)a[++o]=r[o];return r=null,a}));var nn="defaultView",rn=1,on=2,an=3,ln=/\%$/,un={NUMBER:rn,HEX:on,PERCENT:an,format:function(e,t){switch(t){case on:return parseInt(e,16)||0;case rn:return(e*=1)||0;case an:return e=ln.test(e)?1*e.substring(0,e.length-1):1*e,Math.round(100*(e||1))}return 0}},cn=255,sn=127,fn=511,dn=100,hn=360,pn=dn,mn=dn,gn=Object.freeze({itemize:B,toArray:Q,toInteger:_,toString:function(e){var t=Q(e),n=t[3]/dn;return t[3]=parseFloat(n.toFixed(2)),"rgba("+t.join(",")+")"}}),vn=Object.freeze({toHex:X,toString:function(e){var t=X,n=Q(e).slice(0,3);return n[0]=t(n[0]),n[1]=t(n[1]),n[2]=t(n[2]),"#"+n.join("")},itemize:B,toArray:Q,toInteger:_}),wn=Object.freeze({toString:function(e){return"rgb("+Q(e).slice(0,3).join(",")+")"},toInteger:function(e,t,n){return _(e,t,n,100)},itemize:B,toArray:Q}),bn=255,yn=127,En=511,xn=360,Sn=100,Tn=Object.freeze({itemize:Z,toInteger:Y,toArray:G,toString:function(e){var t=G(e);return t[1]+="%",t[2]+="%",t[3]=t[3]/Sn,"hsla("+t.join(",")+")"}}),Cn="Invalid [subject] parameter.",In=/^(\#?|rgba?|hsla?)(\(([^\,]+(\,[^\,]+){2,3})\)|[a-f0-9]{3}|[a-f0-9]{6})$/,Mn=/^[0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*$/,On=/[ \r\n\t\s]+/g,Nn={rgb:wn,rgba:gn,hsl:Object.freeze({toString:function(e){var t=G(e).slice(0,3);return t[1]+="%",t[2]+="%","hsl("+t.join(",")+")"},itemize:Z,toArray:G,toInteger:Y}),hsla:Tn,hex:vn},An="paddingBottom",zn="paddingTop",jn="paddingLeft",kn="paddingRight",Dn="offsetLeft",Fn="offsetTop",Pn="offsetWidth",Rn="offsetHeight",Ln="clientWidth",Vn="clientHeight",Hn=/[Cc]olor$/,Wn=/%|em/,Un=/^([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)(em|px|\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,qn=/width/i,$n=/\d/,Bn=/(top|bottom|left|right|width|height)$/,Qn=/([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,_n=/\(opacity\=([0-9]+)\)/i,Xn="alpha(opacity=$opacity)",Zn=/\$opacity/,Yn=ce,Gn=ce,Jn=ie,Kn=/^\s+|\s+$/g;e.computedStyle=ae;var er,tr=At[1101],nr="hex",rr=Array.prototype.slice;I("className",se),I("style",function(){return arguments.length>1?de.apply(this,arguments):he.apply(this,arguments)}),(er=wt&&wt.css)&&(e.computedStyle=er.w3cStyle?function(e,n){var r,o,a,l,u,c,s,f=i,d=t.string;if(!D(e,1))throw new Error(tr);for(r=Ue.getComputedStyle(e),c={},t.array(n)||(n=rr.call(arguments,1)),o=-1,a=n.length;a--;)if(l=n[++o],d(l)){switch(s=f(l)){case"opacity":u=Yn(r);break;default:u=r[s]}c[l]=u}return r=null,c}:er.ieStyle?function(e,n){var r,o,a,l,u,c,s,f,d,h=Qn,p=Bn,m=t.string,g=i,v=Yn,w=le;if(!D(e,1))throw new Error(tr);for(r=e.currentStyle,s=!1,d=!1,f={},t.array(n)||(n=rr.call(arguments,1)),o=-1,a=n.length;a--;)if(l=n[++o],m(l)){switch(c=g(l),!0){case"opacity"===c:u=v(r);break;case p.test(c):d||(d=ue(e,r)),u=d[c]+"px";break;case h.test(c)&&"auto"!==r[c]:!1===s&&(s=w(e,r,"fontSize",null)),u=w(e,r,c,s)+"px";break;case"float"===c:u=r.styleFloat;break;default:u=r[c]}f[l]=u}return r=u=null,f}:ae,er.setattribute?(Jn=function(e,t,n){null===n?e.removeAttribute(t):e[t]=n},function(e,t){return e.getAttribute(t)}):er.setproperty&&(Jn=function(e,t,n){null===n?e.removeProperty(t):e[t]=n},function(e,t){return e.getPropertyValue(t)}),er.opacity?(Yn=function(e){var n=parseFloat(e.opacity);return t.number(n)?n:1},Gn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.opacity=r.min(1,r.max(0,n)).toFixed(2))}):er.filterOpacity&&(Yn=function(e){var n,r=Math,o=_n,i=e.filter;return t.string(i)&&o.test(i)?(n=i.match(o),n=parseFloat(n[1]),r.max(1,r.min(100,t.number(n)?n:100))/100):1},Gn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.filter=Xn.replace(Zn,r.min(100,r.max(0,r.round(100*n))).toString(10)))}),er.alphaColor&&(nr="rgba"));var or,ir=At[1101],ar=At[1102],lr="offsetTop",ur="offsetLeft",cr="offsetWidth",sr="offsetHeight",fr="marginTop",dr="marginLeft",hr="scrollTop",pr="scrollLeft",mr="getBoundingClientRect",gr=null,vr=1,wr=2,br="documentElement",yr=!1,Er=null,xr=null,Sr=null,Tr=null;(or=wt&&wt.dimension)&&(wt.browser.strict||(br="body"),or.zoomfactor,gr=wt.dom.defaultView,wt.browser.ieVersion,Er=or.pagescroll?function(e){return[e.pageXOffset||0,e.pageYOffset||0]}:function(e){var t=Math,n=e.document[br],r=[t.round(n[pr]/1),t.round(n[hr]/1)];return n=null,r},Tr=or.screensize?function(e){return[e.innerWidth,e.innerHeight]}:function(e){var t=e.document[br],n=[1*t.clientWidth,1*t.clientHeight];return t=null,n},yr=or.rectmethod&&mr,xr=yr?function(e,t){var n=Te(e),r=t||e[mr](),o=or.zoomfactor?(Ue.window.document[br],1):1,i=n[0],a=n[1],l=[r.left*o+i,r.top*o+a,r.right*o-n[2],r.bottom*o-n[3]];return r=null,l}:function(t){var n=Ue.document[br],r=n.body,o=lr,i=ur,a=fr,l=dr,u=hr,c=pr,s=[l,a],f=t.offsetParent,d=e.computedStyle,h=d(t,[s]),p=Te(t),m=t[i],g=t[o];for(m+=parseFloat(h[l])||0,g+=parseFloat(h[a])||0;f;f=f.offsetParent)1===f.nodeType&&(h=d(f,s),m+=(f[i]||0)+(f.clientLeft||0)+(parseFloat(h[l])||0),g+=(f[o]||0)+(f.clientTop||0)+(parseFloat(h[a])||0));for(f=t.parentNode;f&&f!==r;f=f.parentNode)1===f.nodeType&&f!==n&&(m+=f[c]||0,g+=f[u]||0);return n=f=r=null,[m,g,m+t[cr]-p[2],g+t[sr]-p[3]]},Sr=yr?function(e,t){var n=Math,r=t||e[mr](),o=[n.max(0,r.width||0),n.max(0,r.height||0)];return r=null,o}:function(e){var t=Math;return[t.max(0,e[cr]||0),t.max(0,e[sr]||0)]});var Cr=At[1102],Ir=null,Mr=null,Or=function(e,t){e.unselectable=t?"off":"on"},Nr=null,Ar=null,zr=null;wt&&(Ar=wt.dom,zr=(Nr=wt.selection).cssUnselectable,Nr.range?(Ir=function(e,t){var n=e.ownerDocument,r=n.createRange(),o=n.createRange(),i=n[Ar.defaultView].getSelection();r.selectNodeContents(e),t&&o.selectNodeContents(t),i.addRange(r),t&&i.addRange(o),n=i=r=o=null},Mr=function(e){e[Ar.defaultView].getSelection().removeAllRanges()}):Nr.textrange?(Ir=function(e,t){var n,r=e.ownerDocument.body,o=r.createTextRange();o.moveToElementText(e),t&&((n=r.createTextRange()).moveToElementText(t),o.setEndPoint("EndToEnd",n)),o.select(),r=n=o=null},Mr=function(e){e.selection.empty()}):Ir=Mr=function(){throw new Error(At[2005])},zr&&(Or="MozUserSelect"===zr?function(e,t){e.style.MozUserSelect=t?"text":"none"}:function(e,t){e.style.webkitUserSelect=t?"text":"none"}));var jr=Object.freeze({linear:Oe,easeIn:Ne,easeOut:Ae,easeInOut:ze,linearTween:Oe,easeInQuad:Ne,easeOutQuad:Ae,easeInOutQuad:ze,easeInCubic:function(e,t,n,r){return e/=r,n*e*e*e+t},easeOutCubic:function(e,t,n,r){return e/=r,e--,n*(e*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)},easeInQuart:function(e,t,n,r){return e/=r,n*e*e*e*e+t},easeOutQuart:function(e,t,n,r){return e/=r,e--,-n*(e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)},easeInQuint:function(e,t,n,r){return e/=r,n*e*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return e/=r,e--,n*(e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)},easeInSine:function(e,t,n,r){var o=Math;return-n*o.cos(e/r*(o.PI/2))+n+t},easeOutSine:function(e,t,n,r){var o=Math;return n*o.sin(e/r*(o.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=Math;return-n/2*(o.cos(o.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var o=Math;return(e/=r/2)<1?n/2*o.pow(2,10*(e-1))+t:(e--,n/2*(2-o.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,r){return e/=r,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,r){return e/=r,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,r){var o=Math;return(e/=r/2)<1?-n/2*(o.sqrt(1-e*e)-1)+t:(e-=2,n/2*(o.sqrt(1-e*e)+1)+t)}}),kr="__animate_session",Dr={left:0,top:1,right:2,bottom:3,width:4,height:5},Fr="easeOut",Pr=.5,Rr=10,Lr={},Vr=Object.freeze({env:t.env,info:wt,xmlEncode:c,xmlDecode:u,is:D,isView:F,contains:P,get select(){return e.select},add:R,move:V,replace:H,remove:L,eachNodePreorder:W,eachNodePostorder:U,eachNodeLevelorder:q,addClass:se,removeClass:fe,get computedStyle(){return e.computedStyle},stylize:de,stylify:he,on:y,un:E,purge:S,dispatch:x,destructor:T,offset:we,size:be,box:ye,scroll:xe,screen:Te,highlight:Ce,unhighlightable:Me,clearHighlight:Ie,parseColor:te,parseColorType:ee,formatColor:ne,transition:Le,animateStyle:He});Ue.libdom=Vr,function(e){qe=e}(Vr),e.default=Vr,e.env=t.env,e.info=wt,e.xmlEncode=c,e.xmlDecode=u,e.is=D,e.isView=F,e.contains=P,e.add=R,e.move=V,e.replace=H,e.remove=L,e.eachNodePreorder=W,e.eachNodePostorder=U,e.eachNodeLevelorder=q,e.addClass=se,e.removeClass=fe,e.stylize=de,e.stylify=he,e.on=y,e.un=E,e.purge=S,e.dispatch=x,e.destructor=T,e.offset=we,e.size=be,e.box=ye,e.scroll=xe,e.screen=Te,e.highlight=Ce,e.unhighlightable=Me,e.clearHighlight=Ie,e.parseColor=te,e.parseColorType=ee,e.formatColor=ne,e.transition=Le,e.animateStyle=He,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libdom.min.js.map
