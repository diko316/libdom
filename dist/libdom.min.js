!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("libcore")):"function"==typeof define&&define.amd?define(["exports","libcore"],t):t(e.libdom={},e.libcore)}(this,function(e,t){"use strict";function n(){return _e}function r(e){var t,n=e.charCodeAt(0).toString(16);switch(n){case"26":t="amp";break;case"22":t="quot";break;case"27":t="apos";break;case"3C":case"3c":t="lt";break;case"3E":case"3e":t="gt";break;default:t="#x"+n}return"&"+t+";"}function o(){Ct=null}function i(e){return e=t.camelize(e),Tt.test(e)?e.charAt(0).toUpperCase()+e.substring(1,e.length):e}function a(e,n){var r,o,i=t.string,a=-1,u=n.length;for(r=(e=e.split(St)).length;u--;)i(o=n[++a])&&-1===e.indexOf(o)&&(e[r++]=o);return e.join(" ")}function u(e,t){var n,r,o,i=-1,a=t.length;for(r=(e=e.split(St)).length;a--;)for(o=t[++i],n=r;n--;)o===e[n]&&(e.splice(n,1),r--);return e.join(" ")}function l(e){var t=Ct,n="";return t&&(t.innerHTML=e,n=t.value),t=null,n}function c(e){return e.replace(It,r)}function s(e){var t=!1;return function(){var n,r;t||(t=!0,Nt(e[0],e[1],e[4]),n=e.head,r=e.tail,n&&(n.tail=r),r&&(r.head=n),e===Ft&&(Ft=r||n),e[0]=null,e.splice(0,4),delete e.unlisten,delete e.head,delete e.tail,e=n=r=null)}}function f(e,t,n,r){var o=Ft,i=[],a=0,u=arguments.length,l=0,c=0,s=0,f=0;switch(!0){case u>3:f=1;case u>2:s=1;case u>1:c=1;case u>0:l=1}for(;o;o=o.head)l&&o[0]!==e||c&&o[1]!==t||s&&o[2]!==n||f&&o[3]!==r||(i[a++]=o);return i}function d(e,t){return function(n){return Rt.run("dispatch",[n.type,n]),e.call(t,n)}}function h(e,t){return function(){var n=Qe.event;return g(n),Rt.run("dispatch",[n.type,n]),e.call(t,n)}}function p(e,t,n){function r(){var r=Qe.event;if(g(r),r.customType===e)return Rt.run("dispatch",[e,r]),r.type=e,t.call(n,r)}return r.customType=!0,r}function m(){this.returnValue=!1}function w(){this.cancelBubble=!0}function g(e){e.target=e.target||e.srcElement,"preventDefault"in e||(e.preventDefault=m),"stopPropagation"in e||(e.stopPropagation=w)}function v(e,t){var n,r,o,i=!1,a=Lt;return 9===e.nodeType&&(e=e.documentElement),1===e.nodeType&&((r=e.tagName+":"+t)in a?a[r]:(o=Ut+t,n=e.cloneNode(!1),(i=o in n)||(n.setAttribute(o,"return;"),i="function"==typeof n[o]),n=null,a[r]=!i,!i))}function b(){Pt||(Pt=!0,Rt.run("global-destroy",[]),S())}function y(e,n,r,o){var i,a,u=Ft;if(!t.string(n))throw new Error(Ht);if(!t.method(r))throw new Error(Wt);if(!(e=Mt(e)))throw new Error(Vt);return void 0===o&&(o=null),a=[e,n,r,o],Rt.run("listen",a),e=a[0],n=a[1],r=a[2],o=a[3],a.splice(0,4),a=null,i=Ot(e,n,r,o),i.unlisten=s(i),i.head=u,i.tail=null,u&&(u.tail=i),Ft=i,i.unlisten}function E(e,r,o,i){var a,u,l;if(!t.string(r))throw new Error(Ht);if(!t.method(o))throw new Error(Wt);if(!(e=Mt(e)))throw new Error(Vt);for(void 0===i&&(i=null),l=[e,r,o,i],Rt.run("unlisten",l),e=l[0],r=l[1],o=l[2],i=l[3],l.splice(0,4),l=null,u=(a=f(e,r,o,i)).length;u--;)a[u].unlisten();return n()}function x(e,n,r){if(!t.string(n))throw new Error(Ht);if(!(e=Mt(e)))throw new Error(Vt);return At(e,n,r)}function S(){for(var e=f.apply(null,arguments),t=e.length;t--;)e[t].unlisten();return n()}function T(e){return t.method(e)&&Rt.register("global-destroy",e),n()}function I(){throw new Error(kt[2004])}function C(e,r){if(!t.string(e))throw new Error(kt[1001]);if(!t.method(r))throw new Error(kt[1011]);return an.set(e,r),n()}function M(e){S(e)}function O(e){return t.object(e)&&(e="tagName"in e?e.tagName:"nodeName"in e?e.nodeName:"tag"in e&&e.tag),!!t.string(e)&&e}function N(e,n){var r,o=this,i=an;switch(n){case"class":n="className";break;case"for":n="htmlFor"}on.test(n)?"on"===(r=n.substring("-"===n.charAt(2)?3:2,n.length))&&t.object(e)?t.each(e,A,o):A.call(o,e,r):i.exists(n)?i.get(n)(o,e):nn.test(n)||-1!==rn.indexOf(n)?o.setAttribute(n,e):o[n]=e,o=null}function A(e,n){var r=this;t.method(e)&&y(r,n,e),r=null}function z(e,n,r){var o,i,a,u,l,s,f,d,h=t.contains,p=t.object,m=z,w=O,g=N,v=!1,b=null;if(p(n)){b=null;e:for(o in n)if(h(n,o)){switch(i=n[o],o){case"tagName":case"nodeName":case"tag":continue e;case"text":case"childText":case"innerText":v=!0;case"childNodes":case"innerHTML":case"html":b=i;continue e;case"attributes":p(i)&&t.each(i,g,e);continue}g.call(e,i,o)}if(t.string(b))v&&(b=c(b)),e.innerHTML=b;else if(!v&&(p(b)&&(b=[b]),t.array(b))){for(f=e.ownerDocument,s=!0===r?e:f.createDocumentFragment(),u=-1,l=b.length;l--;)p(a=b[++u])&&(m(d=f.createElement(w(a)||"div"),a,!0),s.appendChild(d));s!==e&&e.appendChild(s),f=s=d=null}a=null}}function j(e,n,r){var o,i,a,u=t.number;if(F(n,1,3,4,7,8)&&n.parentNode===e)return n;if(u(n)&&n>-1)for(o=n,i=-1,a=!u(r),n=e.firstChild;n;n=n.nextSibling)if((a||r===n.nodeType)&&i++,i===o)return n;return null}function D(e,t){for(;e;e=e.parentNode)if(e===t)return!0;return!1}function k(e,r,o,i,a){var u,l,c,s,f=0,d=0;if(!F(e,1))throw new Error(Zt);if(!t.method(r))throw new Error(Jt);switch(void 0===o&&(o=null),a=!1!==a,i){case _t:for(u=l={node:e,next:null};u;u=u.next)for(c=u.node,u.node=null;c&&(s=c.firstChild,!a&&0===f||!1!==r.call(o,s));c=c.nextSibling)s&&(f++,l.next={node:s,next:null},l=l.next);break;case Qt:d=1;case Bt:e:for(s=e;s&&(!a&&0===f||d||1!==s.nodeType||!1!==r.call(o,s));){if(c=s.firstChild)f++;else{if((a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break;for(c=s.nextSibling;!c&&f--&&s;){if(s=s.parentNode,(a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break e;c=s.nextSibling}}s=c}}return l=u=c=s=null,n()}function F(e){var n,r,o,i,a,u,l=t.number;if(e&&"object"==typeof e&&(n=e.nodeType,l(n))){for(i=arguments,u=!(o=Math.max(i.length-1,0)),r=0;o--;)if(a=i[++r],n===a)return!0;return u}return!1}function P(e){var t=typeof e;return!(!e||"object"!==t&&"function"!==t||e.self!==e.window||!e.document)}function R(e,t){var n,r,o=kt[1102],i=en,a=F;if(!a(e)||!a(t))throw new Error(o);if(n=e.nodeType,!((r=t.nodeType)in i&&n in i[r]))return!1;switch(n){case 9:if((e=e.documentElement)===t)return!0;break;case 11:return D(t,e)}return tn(e,t)}function L(e,n,r){var o,i=null,a=Kt,u=F;if(!u(e,1,11))throw new Error(Zt);if(u(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!u(i,1,3,4,7,8,11))throw new Error(a);return e.insertBefore(i,j(e,r)),i}function V(e,t){var n;if(!F(e,1,3,4,7,8))throw new Error(Yt);return 1===e.nodeType&&!1!==t&&q(e,M),(n=e.parentNode)&&n.removeChild(e),n=null,e}function H(e,n){var r,o,i,a,u=F,l=Yt,c=!1;if(!u(n,1))throw new Error(Zt);if(u(e,1,3,4,7,8)&&(e=[e],c=!0),!t.array(e))throw new Error(l);for(i=n.ownerDocument.createDocumentFragment(),r=-1,o=e.length;o--;)u(a=e[++r],1,3,4,7,8)&&i.appendChild(a);return n.appendChild(i),a=null,c&&e.splice(0,e.length),i=null,n}function W(e,n,r){var o,i=null,a=Kt,u=F;if(!u(e,1,3,4,7,8)||!e.parentNode)throw new Error(Yt);if(u(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!u(i,1,3,4,7,8))throw new Error(a);return!0===r&&1===e.nodeType&&q(e,M),e.parentNode.replaceChild(i,e),i}function U(e,t,n,r){return k(e,t,n,Bt,!1!==r)}function q(e,t,n,r){return k(e,t,n,Qt,!1!==r)}function $(e,t,n,r){return k(e,t,n,_t,!1!==r)}function B(e,t,n){switch(n=(n+1)%1,!0){case n<1/6:return e+6*(t-e)*n;case n<.5:return t;case n<2/3:return e+(t-e)*(2/3-n)*6}return e}function Q(e,t,n){var r=Math,o=dn,i=t>2&&n!==o.PERCENT,a=t<3?hn:wn;return e=o.format(e,n),i&&(e*=100),r.max(0,r.min(a,e))}function _(e){var t,n,r=Math,o=B,i=hn,a=pn,u=e&mn,l=e>>9&a,c=e>>16&a,s=e>>23&a;return c/=bn,0===l?[c,c,c]:(u/=gn,l/=vn,t=c<.5?c*(1+l):c+l-c*l,n=2*c-t,[r.round(o(n,t,u+1/3)*i),r.round(o(n,t,u)*i),r.round(o(n,t,u-1/3)*i),s.toFixed(2)])}function X(e,n,r,o){var i,a,u,l,c,s,f=Math,d=hn,h=pn;if(e/=d,n/=d,r/=d,i=f.max(e,n,r),a=f.min(e,n,r),c=(i+a)/2,i===a)u=l=0;else{switch(s=i-a,l=c>.5?s/(2-i-a):s/(i+a),i){case e:u=(n-r)/s+(n<r?6:0);break;case n:u=(r-e)/s+2;break;case r:u=(e-n)/s+4}u/=6}return t.number(o)||(o=wn),(o&h)<<23|(c*bn&h)<<16|(l*vn&h)<<9|u*gn&mn}function Z(e){var t=Math;return((e=t.max(0,t.min(e,255)))<16?"0":"")+e.toString(16)}function Y(e,t,n){var r=dn,o=Math,i=Mn,a=t<1?Cn:i;switch(n){case r.HEX:e=parseInt(e,16)/Sn*a;break;case r.NUMBER:e=1*e||0,t>2&&(e*=i);break;case r.PERCENT:e=1*e.substring(0,e.length-1)||0}return o.max(0,o.min(a,e||0))}function G(e,n,r,o){var i=Tn;return t.number(o)||(o=Mn),(o&i)<<23|(r&i)<<16|(n&i)<<9|e&In}function J(e){var t=Tn;return[e&In,e>>9&t,e>>16&t,e>>23&t]}function K(e){return"string"==typeof e&&(e=e.replace(jn,""),An.test(e))?e:null}function ee(e){var n,r,o,i=Dn,a=e.match(An),u=a[1];return t.contains(i,u)||(u="hex"),n=a[3],(r=!n)?(n=a[2]).length<6&&(o=n.charAt(2),n=[n.charAt(0),n.substring(0,2),n.charAt(1),o,o].join("")):n=n.split(","),[u,r,n]}function te(e){if(!t.string(e,!0))throw new Error(Nn);return(e=K(e))?ee(e)||null:null}function ne(e){var n,r,o,i,a,u,l,c,s,f,d=dn,h=d.PERCENT,p=d.NUMBER,m=d.HEX,w=zn;if(!t.string(e,!0))throw new Error(Nn);if(e=K(e),n=e&&ee(e)){for(c=n[0],u=(l=Dn[c]).itemize,f=[],s=n[1],a=n[2],r=-1,s?(f[3]=100,o=3):o=a.length;o--;){if(i=a[++r],s)i=a.substring(2*r,2*r+2);else if(!w.test(i))return null;f[r]=u(i,r,s?m:"%"===i.charAt(i.length-1)?h:p)}return l.toInteger.apply(l,f)}return null}function re(e,n){var r=Dn;if(!t.number(e)||e<0)throw new Error("Invalid [colorValue] parameter.");if(arguments.length<2)n="hex";else if(!t.string(n))throw new Error("Invalid [type] parameter.");return t.contains(r,n)?(e=Math.round(e),r[n].toString(e)):null}function oe(e,n){var r=t.number(e),o=r||t.string(e),a=this[0],u=nr;"opacity"===(n=i(n))?o?tr(a,e):u(a,"filter",null):r&&Yn.test(n)?e+="px":r&&$n.test(n)&&(e=re(e,ar)),o||(e=null),u(a,n,e),a=null}function ie(e){for(var t,n,r,o=rr,i=e.split(";"),a=-1,u=i.length,l={};u--;)n=(t=i[++a].split(":"))[0].replace(o,""),r=t.slice(1).join(":").replace(o,""),n&&r&&(l[n]=r);return l}function ae(){throw new Error(kt[2001])}function ue(){throw new Error(kt[2002])}function le(e,t,n,r){var o,i=t[n],a=parseFloat(i),u=i.split(Xn)[0];switch(u){case"in":return 96*a;case"pt":return 96*a/72;case"em":case"%":return r||(o=e.parentElement,r=Bn.test(u)&&o?le(o,o.currentStyle,"fontSize",null):16,o=null),"em"===u?a*r:a/100*("fontSize"===n?r:_n.test(n)?e[Un]:e[qn]);default:return a}}function ce(e,t){var n,r,o=e.offsetParent,i=o.currentStyle,a=xt.browser.ieVersion<9,u=parseFloat,l=Fn,c=Pn,s=kn,f=Rn,d=Un,h=qn,p=e[Ln],m=e[Vn],w=o[d]-e[Hn],g=o[h]-e[Wn],v=e[d],b=e[h];switch(t.position){case"relative":if(p-=u(i[c])||0,m-=u(i[l])||0,a){for(n=e.parentNode;n!==o;n=n.parentNode)"static"===(r=n.currentStyle).position&&(p-=(u(r.paddingLeft)||0)+(u(r.borderLeftWidth)||0),m-=(u(r.paddingTop)||0)+(u(r.borderTopWidth)||0));o===e.ownerDocument.body&&(p-=u(i.marginLeft)||0,m-=u(i.marginTop)||0)}case"absolute":case"fixed":p-=u(i.borderLeftWidth)||0,m-=u(i.borderTopWidth)||0}return w-=p,g-=m,v-=(u(t[c])||0)+(u(t[f])||0),b-=(u(t[l])||0)+(u(t[s])||0),o=i=null,{left:p,top:m,right:w,bottom:g,width:v,height:b}}function se(){throw new Error(kt[2006])}function fe(e,r){var o=t.string;if(!F(e,1))throw new Error(ir);return o(r)&&(r=[r]),t.array(r)&&(e.className=a(e.className||"",r)),n()}function de(e,r){var o=t.string;if(!F(e,1))throw new Error(ir);if(!F(e,1))throw new Error(ir);return o(r)&&(r=[r]),t.array(r)&&(e.className=u(e.className,r)),n()}function he(e,r,o){var i;if(!F(e,1))throw new Error(ir);if(t.string(r)&&(arguments.length>2?((i={})[r]=o,r=i):r=ie(r)),!t.object(r))throw new Error(kt[1141]);return i=[e.style],t.each(r,oe,i,!0),i=i[0]=null,n()}function pe(e){if(!F(e,1))throw new Error(ir);return ie(e.style.cssText)}function me(e){switch(e){case null:case!1:case"auto":case"inherit":return!0}switch(typeof e){case"number":return isFinite(e);case"string":return Qn.test(e)}return!1}function we(e){var t,n=isFinite;switch(e){case null:case!1:case"auto":case"inherit":return e}switch(typeof e){case"number":if(n(e))return e;break;case"string":if(t=e.length,Qn.test(e)&&"px"!==e.substring(t-2,t))return e;if(e=parseFloat(e),n(e))return e}return!1}function ge(e){var t=Math,n=e,r=Me();return P(n)&&(n=n.document),9===n.nodeType&&(n=n[Ar],r[2]=t.max(n.scrollWidth,r[2]),r[3]=t.max(n.scrollHeight,r[3])),n=null,r}function ve(e,t,n){e.scrollTo(1*t,1*n)}function be(e){var t,n;return F(e,1,9)?9===e.nodeType?Nr:(t=e.ownerDocument.body,n=(e===t||R(t,e))&&Or,t=null,n):!!P(e)&&Nr}function ye(n,r,o,i,a,u,l,c){var s,f,d,h,p=we,m=parseFloat,w=!1,g=w,v=w,b=w;switch(h=e.computedStyle(n,"position","top","left","right","bottom","width","height"),t.object(c)||(c={}),h.position){case"relative":case"absolute":case"fixed":r=p(r),o=p(o),i=p(i),a=p(a),g=!1!==o,v=!(w=!1!==r)&&!1!==i,b=!b&&!1!==a,(w||v||g||b)&&(d=Dr(n),w?c.left="number"==typeof r?(m(h.left)||0)+(r-d[0])+"px":r:v&&(c.right="number"==typeof i?(m(h.right)||0)+(i-d[2])+"px":i),g?c.top="number"==typeof o?(m(h.top)||0)+(o-d[1])+"px":o:b&&(c.bottom="number"==typeof i?(m(h.bottom)||0)+(a-d[3])+"px":a))}return u=p(u),(s=!1!==u)&&(c.width="number"==typeof u?m(h.width||0)+(u-n[yr])+"px":u),l=p(l),(f=!1!==l)&&(c.height="number"==typeof l?m(h.height||0)+(l-n[Er])+"px":l),w||v||g||b||s||f?c:null}function Ee(e,r,o){var i=me;if(arguments.length>1){if(be(e)!==Or)throw new Error(cr);if(t.array(r)){if(!(r.length>1))throw new Error(gr);o=r[1],r=r[0]}if(!i(r))throw new Error(fr);if(!i(o))throw new Error(dr);return(r=ye(e,r,o,!1,!1,!1,!1))&&he(e,r),n()}switch(be(e)){case Nr:return ge(e).slice(0,2);case Or:return Dr(e).slice(0,2)}throw new Error(cr)}function xe(e,r,o){var i=me;if(arguments.length>1){if(be(e)!==Or)throw new Error(cr);if(t.array(r)){if(!(r.length>1))throw new Error(gr);o=r[1],r=r[0]}if(!i(r))throw new Error(mr);if(!i(o))throw new Error(wr);return(r=ye(e,!1,!1,!1,!1,r,o))&&he(e,r),n()}return be(e)===Nr?ge(e).slice(2,4):kr(e)}function Se(e,r,o,i,a){var u,l,c=me;if(arguments.length>1){if(be(e)!==Or)throw new Error(cr);if(t.array(r)){if(!(r.length>3))throw new Error(gr);a=r[3],i=r[2],o=r[1],r=r[0]}if(!c(r))throw new Error(fr);if(!c(o))throw new Error(dr);if(!c(i))throw new Error(mr);if(!c(a))throw new Error(wr);return(r=ye(e,r,o,!1,!1,i,a))&&he(e,r),n()}if((u=be(e))===Nr)return l=ge(e),r=l[0],o=l[1],i=l[2],a=l[3],l=Me(e),[r,o,i-r-l[2],a-o-l[3],i,a];if(u!==Or)throw new Error(cr);return l=kr(e),i=l[0],a=l[1],l=Dr(e),l[4]=i,l[5]=a,l}function Te(e,n,r,o,i,a,u,l){var c=me;if(be(e)!==Or)throw new Error(cr);if(t.array(n)&&(l=r,n.length>4?(u=5 in n&&n[5],a=4 in n&&n[4],i=3 in n&&n[3],o=2 in n&&n[2]):(u=3 in n&&n[3],a=2 in n&&n[2],i=!1,o=!1),r=1 in r&&n[1],n=n[0]),!c(n))throw new Error(fr);if(!c(r))throw new Error(dr);if(!c(o))throw new Error(hr);if(!c(i))throw new Error(pr);if(!c(a))throw new Error(mr);if(!c(u))throw new Error(wr);return ye(e,n,r,o,i,a,u,l)}function Ie(e,n,r){var o,i,a=arguments.length>1,u=t.number,l=Tr,c=Ir;switch(a&&(u(n)||(n=!1),u(r)||(r=!1)),be(e)){case Nr:if(i=F(e)?e[Mr]:e,o=jr(i),!a)return o;ve(i,!1===n?o[0]:n,!1===r?o[1]:r);break;case Or:if(!a)return[e[c],e[l]];e[c]=!1===n?e[c]:n,e[l]=!1===r?e[l]:r;break;default:throw new Error(sr)}}function Ce(r,o,i){var a=null,u=t.string,l=arguments.length,c=be(r)===Or;return l>1?(a={},u(o)?a.visibility=o:"boolean"==typeof visiblity&&(a.visibility=o?"visible":"hidden"),!1===i&&(i="none"),u(i)&&(a.display=i),he(r,a),n()):!!c&&("none"!==(a=e.computedStyle(r,"display","visibility")).display&&"hidden"!==a.visibility)}function Me(e){var t,n,r=e;return F(r,1,9)&&(r=(1===r.nodeType?r.ownerDocument:r)[un]),P(r)||(r=Qe.window),t=jr(r),n=Fr(r),t[2]=n[0],t[3]=n[1],r=null,t}function Oe(e,t){if(F(e,9)&&(e=e.body),!Ce(e))throw new Error(kt[1101]);if(arguments.length<2&&(t=null),null!==t&&!Ce(t))throw new Error(Pr);return Rr(e,t),n()}function Ne(e){if(!F(e,9)){if(arguments.length>0)throw new Error(kt[1104]);e=Qe.document}return Lr(e),n()}function Ae(e,t){if(!F(e,1))throw new Error(Pr);return Vr(e,!1===t),n()}function ze(e,t,n,r){return n*e/r+t}function je(e,t,n,r){return e/=r,n*e*e+t}function De(e,t,n,r){return e/=r,-n*e*(e-2)+t}function ke(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function Fe(){}function Pe(e){return t.string(e)&&(e=parseFloat(e)),t.number(e)&&e}function Re(e,n,r){return t.each(r,Le,[n,e],!0),e}function Le(e,n,r){var o,i,a,u,l=this,c=Pe,s=l[0],f=l[1],d=f[0],h=f[1];if(!1!==(a=c(r[n]))){if(o=d.indexOf(n),i=t.contains(s,n)&&c(s[n]),u=!1===i,-1===o){if(u)return!0;d[o=d.length]=n}else u&&(i=h[o]);h[o]=i,f[2][o]=a}return!0}function Ve(e){return function(t,n,r){var o=e,i=o.node;Te(i,"left"in t&&t.left,"top"in t&&t.top,"right"in t&&t.right,"bottom"in t&&t.bottom,"width"in t&&t.width,"height"in t&&t.height,t),he(i,t),n===r&&(i.removeAttribute($r),o.node=null,delete o.node),o=i=null}}function He(t,n){for(var r,o,i=e.computedStyle(t,n),a=Se,u=-1,l=n.length,c=we,s=Yn,f=$n,d=ne,h=Br,p=null;l--;)o=i[r=n[++u]],Zn.test(r)?(p||(p=a(t)),o=p[h[r]]):s.test(r)?o=c(o):f.test(r)&&(o=d(o)),i[r]=parseFloat(o)||0;return i}function We(e,n){var r=this,o=r[0],i=r[1],a=r[2],u=r[3],l=e;"opacity"===n?e=parseFloat(l):Zn.test(n)||Yn.test(n)?e=we(l):$n.test(n)&&null===(e=ne(l))&&(e=!1),t.number(e)?(o[o.length]=n,i[n]=e):!1!==e&&(a[a.length]=n,u[n]=e)}function Ue(e,n,r,o,i){function a(){var e=a;w&&(p(w),delete d[w],delete e.session,delete e.update,delete e.running,w=null),e=null}var u,l,c=Math,s=qr,f=t.object,d=Zr,h=Xr,p=clearInterval,m=setInterval,w=null,g=arguments.length,v=0;if(!t.method(e))throw new Error(kt[1151]);if(!f(n)||!f(r))throw new Error(kt[1152]);if(g<4)o=Qr;else if(!qe(o))throw new Error(t.string[1153]);if(g<5)i=_r;else if(!t.number(i)||i<=0)throw new Error(kt[1154]);return o=s[o],i*=1e3,u=c.max(10,c.round(i/h)),l=[[],[],[],n,a],w=m(function(){for(var t,n=l,r=n[0],i=n[1],c=n[2],s=u,f=++v,d=r.length,h={},p=o(f,0,1,s),m=f===s;d--;)t=i[d],h[r[d]]=(c[d]-t)*p+t;n[3]=h,e(h,f,s),m&&a()},h),a.session=w,a.update=function(e,t,n){var r=l,o=f;if(w){if(!o(e))throw new Error(kt[1152]);o(t)||(t=r[3]),Re(r,t,e,n),v=0}},a.running=!0,d[w]=l,l=Re(l,n,r),a}function qe(e){return t.string(e)&&t.contains(qr,e)}function $e(e,n,r,o){var i,a,u,l,c,s,f=$r,d=Qr,h=_r,p=[[],{},[],{}],m=arguments.length,w=null;if(!t.object(n))throw new Error(kt[1152]);if(t.each(n,We,p),u=p[0],c=p[1],s=p[3],m<4&&(o=h,m<3&&(r=d)),!t.string(r,!0))throw new Error(t.string[1153]);if(qe(r)||(r=d),!t.number(o)||o<=0)throw new Error(kt[1154]);return u.length&&(i=e.getAttribute(f),l=He(e,u),i?(w=Zr[i][4]).update(c,l,r):(w=Ue(Ve(a={node:e}),l,c,r,o),a.id=i=w.session,e.setAttribute(f,i))),p[2].length&&he(e,s),w||Fe}var Be,Qe="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},_e=null,Xe=Qe,Ze=!1;t.env.browser&&(Be=t.env.userAgent.match(/msie ([0-9]+\.[0-9]+)/i),Ze={strict:"CSS1Compat"===Xe.document.compatMode,ieVersion:Be&&parseInt(Be[1],10)||0,ie8:!1}),Xe=null;var Ye=Ze,Ge=Qe,Je=!1;Ye&&(Je={w3c:!!Ge.addEventListener,ie:!!Ge.attachEvent,customEvent:!!Ge.CustomEvent}),Ge=null;var Ke,et,tt=Je,nt=Qe,rt=!1;Ye&&(rt={compare:!!(et=(Ke=nt.document).documentElement).compareDocumentPosition,contains:!!et.contains,defaultView:Ke.defaultView?"defaultView":Ke.parentWindow?"parentWindow":null,querySelectorAll:!!Ke.querySelectorAll,listToArray:et.childNodes instanceof Object}),Ke=et=null;var ot,it,at,ut,lt=rt,ct=Qe,st=!1;Ye&&(it=(ot=ct.document).createElement("div").style,st={w3cStyle:!!ct.getComputedStyle,ieStyle:!!ot.documentElement.currentStyle,setattribute:!!it.setAttribute,setproperty:!!it.setProperty,opacity:void 0!==it.opacity,filterOpacity:void 0!==it.filter,alphaColor:function(e){var n="rgba(0,0,0,0.5)";try{if(e.color=n,ut=e.color,t.string(ut)&&(ut=ut.replace(/[ \r\n\t\s]+/g,"").toLowerCase()),n===ut)return!0}catch(e){}return!1}(it),transition:function(e){var t=["OTransition","webkitTransition","MozTransition","transition"],n=t.length;for(n=t.length;n--;)if(at=t[n],void 0!==e[at])return at;return!1}(it)}),ct=ot=it=null;var ft,dt=st,ht=Qe,pt=!1;Ye&&(ft=Ye.ieVersion,pt={screensize:void 0!==ht.innerWidth,pagescroll:void 0!==ht.pageXOffset,rectmethod:!!ht.document.documentElement.getBoundingClientRect,zoomfactor:ft>0&&ft<8,ie8:8===ft}),ht=null;var mt,wt,gt,vt=pt,bt=!1;Ye&&(wt=(mt=Qe.document).documentElement.style,gt="undefined",bt={range:!!mt.createRange,textrange:!!mt.createElement("input").createTextRange,cssUnselectable:typeof wt.MozUserSelect!==gt?"MozUserSelect":typeof wt.webkitUserSelect!==gt&&"webkitUserSelect"}),mt=wt=null;var yt=bt,Et=!1;Ye&&(Et={browser:Ye,event:tt,dom:lt,css:dt,dimension:vt,selection:yt});var xt=Et,St=/[ \r\n\t]*[ \r\n\t]+[ \r\n\t]*/,Tt=/^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,It=/[^\u0021-\u007e]|[\u003e\u003c\&\"\']/g,Ct=null;xt&&(Ct=Qe.document.createElement("textarea"),t.register("libdom.event.global-destroy",o));var Mt,Ot,Nt,At,zt,jt,Dt,kt={1001:"Invalid [name] parameter.",1011:"Invalid [handler] parameter.",1101:"Invalid DOM [element] parameter.",1102:"Invalid [dom] Object parameter.",1103:"Invalid DOM [node] parameter.",1104:"Invalid DOM [document] parameter.",1111:"Invalid CSS [selector] parameter.",1112:"Invalid tree traverse [callback] parameter.",1121:"Invalid DOM Element [config] parameter.",1131:"Invalid [observable] parameter.",1132:"Invalid Event [type] parameter.",1133:"Invalid Event [handler] parameter.",1141:"Invalid [style] Rule parameter.",1151:"Invalid Animation [callback] parameter.",1152:"Invalid Animation [displacements] parameter.",1153:"Invalid Animation [type] parameter.",1154:"Invalid Animation [duration] parameter.",1210:"Invalid Dimension [x] parameter.",1211:"Invalid Dimension [y] parameter.",1212:"Invalid Dimension [right] parameter.",1213:"Invalid Dimension [bottom] parameter.",1214:"Invalid Dimension [width] parameter.",1215:"Invalid Dimension [height] parameter.",1216:"Invalid Dimension parameters.",2001:"Style Attribute manipulation is not supported",2002:"Computed style is not supported by this browser.",2003:"CSS Selector query form DOM is not supported.",2004:"DOM position comparison is not supported.",2005:"DOM selection not supported.",2006:"CSS Opacity is not supported by this browser"},Ft=null,Pt=!1,Rt=t.middleware("libdom.event"),Lt={},Vt=kt[1131],Ht=kt[1132],Wt=kt[1133],Ut="on",qt="beforeupdate",$t="propertychange";if(Mt=Ot=Nt=At=null,zt=xt&&xt.event){switch(jt=!0,!0){case zt.w3c:Ot=function(e,t,n,r){var o=d(n,r);return e.addEventListener(t,o,!1),[e,t,n,r,o]},Nt=function(e,t,n){e.removeEventListener(t,n,!1)},At=function(e,n,r){var o,i=t.contains,a=Qe.document.createEvent("Event");a.initEvent(n,"bubbles"in r&&!0===r.bubbles,"cancelable"in r&&!1!==r.cancelable);for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return e.dispatchEvent(a),a},Mt=function(e){var n=t.method;return!!(e&&"object"==typeof e&&n(e.addEventListener)&&n(e.removeEventListener)&&n(e.dispatchEvent))&&e};break;case zt.ie:Ot=function(e,t,n,r){var o,i=Ut;return v(e,t)?(o=p(t,n,r),e.attachEvent(i+qt,o),e.attachEvent(i+$t,o)):(o=h(n,r),e.attachEvent(i+t,o)),[e,t,n,r,o]},Nt=function(e,t,n){var r=Ut;n.customType?(e.detachEvent(r+qt,n),e.detachEvent(r+$t,n)):e.detachEvent(r+t,n)},At=function(e,n,r){var o,i=t.contains,a=Qe.document.createEventObject();for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return v(e,n)&&(a.customType=n,n=!0===r.bubbles?qt:$t),o=Ut+n,e.fireEvent(o,a),!1===r.cancelable&&(a.returnValue=!0),a},Mt=function(e){return!!(e&&(e=e.window?e.self:e).attachEvent&&e.detachEvent)&&e};break;default:jt=!1}jt&&(y(Dt=Qe,"beforeunload",b),y(Dt,"unload",b),Dt=null)}var Bt=1,Qt=2,_t=3;e.select=function(){throw new Error(kt[2003])};var Xt,Zt=kt[1101],Yt=kt[1103],Gt=kt[1111],Jt=kt[1112],Kt=kt[1121],en={4:{1:1,11:1},8:{1:1,11:1},1:{1:1,9:1,11:1},7:{1:1,11:1},3:{1:1,11:1}},tn=I,nn=/(^\_|[^a-zA-Z\_])/,rn=["nodeType","nodeValue","ownerDocument","tagName","attributes","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","sourceIndex","type"],on=/^on(\-?[a-zA-Z].+)?$/,an=t.createRegistry();(Xt=xt&&xt.dom)&&(tn=Xt.compare?function(e,t){return(16&e.compareDocumentPosition(t))>0}:Xt.contains?function(e,t){return e.contains(t)}:I,Xt.querySelectorAll&&(e.select=Xt.listToArray?function(e,n){if(!F(e,9,1))throw new Error(Yt);if(!t.string(n))throw new Error(Gt);return Array.prototype.slice.call(e.querySelectorAll(n))}:function(e,n){var r,o,i,a;if(!F(e,9,1))throw new Error(Yt);if(!t.string(n))throw new Error(Gt);for(r=e.querySelectorAll(n),o=-1,(a=[]).length=i=r.length;i--;)a[++o]=r[o];return r=null,a}));var un="defaultView",ln=1,cn=2,sn=3,fn=/\%$/,dn={NUMBER:ln,HEX:cn,PERCENT:sn,format:function(e,t){switch(t){case cn:return parseInt(e,16)||0;case ln:return(e*=1)||0;case sn:return e=fn.test(e)?1*e.substring(0,e.length-1):1*e,Math.round(100*(e||1))}return 0}},hn=255,pn=127,mn=511,wn=100,gn=360,vn=wn,bn=wn,yn=Object.freeze({itemize:Q,toArray:_,toInteger:X,toString:function(e){var t=_(e),n=t[3]/wn;return t[3]=parseFloat(n.toFixed(2)),"rgba("+t.join(",")+")"}}),En=Object.freeze({toHex:Z,toString:function(e){var t=Z,n=_(e).slice(0,3);return n[0]=t(n[0]),n[1]=t(n[1]),n[2]=t(n[2]),"#"+n.join("")},itemize:Q,toArray:_,toInteger:X}),xn=Object.freeze({toString:function(e){return"rgb("+_(e).slice(0,3).join(",")+")"},toInteger:function(e,t,n){return X(e,t,n,100)},itemize:Q,toArray:_}),Sn=255,Tn=127,In=511,Cn=360,Mn=100,On=Object.freeze({itemize:Y,toInteger:G,toArray:J,toString:function(e){var t=J(e);return t[1]+="%",t[2]+="%",t[3]=t[3]/Mn,"hsla("+t.join(",")+")"}}),Nn="Invalid [subject] parameter.",An=/^(\#?|rgba?|hsla?)(\(([^\,]+(\,[^\,]+){2,3})\)|[a-f0-9]{3}|[a-f0-9]{6})$/,zn=/^[0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*$/,jn=/[ \r\n\t\s]+/g,Dn={rgb:xn,rgba:yn,hsl:Object.freeze({toString:function(e){var t=J(e).slice(0,3);return t[1]+="%",t[2]+="%","hsl("+t.join(",")+")"},itemize:Y,toArray:J,toInteger:G}),hsla:On,hex:En},kn="paddingBottom",Fn="paddingTop",Pn="paddingLeft",Rn="paddingRight",Ln="offsetLeft",Vn="offsetTop",Hn="offsetWidth",Wn="offsetHeight",Un="clientWidth",qn="clientHeight",$n=/[Cc]olor$/,Bn=/%|em/,Qn=/^([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)(em|px|\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,_n=/width/i,Xn=/\d/,Zn=/(top|bottom|left|right|width|height)$/,Yn=/([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,Gn=/\(opacity\=([0-9]+)\)/i,Jn="alpha(opacity=$opacity)",Kn=/\$opacity/,er=se,tr=se,nr=ae,rr=/^\s+|\s+$/g;e.computedStyle=ue;var or,ir=kt[1101],ar="hex",ur=Array.prototype.slice;C("className",fe),C("style",function(){return arguments.length>1?he.apply(this,arguments):pe.apply(this,arguments)}),(or=xt&&xt.css)&&(e.computedStyle=or.w3cStyle?function(e,n){var r,o,a,u,l,c,s,f=i,d=t.string;if(!F(e,1))throw new Error(ir);for(r=Qe.getComputedStyle(e),c={},t.array(n)||(n=ur.call(arguments,1)),o=-1,a=n.length;a--;)if(u=n[++o],d(u)){switch(s=f(u)){case"opacity":l=er(r);break;default:l=r[s]}c[u]=l}return r=null,c}:or.ieStyle?function(e,n){var r,o,a,u,l,c,s,f,d,h=Yn,p=Zn,m=t.string,w=i,g=er,v=le;if(!F(e,1))throw new Error(ir);for(r=e.currentStyle,s=!1,d=!1,f={},t.array(n)||(n=ur.call(arguments,1)),o=-1,a=n.length;a--;)if(u=n[++o],m(u)){switch(c=w(u),!0){case"opacity"===c:l=g(r);break;case p.test(c):d||(d=ce(e,r)),l=d[c]+"px";break;case h.test(c)&&"auto"!==r[c]:!1===s&&(s=v(e,r,"fontSize",null)),l=v(e,r,c,s)+"px";break;case"float"===c:l=r.styleFloat;break;default:l=r[c]}f[u]=l}return r=l=null,f}:ue,or.setattribute?(nr=function(e,t,n){null===n?e.removeAttribute(t):e[t]=n},function(e,t){return e.getAttribute(t)}):or.setproperty&&(nr=function(e,t,n){null===n?e.removeProperty(t):e[t]=n},function(e,t){return e.getPropertyValue(t)}),or.opacity?(er=function(e){var n=parseFloat(e.opacity);return t.number(n)?n:1},tr=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.opacity=r.min(1,r.max(0,n)).toFixed(2))}):or.filterOpacity&&(er=function(e){var n,r=Math,o=Gn,i=e.filter;return t.string(i)&&o.test(i)?(n=i.match(o),n=parseFloat(n[1]),r.max(1,r.min(100,t.number(n)?n:100))/100):1},tr=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.filter=Jn.replace(Kn,r.min(100,r.max(0,r.round(100*n))).toString(10)))}),or.alphaColor&&(ar="rgba"));var lr,cr=kt[1101],sr=kt[1102],fr=kt[1210],dr=kt[1211],hr=kt[1212],pr=kt[1213],mr=kt[1214],wr=kt[1215],gr=kt[1216],vr="offsetTop",br="offsetLeft",yr="offsetWidth",Er="offsetHeight",xr="marginTop",Sr="marginLeft",Tr="scrollTop",Ir="scrollLeft",Cr="getBoundingClientRect",Mr=null,Or=1,Nr=2,Ar="documentElement",zr=!1,jr=null,Dr=null,kr=null,Fr=null;(lr=xt&&xt.dimension)&&(xt.browser.strict||(Ar="body"),lr.zoomfactor,Mr=xt.dom.defaultView,xt.browser.ieVersion,jr=lr.pagescroll?function(e){return[e.pageXOffset||0,e.pageYOffset||0]}:function(e){var t=Math,n=e.document[Ar],r=[t.round(n[Ir]/1),t.round(n[Tr]/1)];return n=null,r},Fr=lr.screensize?function(e){return[e.innerWidth,e.innerHeight]}:function(e){var t=e.document[Ar],n=[1*t.clientWidth,1*t.clientHeight];return t=null,n},zr=lr.rectmethod&&Cr,Dr=zr?function(e,t){var n=Me(e),r=t||e[Cr](),o=lr.zoomfactor?(Qe.window.document[Ar],1):1,i=n[0],a=n[1],u=[r.left*o+i,r.top*o+a,r.right*o-n[2],r.bottom*o-n[3]];return r=null,u}:function(t){var n=Qe.document[Ar],r=n.body,o=vr,i=br,a=xr,u=Sr,l=Tr,c=Ir,s=[u,a],f=t.offsetParent,d=e.computedStyle,h=d(t,[s]),p=Me(t),m=t[i],w=t[o];for(m+=parseFloat(h[u])||0,w+=parseFloat(h[a])||0;f;f=f.offsetParent)1===f.nodeType&&(h=d(f,s),m+=(f[i]||0)+(f.clientLeft||0)+(parseFloat(h[u])||0),w+=(f[o]||0)+(f.clientTop||0)+(parseFloat(h[a])||0));for(f=t.parentNode;f&&f!==r;f=f.parentNode)1===f.nodeType&&f!==n&&(m+=f[c]||0,w+=f[l]||0);return n=f=r=null,[m,w,m+t[yr]-p[2],w+t[Er]-p[3]]},kr=zr?function(e,t){var n=Math,r=t||e[Cr](),o=[n.max(0,r.width||0),n.max(0,r.height||0)];return r=null,o}:function(e){var t=Math;return[t.max(0,e[yr]||0),t.max(0,e[Er]||0)]});var Pr=kt[1102],Rr=null,Lr=null,Vr=function(e,t){e.unselectable=t?"off":"on"},Hr=null,Wr=null,Ur=null;xt&&(Wr=xt.dom,Ur=(Hr=xt.selection).cssUnselectable,Hr.range?(Rr=function(e,t){var n=e.ownerDocument,r=n.createRange(),o=n.createRange(),i=n[Wr.defaultView].getSelection();r.selectNodeContents(e),t&&o.selectNodeContents(t),i.addRange(r),t&&i.addRange(o),n=i=r=o=null},Lr=function(e){e[Wr.defaultView].getSelection().removeAllRanges()}):Hr.textrange?(Rr=function(e,t){var n,r=e.ownerDocument.body,o=r.createTextRange();o.moveToElementText(e),t&&((n=r.createTextRange()).moveToElementText(t),o.setEndPoint("EndToEnd",n)),o.select(),r=n=o=null},Lr=function(e){e.selection.empty()}):Rr=Lr=function(){throw new Error(kt[2005])},Ur&&(Vr="MozUserSelect"===Ur?function(e,t){e.style.MozUserSelect=t?"text":"none"}:function(e,t){e.style.webkitUserSelect=t?"text":"none"}));var qr=Object.freeze({linear:ze,easeIn:je,easeOut:De,easeInOut:ke,linearTween:ze,easeInQuad:je,easeOutQuad:De,easeInOutQuad:ke,easeInCubic:function(e,t,n,r){return e/=r,n*e*e*e+t},easeOutCubic:function(e,t,n,r){return e/=r,e--,n*(e*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)},easeInQuart:function(e,t,n,r){return e/=r,n*e*e*e*e+t},easeOutQuart:function(e,t,n,r){return e/=r,e--,-n*(e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)},easeInQuint:function(e,t,n,r){return e/=r,n*e*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return e/=r,e--,n*(e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)},easeInSine:function(e,t,n,r){var o=Math;return-n*o.cos(e/r*(o.PI/2))+n+t},easeOutSine:function(e,t,n,r){var o=Math;return n*o.sin(e/r*(o.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=Math;return-n/2*(o.cos(o.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var o=Math;return(e/=r/2)<1?n/2*o.pow(2,10*(e-1))+t:(e--,n/2*(2-o.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,r){return e/=r,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,r){return e/=r,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,r){var o=Math;return(e/=r/2)<1?-n/2*(o.sqrt(1-e*e)-1)+t:(e-=2,n/2*(o.sqrt(1-e*e)+1)+t)}}),$r="__animate_session",Br={left:0,top:1,right:2,bottom:3,width:4,height:5},Qr="easeOut",_r=.5,Xr=10,Zr={},Yr=Object.freeze({env:t.env,info:xt,xmlEncode:c,xmlDecode:l,is:F,isView:P,contains:R,get select(){return e.select},add:L,move:H,replace:W,remove:V,eachNodePreorder:U,eachNodePostorder:q,eachNodeLevelorder:$,addClass:fe,removeClass:de,get computedStyle(){return e.computedStyle},stylize:he,stylify:pe,on:y,un:E,purge:S,dispatch:x,destructor:T,offset:Ee,size:xe,box:Se,scroll:Ie,screen:Me,highlight:Oe,unhighlightable:Ae,clearHighlight:Ne,parseColor:ne,parseColorType:te,formatColor:re,transition:Ue,animateStyle:$e});Qe.libdom=Yr,function(e){_e=e}(Yr),e.default=Yr,e.env=t.env,e.info=xt,e.xmlEncode=c,e.xmlDecode=l,e.is=F,e.isView=P,e.contains=R,e.add=L,e.move=H,e.replace=W,e.remove=V,e.eachNodePreorder=U,e.eachNodePostorder=q,e.eachNodeLevelorder=$,e.addClass=fe,e.removeClass=de,e.stylize=he,e.stylify=pe,e.on=y,e.un=E,e.purge=S,e.dispatch=x,e.destructor=T,e.offset=Ee,e.size=xe,e.box=Se,e.scroll=Ie,e.screen=Me,e.highlight=Oe,e.unhighlightable=Ae,e.clearHighlight=Ne,e.parseColor=ne,e.parseColorType=te,e.formatColor=re,e.transition=Ue,e.animateStyle=$e,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libdom.min.js.map
