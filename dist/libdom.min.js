!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("libcore")):"function"==typeof define&&define.amd?define(["exports","libcore"],t):t(e.libdom={},e.libcore)}(this,function(e,t){"use strict";function n(){return Be}function r(e){var t,n=e.charCodeAt(0).toString(16);switch(n){case"26":t="amp";break;case"22":t="quot";break;case"27":t="apos";break;case"3C":case"3c":t="lt";break;case"3E":case"3e":t="gt";break;default:t="#x"+n}return"&"+t+";"}function o(){Tt=null}function i(e){return e=t.camelize(e),xt.test(e)?e.charAt(0).toUpperCase()+e.substring(1,e.length):e}function a(e,n){var r,o,i=t.string,a=-1,u=n.length;for(r=(e=e.split(Et)).length;u--;)i(o=n[++a])&&-1===e.indexOf(o)&&(e[r++]=o);return e.join(" ")}function u(e,t){var n,r,o,i=-1,a=t.length;for(r=(e=e.split(Et)).length;a--;)for(o=t[++i],n=r;n--;)o===e[n]&&(e.splice(n,1),r--);return e.join(" ")}function l(e){var t=Tt,n="";return t&&(t.innerHTML=e,n=t.value),t=null,n}function c(e){return e.replace(St,r)}function s(e){var t=!1;return function(){var n,r;t||(t=!0,Mt(e[0],e[1],e[4]),n=e.head,r=e.tail,n&&(n.tail=r),r&&(r.head=n),e===kt&&(kt=r||n),e[0]=null,e.splice(0,4),delete e.unlisten,delete e.head,delete e.tail,e=n=r=null)}}function f(e,t,n,r){var o=kt,i=[],a=0,u=arguments.length,l=0,c=0,s=0,f=0;switch(!0){case u>3:f=1;case u>2:s=1;case u>1:c=1;case u>0:l=1}for(;o;o=o.head)l&&o[0]!==e||c&&o[1]!==t||s&&o[2]!==n||f&&o[3]!==r||(i[a++]=o);return i}function d(e,t){return function(n){return Ft.run("dispatch",[n.type,n]),e.call(t,n)}}function h(e,t){return function(){var n=$e.event;return v(n),Ft.run("dispatch",[n.type,n]),e.call(t,n)}}function p(e,t,n){function r(){var r=$e.event;if(v(r),r.customType===e)return Ft.run("dispatch",[e,r]),r.type=e,t.call(n,r)}return r.customType=!0,r}function m(){this.returnValue=!1}function g(){this.cancelBubble=!0}function v(e){e.target=e.target||e.srcElement,"preventDefault"in e||(e.preventDefault=m),"stopPropagation"in e||(e.stopPropagation=g)}function w(e,t){var n,r,o,i=!1,a=Pt;return 9===e.nodeType&&(e=e.documentElement),1===e.nodeType&&((r=e.tagName+":"+t)in a?a[r]:(o=Ht+t,n=e.cloneNode(!1),(i=o in n)||(n.setAttribute(o,"return;"),i="function"==typeof n[o]),n=null,a[r]=!i,!i))}function b(){Dt||(Dt=!0,Ft.run("global-destroy",[]),S())}function y(e,n,r,o){var i,a,u=kt;if(!t.string(n))throw new Error(Lt);if(!t.method(r))throw new Error(Vt);if(!(e=Ct(e)))throw new Error(Rt);return void 0===o&&(o=null),a=[e,n,r,o],Ft.run("listen",a),e=a[0],n=a[1],r=a[2],o=a[3],a.splice(0,4),a=null,i=It(e,n,r,o),i.unlisten=s(i),i.head=u,i.tail=null,u&&(u.tail=i),kt=i,i.unlisten}function E(e,r,o,i){var a,u,l;if(!t.string(r))throw new Error(Lt);if(!t.method(o))throw new Error(Vt);if(!(e=Ct(e)))throw new Error(Rt);for(void 0===i&&(i=null),l=[e,r,o,i],Ft.run("unlisten",l),e=l[0],r=l[1],o=l[2],i=l[3],l.splice(0,4),l=null,u=(a=f(e,r,o,i)).length;u--;)a[u].unlisten();return n()}function x(e,n,r){if(!t.string(n))throw new Error(Lt);if(!(e=Ct(e)))throw new Error(Rt);return Ot(e,n,r)}function S(){for(var e=f.apply(null,arguments),t=e.length;t--;)e[t].unlisten();return n()}function T(e){return t.method(e)&&Ft.register("global-destroy",e),n()}function C(){throw new Error(jt[2004])}function I(e,r){if(!t.string(e))throw new Error(jt[1001]);if(!t.method(r))throw new Error(jt[1011]);return rn.set(e,r),n()}function M(e){S(e)}function O(e){return t.object(e)&&(e="tagName"in e?e.tagName:"nodeName"in e?e.nodeName:"tag"in e&&e.tag),!!t.string(e)&&e}function N(e,n){var r,o=this,i=rn;switch(n){case"class":n="className";break;case"for":n="htmlFor"}nn.test(n)?"on"===(r=n.substring("-"===n.charAt(2)?3:2,n.length))&&t.object(e)?t.each(e,A,o):A.call(o,e,r):i.exists(n)?i.get(n)(o,e):en.test(n)||-1!==tn.indexOf(n)?o.setAttribute(n,e):o[n]=e,o=null}function A(e,n){var r=this;t.method(e)&&y(r,n,e),r=null}function z(e,n,r){var o,i,a,u,l,s,f,d,h=t.contains,p=t.object,m=z,g=O,v=N,w=!1,b=null;if(p(n)){b=null;e:for(o in n)if(h(n,o)){switch(i=n[o],o){case"tagName":case"nodeName":case"tag":continue e;case"text":case"childText":case"innerText":w=!0;case"childNodes":case"innerHTML":case"html":b=i;continue e;case"attributes":p(i)&&t.each(i,v,e);continue}v.call(e,i,o)}if(t.string(b))w&&(b=c(b)),e.innerHTML=b;else if(!w&&(p(b)&&(b=[b]),t.array(b))){for(f=e.ownerDocument,s=!0===r?e:f.createDocumentFragment(),u=-1,l=b.length;l--;)p(a=b[++u])&&(m(d=f.createElement(g(a)||"div"),a,!0),s.appendChild(d));s!==e&&e.appendChild(s),f=s=d=null}a=null}}function j(e,n,r){var o,i,a,u=t.number;if(F(n,1,3,4,7,8)&&n.parentNode===e)return n;if(u(n)&&n>-1)for(o=n,i=-1,a=!u(r),n=e.firstChild;n;n=n.nextSibling)if((a||r===n.nodeType)&&i++,i===o)return n;return null}function k(e,t){for(;e;e=e.parentNode)if(e===t)return!0;return!1}function D(e,r,o,i,a){var u,l,c,s,f=0,d=0;if(!F(e,1))throw new Error(_t);if(!t.method(r))throw new Error(Yt);switch(void 0===o&&(o=null),a=!1!==a,i){case Bt:for(u=l={node:e,next:null};u;u=u.next)for(c=u.node,u.node=null;c&&(s=c.firstChild,!a&&0===f||!1!==r.call(o,s));c=c.nextSibling)s&&(f++,l.next={node:s,next:null},l=l.next);break;case $t:d=1;case qt:e:for(s=e;s&&(!a&&0===f||d||1!==s.nodeType||!1!==r.call(o,s));){if(c=s.firstChild)f++;else{if((a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break;for(c=s.nextSibling;!c&&f--&&s;){if(s=s.parentNode,(a||0!==f)&&d&&1===s.nodeType&&!1===r.call(o,s))break e;c=s.nextSibling}}s=c}}return l=u=c=s=null,n()}function F(e){var n,r,o,i,a,u,l=t.number;if(e&&"object"==typeof e&&(n=e.nodeType,l(n))){for(i=arguments,u=!(o=Math.max(i.length-1,0)),r=0;o--;)if(a=i[++r],n===a)return!0;return u}return!1}function P(e){var t=typeof e;return!(!e||"object"!==t&&"function"!==t||e.self!==e.window||!e.document)}function R(e,t){var n,r,o=jt[1102],i=Jt,a=F;if(!a(e)||!a(t))throw new Error(o);if(n=e.nodeType,!((r=t.nodeType)in i&&n in i[r]))return!1;switch(n){case 9:if((e=e.documentElement)===t)return!0;break;case 11:return k(t,e)}return Kt(e,t)}function L(e,n,r){var o,i=null,a=Gt,u=F;if(!u(e,1,11))throw new Error(_t);if(u(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!u(i,1,3,4,7,8,11))throw new Error(a);return e.insertBefore(i,j(e,r)),i}function V(e,t){var n;if(!F(e,1,3,4,7,8))throw new Error(Xt);return 1===e.nodeType&&!1!==t&&q(e,M),(n=e.parentNode)&&n.removeChild(e),n=null,e}function H(e,n){var r,o,i,a,u=F,l=Xt,c=!1;if(!u(n,1))throw new Error(_t);if(u(e,1,3,4,7,8)&&(e=[e],c=!0),!t.array(e))throw new Error(l);for(i=n.ownerDocument.createDocumentFragment(),r=-1,o=e.length;o--;)u(a=e[++r],1,3,4,7,8)&&i.appendChild(a);return n.appendChild(i),a=null,c&&e.splice(0,e.length),i=null,n}function W(e,n,r){var o,i=null,a=Gt,u=F;if(!u(e,1,3,4,7,8)||!e.parentNode)throw new Error(Xt);if(u(n))i=n;else if(t.object(n)){if(!(o=O(n)))throw new Error(a);z(i=e.ownerDocument.createElement(o),n)}if(!u(i,1,3,4,7,8))throw new Error(a);return!0===r&&1===e.nodeType&&q(e,M),e.parentNode.replaceChild(i,e),i}function U(e,t,n,r){return D(e,t,n,qt,!1!==r)}function q(e,t,n,r){return D(e,t,n,$t,!1!==r)}function $(e,t,n,r){return D(e,t,n,Bt,!1!==r)}function B(e,t,n){switch(n=(n+1)%1,!0){case n<1/6:return e+6*(t-e)*n;case n<.5:return t;case n<2/3:return e+(t-e)*(2/3-n)*6}return e}function Q(e,t,n){var r=Math,o=sn,i=t>2&&n!==o.PERCENT,a=t<3?fn:pn;return e=o.format(e,n),i&&(e*=100),r.max(0,r.min(a,e))}function _(e){var t,n,r=Math,o=B,i=fn,a=dn,u=e&hn,l=e>>9&a,c=e>>16&a,s=e>>23&a;return c/=vn,0===l?[c,c,c]:(u/=mn,l/=gn,t=c<.5?c*(1+l):c+l-c*l,n=2*c-t,[r.round(o(n,t,u+1/3)*i),r.round(o(n,t,u)*i),r.round(o(n,t,u-1/3)*i),s.toFixed(2)])}function X(e,n,r,o){var i,a,u,l,c,s,f=Math,d=fn,h=dn;if(e/=d,n/=d,r/=d,i=f.max(e,n,r),a=f.min(e,n,r),c=(i+a)/2,i===a)u=l=0;else{switch(s=i-a,l=c>.5?s/(2-i-a):s/(i+a),i){case e:u=(n-r)/s+(n<r?6:0);break;case n:u=(r-e)/s+2;break;case r:u=(e-n)/s+4}u/=6}return t.number(o)||(o=pn),(o&h)<<23|(c*vn&h)<<16|(l*gn&h)<<9|u*mn&hn}function Z(e){var t=Math;return((e=t.max(0,t.min(e,255)))<16?"0":"")+e.toString(16)}function Y(e,t,n){var r=sn,o=Math,i=Cn,a=t<1?Tn:i;switch(n){case r.HEX:e=parseInt(e,16)/En*a;break;case r.NUMBER:e=1*e||0,t>2&&(e*=i);break;case r.PERCENT:e=1*e.substring(0,e.length-1)||0}return o.max(0,o.min(a,e||0))}function G(e,n,r,o){var i=xn;return t.number(o)||(o=Cn),(o&i)<<23|(r&i)<<16|(n&i)<<9|e&Sn}function J(e){var t=xn;return[e&Sn,e>>9&t,e>>16&t,e>>23&t]}function K(e){return"string"==typeof e&&(e=e.replace(An,""),On.test(e))?e:null}function ee(e){var n,r,o,i=zn,a=e.match(On),u=a[1];return t.contains(i,u)||(u="hex"),n=a[3],(r=!n)?(n=a[2]).length<6&&(o=n.charAt(2),n=[n.charAt(0),n.substring(0,2),n.charAt(1),o,o].join("")):n=n.split(","),[u,r,n]}function te(e){if(!t.string(e,!0))throw new Error(Mn);return(e=K(e))?ee(e)||null:null}function ne(e){var n,r,o,i,a,u,l,c,s,f,d=sn,h=d.PERCENT,p=d.NUMBER,m=d.HEX,g=Nn;if(!t.string(e,!0))throw new Error(Mn);if(e=K(e),n=e&&ee(e)){for(c=n[0],u=(l=zn[c]).itemize,f=[],s=n[1],a=n[2],r=-1,s?(f[3]=100,o=3):o=a.length;o--;){if(i=a[++r],s)i=a.substring(2*r,2*r+2);else if(!g.test(i))return null;f[r]=u(i,r,s?m:"%"===i.charAt(i.length-1)?h:p)}return l.toInteger.apply(l,f)}return null}function re(e,n){var r=zn;if(!t.number(e)||e<0)throw new Error("Invalid [colorValue] parameter.");if(arguments.length<2)n="hex";else if(!t.string(n))throw new Error("Invalid [type] parameter.");return t.contains(r,n)?(e=Math.round(e),r[n].toString(e)):null}function oe(e,n){var r=t.number(e),o=r||t.string(e),a=this[0],u=er;"opacity"===(n=i(n))?o?Kn(a,e):u(a,"filter",null):r&&Xn.test(n)?e+="px":r&&Un.test(n)&&(e=re(e,or)),o||(e=null),u(a,n,e),a=null}function ie(e){for(var t,n,r,o=tr,i=e.split(";"),a=-1,u=i.length,l={};u--;)n=(t=i[++a].split(":"))[0].replace(o,""),r=t.slice(1).join(":").replace(o,""),n&&r&&(l[n]=r);return l}function ae(){throw new Error(jt[2001])}function ue(){throw new Error(jt[2002])}function le(e,t,n,r){var o,i=t[n],a=parseFloat(i),u=i.split(Qn)[0];switch(u){case"in":return 96*a;case"pt":return 96*a/72;case"em":case"%":return r||(o=e.parentElement,r=qn.test(u)&&o?le(o,o.currentStyle,"fontSize",null):16,o=null),"em"===u?a*r:a/100*("fontSize"===n?r:Bn.test(n)?e[Hn]:e[Wn]);default:return a}}function ce(e,t){var n,r,o=e.offsetParent,i=o.currentStyle,a=yt.browser.ieVersion<9,u=parseFloat,l=kn,c=Dn,s=jn,f=Fn,d=Hn,h=Wn,p=e[Pn],m=e[Rn],g=o[d]-e[Ln],v=o[h]-e[Vn],w=e[d],b=e[h];switch(t.position){case"relative":if(p-=u(i[c])||0,m-=u(i[l])||0,a){for(n=e.parentNode;n!==o;n=n.parentNode)"static"===(r=n.currentStyle).position&&(p-=(u(r.paddingLeft)||0)+(u(r.borderLeftWidth)||0),m-=(u(r.paddingTop)||0)+(u(r.borderTopWidth)||0));o===e.ownerDocument.body&&(p-=u(i.marginLeft)||0,m-=u(i.marginTop)||0)}case"absolute":case"fixed":p-=u(i.borderLeftWidth)||0,m-=u(i.borderTopWidth)||0}return g-=p,v-=m,w-=(u(t[c])||0)+(u(t[f])||0),b-=(u(t[l])||0)+(u(t[s])||0),o=i=null,{left:p,top:m,right:g,bottom:v,width:w,height:b}}function se(){throw new Error(jt[2006])}function fe(e,r){var o=t.string;if(!F(e,1))throw new Error(rr);return o(r)&&(r=[r]),t.array(r)&&(e.className=a(e.className||"",r)),n()}function de(e,r){var o=t.string;if(!F(e,1))throw new Error(rr);if(!F(e,1))throw new Error(rr);return o(r)&&(r=[r]),t.array(r)&&(e.className=u(e.className,r)),n()}function he(e,r,o){var i;if(!F(e,1))throw new Error(rr);if(t.string(r)&&(arguments.length>2?((i={})[r]=o,r=i):r=ie(r)),!t.object(r))throw new Error(jt[1141]);return i=[e.style],t.each(r,oe,i,!0),i=i[0]=null,n()}function pe(e){if(!F(e,1))throw new Error(rr);return ie(e.style.cssText)}function me(e){var t,n=isFinite;switch(typeof e){case"number":if(n(e))return e;break;case"string":if(t=e.length,$n.test(e)&&"px"!==e.substring(t-2,t))return e;if("auto"===e||"inherit"===e)return e;if(e=parseFloat(e),n(e))return e}return null===e&&e}function ge(e){var t=Math,n=e,r=Ce();return P(n)&&(n=n.document),9===n.nodeType&&(n=n[Er],r[2]=t.max(n.scrollWidth,r[2]),r[3]=t.max(n.scrollHeight,r[3])),n=null,r}function ve(e,t,n){e.scrollTo(1*t,1*n)}function we(e){var t,n;return F(e,1,9)?9===e.nodeType?yr:(t=e.ownerDocument.body,n=(e===t||R(t,e))&&br,t=null,n):!!P(e)&&yr}function be(e,t,n){if(arguments.length>1)return Ee(e,t,n);switch(we(e)){case yr:return ge(e).slice(0,2);case br:return Tr(e).slice(0,2)}throw new Error(ur)}function ye(e,t,n){return arguments.length>1?Ee(e,null,null,t,n):we(e)===yr?ge(e).slice(2,4):Cr(e)}function Ee(e,t,r,o,i){var a,u,l;if(arguments.length>1)return(a=xe(e,t,r,null,null,o,i))&&he(e,a),n();if((u=we(e))===yr)return l=ge(e),t=l[0],r=l[1],o=l[2],i=l[3],l=Ce(e),[t,r,o-t-l[2],i-r-l[3],o,i];if(u!==br)throw new Error(ur);return l=Cr(e),o=l[0],i=l[1],l=Tr(e),l[4]=o,l[5]=i,l}function xe(n,r,o,i,a,u,l,c){var s,f,d,h,p=me,m=parseFloat,g=!1,v=g,w=g,b=g;if(we(n)!==br)throw new Error(ur);switch(t.array(r)&&(c=o,r.length>4?(l=5 in r?r[5]:null,u=4 in r?r[4]:null,a=3 in r?r[3]:null,i=2 in r?r[2]:null):(l=3 in r?r[3]:null,u=2 in r?r[2]:null,a=null,i=null),o=1 in o?r[1]:null,r=r[0]),t.object(c)||(c={}),(h=e.computedStyle(n,"position","top","left","right","bottom","width","height")).position){case"relative":case"absolute":case"fixed":r=p(r),o=p(o),i=p(i),a=p(a),v=!1!==o,w=!(g=!1!==r)&&!1!==i,b=!b&&!1!==a,(g||w||v||b)&&(d=Tr(n),g?c.left="number"==typeof r?(m(h.left)||0)+(r-d[0])+"px":r:w&&(c.right="number"==typeof i?(m(h.right)||0)+(i-d[2])+"px":i),v?c.top="number"==typeof o?(m(h.top)||0)+(o-d[1])+"px":o:b&&(c.bottom="number"==typeof i?(m(h.bottom)||0)+(a-d[3])+"px":a))}return u=p(u),(s=!1!==u)&&(c.width="number"==typeof u?m(h.width||0)+(u-n[fr])+"px":u),l=p(l),(f=!1!==l)&&(c.height="number"==typeof l?m(h.height||0)+(l-n[dr])+"px":l),g||w||v||b||s||f?c:null}function Se(e,n,r){var o,i,a=arguments.length>1,u=t.number,l=mr,c=gr;switch(a&&(u(n)||(n=!1),u(r)||(r=!1)),we(e)){case yr:if(i=F(e)?e[wr]:e,o=Sr(i),!a)return o;ve(i,!1===n?o[0]:n,!1===r?o[1]:r);break;case br:if(!a)return[e[c],e[l]];e[c]=!1===n?e[c]:n,e[l]=!1===r?e[l]:r;break;default:throw new Error(lr)}}function Te(r,o,i){var a=null,u=t.string,l=arguments.length,c=we(r)===br;return l>1?(a={},u(o)?a.visibility=o:"boolean"==typeof visiblity&&(a.visibility=o?"visible":"hidden"),!1===i&&(i="none"),u(i)&&(a.display=i),he(r,a),n()):!!c&&("none"!==(a=e.computedStyle(r,"display","visibility")).display&&"hidden"!==a.visibility)}function Ce(e){var t,n,r=e;return F(r,1,9)&&(r=(1===r.nodeType?r.ownerDocument:r)[on]),P(r)||(r=$e.window),t=Sr(r),n=Ir(r),t[2]=n[0],t[3]=n[1],r=null,t}function Ie(e,t){if(F(e,9)&&(e=e.body),!Te(e))throw new Error(jt[1101]);if(arguments.length<2&&(t=null),null!==t&&!Te(t))throw new Error(Mr);return Or(e,t),n()}function Me(e){if(!F(e,9)){if(arguments.length>0)throw new Error(jt[1104]);e=$e.document}return Nr(e),n()}function Oe(e,t){if(!F(e,1))throw new Error(Mr);return Ar(e,!1===t),n()}function Ne(e,t,n,r){return n*e/r+t}function Ae(e,t,n,r){return e/=r,n*e*e+t}function ze(e,t,n,r){return e/=r,-n*e*(e-2)+t}function je(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}function ke(){}function De(e){return t.string(e)&&(e=parseFloat(e)),t.number(e)&&e}function Fe(e,n,r){return t.each(r,Pe,[n,e],!0),e}function Pe(e,n,r){var o,i,a,u,l=this,c=De,s=l[0],f=l[1],d=f[0],h=f[1];if(!1!==(a=c(r[n]))){if(o=d.indexOf(n),i=t.contains(s,n)&&c(s[n]),u=!1===i,-1===o){if(u)return!0;d[o=d.length]=n}else u&&(i=h[o]);h[o]=i,f[2][o]=a}return!0}function Re(e){return function(t,n,r){var o=e,i=o.node;xe(i,"left"in t&&t.left,"top"in t&&t.top,"right"in t&&t.right,"bottom"in t&&t.bottom,"width"in t&&t.width,"height"in t&&t.height,t),he(i,t),n===r&&(i.removeAttribute(Fr),o.node=null,delete o.node),o=i=null}}function Le(t,n){for(var r,o,i=e.computedStyle(t,n),a=Ee,u=-1,l=n.length,c=me,s=Xn,f=Un,d=ne,h=Pr,p=null;l--;)o=i[r=n[++u]],_n.test(r)?(p||(p=a(t)),o=p[h[r]]):s.test(r)?o=c(o):f.test(r)&&(o=d(o)),i[r]=parseFloat(o)||0;return i}function Ve(e,n){var r=this,o=r[0],i=r[1],a=r[2],u=r[3],l=e;"opacity"===n?e=parseFloat(l):_n.test(n)||Xn.test(n)?e=me(l):Un.test(n)&&null===(e=ne(l))&&(e=!1),t.number(e)?(o[o.length]=n,i[n]=e):!1!==e&&(a[a.length]=n,u[n]=e)}function He(e,n,r,o,i){function a(){var e=a;g&&(p(g),delete d[g],delete e.session,delete e.update,delete e.running,g=null),e=null}var u,l,c=Math,s=Dr,f=t.object,d=Hr,h=Vr,p=clearInterval,m=setInterval,g=null,v=arguments.length,w=0;if(!t.method(e))throw new Error(jt[1151]);if(!f(n)||!f(r))throw new Error(jt[1152]);if(v<4)o=Rr;else if(!We(o))throw new Error(t.string[1153]);if(v<5)i=Lr;else if(!t.number(i)||i<=0)throw new Error(jt[1154]);return o=s[o],i*=1e3,u=c.max(10,c.round(i/h)),l=[[],[],[],n,a],g=m(function(){for(var t,n=l,r=n[0],i=n[1],c=n[2],s=u,f=++w,d=r.length,h={},p=o(f,0,1,s),m=f===s;d--;)t=i[d],h[r[d]]=(c[d]-t)*p+t;n[3]=h,e(h,f,s),m&&a()},h),a.session=g,a.update=function(e,t,n){var r=l,o=f;if(g){if(!o(e))throw new Error(jt[1152]);o(t)||(t=r[3]),Fe(r,t,e,n),w=0}},a.running=!0,d[g]=l,l=Fe(l,n,r),a}function We(e){return t.string(e)&&t.contains(Dr,e)}function Ue(e,n,r,o){var i,a,u,l,c,s,f=Fr,d=Rr,h=Lr,p=[[],{},[],{}],m=arguments.length,g=null;if(!t.object(n))throw new Error(jt[1152]);if(t.each(n,Ve,p),u=p[0],c=p[1],s=p[3],m<4&&(o=h,m<3&&(r=d)),!t.string(r,!0))throw new Error(t.string[1153]);if(We(r)||(r=d),!t.number(o)||o<=0)throw new Error(jt[1154]);return u.length&&(i=e.getAttribute(f),l=Le(e,u),i?(g=Hr[i][4]).update(c,l,r):(g=He(Re(a={node:e}),l,c,r,o),a.id=i=g.session,e.setAttribute(f,i))),p[2].length&&he(e,s),g||ke}var qe,$e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Be=null,Qe=$e,_e=!1;t.env.browser&&(qe=t.env.userAgent.match(/msie ([0-9]+\.[0-9]+)/i),_e={strict:"CSS1Compat"===Qe.document.compatMode,ieVersion:qe&&parseInt(qe[1],10)||0,ie8:!1}),Qe=null;var Xe=_e,Ze=$e,Ye=!1;Xe&&(Ye={w3c:!!Ze.addEventListener,ie:!!Ze.attachEvent,customEvent:!!Ze.CustomEvent}),Ze=null;var Ge,Je,Ke=Ye,et=$e,tt=!1;Xe&&(tt={compare:!!(Je=(Ge=et.document).documentElement).compareDocumentPosition,contains:!!Je.contains,defaultView:Ge.defaultView?"defaultView":Ge.parentWindow?"parentWindow":null,querySelectorAll:!!Ge.querySelectorAll,listToArray:Je.childNodes instanceof Object}),Ge=Je=null;var nt,rt,ot,it,at=tt,ut=$e,lt=!1;Xe&&(rt=(nt=ut.document).createElement("div").style,lt={w3cStyle:!!ut.getComputedStyle,ieStyle:!!nt.documentElement.currentStyle,setattribute:!!rt.setAttribute,setproperty:!!rt.setProperty,opacity:void 0!==rt.opacity,filterOpacity:void 0!==rt.filter,alphaColor:function(e){var n="rgba(0,0,0,0.5)";try{if(e.color=n,it=e.color,t.string(it)&&(it=it.replace(/[ \r\n\t\s]+/g,"").toLowerCase()),n===it)return!0}catch(e){}return!1}(rt),transition:function(e){var t=["OTransition","webkitTransition","MozTransition","transition"],n=t.length;for(n=t.length;n--;)if(ot=t[n],void 0!==e[ot])return ot;return!1}(rt)}),ut=nt=rt=null;var ct,st=lt,ft=$e,dt=!1;Xe&&(ct=Xe.ieVersion,dt={screensize:void 0!==ft.innerWidth,pagescroll:void 0!==ft.pageXOffset,rectmethod:!!ft.document.documentElement.getBoundingClientRect,zoomfactor:ct>0&&ct<8,ie8:8===ct}),ft=null;var ht,pt,mt,gt=dt,vt=!1;Xe&&(pt=(ht=$e.document).documentElement.style,mt="undefined",vt={range:!!ht.createRange,textrange:!!ht.createElement("input").createTextRange,cssUnselectable:typeof pt.MozUserSelect!==mt?"MozUserSelect":typeof pt.webkitUserSelect!==mt&&"webkitUserSelect"}),ht=pt=null;var wt=vt,bt=!1;Xe&&(bt={browser:Xe,event:Ke,dom:at,css:st,dimension:gt,selection:wt});var yt=bt,Et=/[ \r\n\t]*[ \r\n\t]+[ \r\n\t]*/,xt=/^([Mm]oz|[Ww]ebkit|[Mm]s|[oO])[A-Z]/,St=/[^\u0021-\u007e]|[\u003e\u003c\&\"\']/g,Tt=null;yt&&(Tt=$e.document.createElement("textarea"),t.register("libdom.event.global-destroy",o));var Ct,It,Mt,Ot,Nt,At,zt,jt={1001:"Invalid [name] parameter.",1011:"Invalid [handler] parameter.",1101:"Invalid DOM [element] parameter.",1102:"Invalid [dom] Object parameter.",1103:"Invalid DOM [node] parameter.",1104:"Invalid DOM [document] parameter.",1111:"Invalid CSS [selector] parameter.",1112:"Invalid tree traverse [callback] parameter.",1121:"Invalid DOM Element [config] parameter.",1131:"Invalid [observable] parameter.",1132:"Invalid Event [type] parameter.",1133:"Invalid Event [handler] parameter.",1141:"Invalid [style] Rule parameter.",1151:"Invalid Animation [callback] parameter.",1152:"Invalid Animation [displacements] parameter.",1153:"Invalid Animation [type] parameter.",1154:"Invalid Animation [duration] parameter.",2001:"Style Attribute manipulation is not supported",2002:"Computed style is not supported by this browser.",2003:"CSS Selector query form DOM is not supported.",2004:"DOM position comparison is not supported.",2005:"DOM selection not supported.",2006:"CSS Opacity is not supported by this browser"},kt=null,Dt=!1,Ft=t.middleware("libdom.event"),Pt={},Rt=jt[1131],Lt=jt[1132],Vt=jt[1133],Ht="on",Wt="beforeupdate",Ut="propertychange";if(Ct=It=Mt=Ot=null,Nt=yt&&yt.event){switch(At=!0,!0){case Nt.w3c:It=function(e,t,n,r){var o=d(n,r);return e.addEventListener(t,o,!1),[e,t,n,r,o]},Mt=function(e,t,n){e.removeEventListener(t,n,!1)},Ot=function(e,n,r){var o,i=t.contains,a=$e.document.createEvent("Event");a.initEvent(n,"bubbles"in r&&!0===r.bubbles,"cancelable"in r&&!1!==r.cancelable);for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return e.dispatchEvent(a),a},Ct=function(e){var n=t.method;return!!(e&&"object"==typeof e&&n(e.addEventListener)&&n(e.removeEventListener)&&n(e.dispatchEvent))&&e};break;case Nt.ie:It=function(e,t,n,r){var o,i=Ht;return w(e,t)?(o=p(t,n,r),e.attachEvent(i+Wt,o),e.attachEvent(i+Ut,o)):(o=h(n,r),e.attachEvent(i+t,o)),[e,t,n,r,o]},Mt=function(e,t,n){var r=Ht;n.customType?(e.detachEvent(r+Wt,n),e.detachEvent(r+Ut,n)):e.detachEvent(r+t,n)},Ot=function(e,n,r){var o,i=t.contains,a=$e.document.createEventObject();for(o in r)!i(r,o)||o in a||(a[o]=r[o]);return w(e,n)&&(a.customType=n,n=!0===r.bubbles?Wt:Ut),o=Ht+n,e.fireEvent(o,a),!1===r.cancelable&&(a.returnValue=!0),a},Ct=function(e){return!!(e&&(e=e.window?e.self:e).attachEvent&&e.detachEvent)&&e};break;default:At=!1}At&&(y(zt=$e,"beforeunload",b),y(zt,"unload",b),zt=null)}var qt=1,$t=2,Bt=3;e.select=function(){throw new Error(jt[2003])};var Qt,_t=jt[1101],Xt=jt[1103],Zt=jt[1111],Yt=jt[1112],Gt=jt[1121],Jt={4:{1:1,11:1},8:{1:1,11:1},1:{1:1,9:1,11:1},7:{1:1,11:1},3:{1:1,11:1}},Kt=C,en=/(^\_|[^a-zA-Z\_])/,tn=["nodeType","nodeValue","ownerDocument","tagName","attributes","parentNode","childNodes","firstChild","lastChild","previousSibling","nextSibling","sourceIndex","type"],nn=/^on(\-?[a-zA-Z].+)?$/,rn=t.createRegistry();(Qt=yt&&yt.dom)&&(Kt=Qt.compare?function(e,t){return(16&e.compareDocumentPosition(t))>0}:Qt.contains?function(e,t){return e.contains(t)}:C,Qt.querySelectorAll&&(e.select=Qt.listToArray?function(e,n){if(!F(e,9,1))throw new Error(Xt);if(!t.string(n))throw new Error(Zt);return Array.prototype.slice.call(e.querySelectorAll(n))}:function(e,n){var r,o,i,a;if(!F(e,9,1))throw new Error(Xt);if(!t.string(n))throw new Error(Zt);for(r=e.querySelectorAll(n),o=-1,(a=[]).length=i=r.length;i--;)a[++o]=r[o];return r=null,a}));var on="defaultView",an=1,un=2,ln=3,cn=/\%$/,sn={NUMBER:an,HEX:un,PERCENT:ln,format:function(e,t){switch(t){case un:return parseInt(e,16)||0;case an:return(e*=1)||0;case ln:return e=cn.test(e)?1*e.substring(0,e.length-1):1*e,Math.round(100*(e||1))}return 0}},fn=255,dn=127,hn=511,pn=100,mn=360,gn=pn,vn=pn,wn=Object.freeze({itemize:Q,toArray:_,toInteger:X,toString:function(e){var t=_(e),n=t[3]/pn;return t[3]=parseFloat(n.toFixed(2)),"rgba("+t.join(",")+")"}}),bn=Object.freeze({toHex:Z,toString:function(e){var t=Z,n=_(e).slice(0,3);return n[0]=t(n[0]),n[1]=t(n[1]),n[2]=t(n[2]),"#"+n.join("")},itemize:Q,toArray:_,toInteger:X}),yn=Object.freeze({toString:function(e){return"rgb("+_(e).slice(0,3).join(",")+")"},toInteger:function(e,t,n){return X(e,t,n,100)},itemize:Q,toArray:_}),En=255,xn=127,Sn=511,Tn=360,Cn=100,In=Object.freeze({itemize:Y,toInteger:G,toArray:J,toString:function(e){var t=J(e);return t[1]+="%",t[2]+="%",t[3]=t[3]/Cn,"hsla("+t.join(",")+")"}}),Mn="Invalid [subject] parameter.",On=/^(\#?|rgba?|hsla?)(\(([^\,]+(\,[^\,]+){2,3})\)|[a-f0-9]{3}|[a-f0-9]{6})$/,Nn=/^[0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*$/,An=/[ \r\n\t\s]+/g,zn={rgb:yn,rgba:wn,hsl:Object.freeze({toString:function(e){var t=J(e).slice(0,3);return t[1]+="%",t[2]+="%","hsl("+t.join(",")+")"},itemize:Y,toArray:J,toInteger:G}),hsla:In,hex:bn},jn="paddingBottom",kn="paddingTop",Dn="paddingLeft",Fn="paddingRight",Pn="offsetLeft",Rn="offsetTop",Ln="offsetWidth",Vn="offsetHeight",Hn="clientWidth",Wn="clientHeight",Un=/[Cc]olor$/,qn=/%|em/,$n=/^([0-9]*\.?[0-9]+|[0-9]+\.?[0-9]*)(em|px|\%|pt|vh|vw|cm|ex|in|mm|pc|vmin)$/,Bn=/width/i,Qn=/\d/,_n=/(top|bottom|left|right|width|height)$/,Xn=/([Tt]op|[Bb]ottom|[Ll]eft|[Rr]ight|[wW]idth|[hH]eight|Size|Radius)$/,Zn=/\(opacity\=([0-9]+)\)/i,Yn="alpha(opacity=$opacity)",Gn=/\$opacity/,Jn=se,Kn=se,er=ae,tr=/^\s+|\s+$/g;e.computedStyle=ue;var nr,rr=jt[1101],or="hex",ir=Array.prototype.slice;I("className",fe),I("style",function(){return arguments.length>1?he.apply(this,arguments):pe.apply(this,arguments)}),(nr=yt&&yt.css)&&(e.computedStyle=nr.w3cStyle?function(e,n){var r,o,a,u,l,c,s,f=i,d=t.string;if(!F(e,1))throw new Error(rr);for(r=$e.getComputedStyle(e),c={},t.array(n)||(n=ir.call(arguments,1)),o=-1,a=n.length;a--;)if(u=n[++o],d(u)){switch(s=f(u)){case"opacity":l=Jn(r);break;default:l=r[s]}c[u]=l}return r=null,c}:nr.ieStyle?function(e,n){var r,o,a,u,l,c,s,f,d,h=Xn,p=_n,m=t.string,g=i,v=Jn,w=le;if(!F(e,1))throw new Error(rr);for(r=e.currentStyle,s=!1,d=!1,f={},t.array(n)||(n=ir.call(arguments,1)),o=-1,a=n.length;a--;)if(u=n[++o],m(u)){switch(c=g(u),!0){case"opacity"===c:l=v(r);break;case p.test(c):d||(d=ce(e,r)),l=d[c]+"px";break;case h.test(c)&&"auto"!==r[c]:!1===s&&(s=w(e,r,"fontSize",null)),l=w(e,r,c,s)+"px";break;case"float"===c:l=r.styleFloat;break;default:l=r[c]}f[u]=l}return r=l=null,f}:ue,nr.setattribute?(er=function(e,t,n){null===n?e.removeAttribute(t):e[t]=n},function(e,t){return e.getAttribute(t)}):nr.setproperty&&(er=function(e,t,n){null===n?e.removeProperty(t):e[t]=n},function(e,t){return e.getPropertyValue(t)}),nr.opacity?(Jn=function(e){var n=parseFloat(e.opacity);return t.number(n)?n:1},Kn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.opacity=r.min(1,r.max(0,n)).toFixed(2))}):nr.filterOpacity&&(Jn=function(e){var n,r=Math,o=Zn,i=e.filter;return t.string(i)&&o.test(i)?(n=i.match(o),n=parseFloat(n[1]),r.max(1,r.min(100,t.number(n)?n:100))/100):1},Kn=function(e,n){var r=Math;t.string(n)&&(n=parseFloat(n)),t.number(n)&&(e.filter=Yn.replace(Gn,r.min(100,r.max(0,r.round(100*n))).toString(10)))}),nr.alphaColor&&(or="rgba"));var ar,ur=jt[1101],lr=jt[1102],cr="offsetTop",sr="offsetLeft",fr="offsetWidth",dr="offsetHeight",hr="marginTop",pr="marginLeft",mr="scrollTop",gr="scrollLeft",vr="getBoundingClientRect",wr=null,br=1,yr=2,Er="documentElement",xr=!1,Sr=null,Tr=null,Cr=null,Ir=null;(ar=yt&&yt.dimension)&&(yt.browser.strict||(Er="body"),ar.zoomfactor,wr=yt.dom.defaultView,yt.browser.ieVersion,Sr=ar.pagescroll?function(e){return[e.pageXOffset||0,e.pageYOffset||0]}:function(e){var t=Math,n=e.document[Er],r=[t.round(n[gr]/1),t.round(n[mr]/1)];return n=null,r},Ir=ar.screensize?function(e){return[e.innerWidth,e.innerHeight]}:function(e){var t=e.document[Er],n=[1*t.clientWidth,1*t.clientHeight];return t=null,n},xr=ar.rectmethod&&vr,Tr=xr?function(e,t){var n=Ce(e),r=t||e[vr](),o=ar.zoomfactor?($e.window.document[Er],1):1,i=n[0],a=n[1],u=[r.left*o+i,r.top*o+a,r.right*o-n[2],r.bottom*o-n[3]];return r=null,u}:function(t){var n=$e.document[Er],r=n.body,o=cr,i=sr,a=hr,u=pr,l=mr,c=gr,s=[u,a],f=t.offsetParent,d=e.computedStyle,h=d(t,[s]),p=Ce(t),m=t[i],g=t[o];for(m+=parseFloat(h[u])||0,g+=parseFloat(h[a])||0;f;f=f.offsetParent)1===f.nodeType&&(h=d(f,s),m+=(f[i]||0)+(f.clientLeft||0)+(parseFloat(h[u])||0),g+=(f[o]||0)+(f.clientTop||0)+(parseFloat(h[a])||0));for(f=t.parentNode;f&&f!==r;f=f.parentNode)1===f.nodeType&&f!==n&&(m+=f[c]||0,g+=f[l]||0);return n=f=r=null,[m,g,m+t[fr]-p[2],g+t[dr]-p[3]]},Cr=xr?function(e,t){var n=Math,r=t||e[vr](),o=[n.max(0,r.width||0),n.max(0,r.height||0)];return r=null,o}:function(e){var t=Math;return[t.max(0,e[fr]||0),t.max(0,e[dr]||0)]});var Mr=jt[1102],Or=null,Nr=null,Ar=function(e,t){e.unselectable=t?"off":"on"},zr=null,jr=null,kr=null;yt&&(jr=yt.dom,kr=(zr=yt.selection).cssUnselectable,zr.range?(Or=function(e,t){var n=e.ownerDocument,r=n.createRange(),o=n.createRange(),i=n[jr.defaultView].getSelection();r.selectNodeContents(e),t&&o.selectNodeContents(t),i.addRange(r),t&&i.addRange(o),n=i=r=o=null},Nr=function(e){e[jr.defaultView].getSelection().removeAllRanges()}):zr.textrange?(Or=function(e,t){var n,r=e.ownerDocument.body,o=r.createTextRange();o.moveToElementText(e),t&&((n=r.createTextRange()).moveToElementText(t),o.setEndPoint("EndToEnd",n)),o.select(),r=n=o=null},Nr=function(e){e.selection.empty()}):Or=Nr=function(){throw new Error(jt[2005])},kr&&(Ar="MozUserSelect"===kr?function(e,t){e.style.MozUserSelect=t?"text":"none"}:function(e,t){e.style.webkitUserSelect=t?"text":"none"}));var Dr=Object.freeze({linear:Ne,easeIn:Ae,easeOut:ze,easeInOut:je,linearTween:Ne,easeInQuad:Ae,easeOutQuad:ze,easeInOutQuad:je,easeInCubic:function(e,t,n,r){return e/=r,n*e*e*e+t},easeOutCubic:function(e,t,n,r){return e/=r,e--,n*(e*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)},easeInQuart:function(e,t,n,r){return e/=r,n*e*e*e*e+t},easeOutQuart:function(e,t,n,r){return e/=r,e--,-n*(e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)},easeInQuint:function(e,t,n,r){return e/=r,n*e*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return e/=r,e--,n*(e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)},easeInSine:function(e,t,n,r){var o=Math;return-n*o.cos(e/r*(o.PI/2))+n+t},easeOutSine:function(e,t,n,r){var o=Math;return n*o.sin(e/r*(o.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=Math;return-n/2*(o.cos(o.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var o=Math;return(e/=r/2)<1?n/2*o.pow(2,10*(e-1))+t:(e--,n/2*(2-o.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,r){return e/=r,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,r){return e/=r,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,r){var o=Math;return(e/=r/2)<1?-n/2*(o.sqrt(1-e*e)-1)+t:(e-=2,n/2*(o.sqrt(1-e*e)+1)+t)}}),Fr="__animate_session",Pr={left:0,top:1,right:2,bottom:3,width:4,height:5},Rr="easeOut",Lr=.5,Vr=10,Hr={},Wr=Object.freeze({env:t.env,info:yt,xmlEncode:c,xmlDecode:l,is:F,isView:P,contains:R,get select(){return e.select},add:L,move:H,replace:W,remove:V,eachNodePreorder:U,eachNodePostorder:q,eachNodeLevelorder:$,addClass:fe,removeClass:de,get computedStyle(){return e.computedStyle},stylize:he,stylify:pe,on:y,un:E,purge:S,dispatch:x,destructor:T,offset:be,size:ye,box:Ee,scroll:Se,screen:Ce,highlight:Ie,unhighlightable:Oe,clearHighlight:Me,parseColor:ne,parseColorType:te,formatColor:re,transition:He,animateStyle:Ue});$e.libdom=Wr,function(e){Be=e}(Wr),e.default=Wr,e.env=t.env,e.info=yt,e.xmlEncode=c,e.xmlDecode=l,e.is=F,e.isView=P,e.contains=R,e.add=L,e.move=H,e.replace=W,e.remove=V,e.eachNodePreorder=U,e.eachNodePostorder=q,e.eachNodeLevelorder=$,e.addClass=fe,e.removeClass=de,e.stylize=he,e.stylify=pe,e.on=y,e.un=E,e.purge=S,e.dispatch=x,e.destructor=T,e.offset=be,e.size=ye,e.box=Ee,e.scroll=Se,e.screen=Ce,e.highlight=Ie,e.unhighlightable=Oe,e.clearHighlight=Me,e.parseColor=ne,e.parseColorType=te,e.formatColor=re,e.transition=He,e.animateStyle=Ue,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=libdom.min.js.map
